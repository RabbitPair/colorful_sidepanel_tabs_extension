!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="ec5416e1-cd20-4c5d-8e0e-d75e9f2f8a3f",t._sentryDebugIdIdentifier="sentry-dbid-ec5416e1-cd20-4c5d-8e0e-d75e9f2f8a3f")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"118a70cb7e936c89b1799a89e3ae8ccc07373428"},(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}var i,a=function(){return t=function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance)return t.instance;this.videos=new Set,this._currentMainVideo=null,this._currentMainVideoWrapper=null,this._currentMainVideoWrapperSelector=null,this._currentMainVideoInViewport=!1,this.intersectionObserver=null,this.mutationObserver=null,this.checkTimeout=null,this.eventListeners={},this.mainVideoEventListeners={},this._initialized=!1,t.instance=this},n=[{key:"init",value:function(){var t=this;document.body?this.initializeTracker():window.addEventListener("DOMContentLoaded",(function(){return t.initializeTracker()}))}},{key:"initializeTracker",value:function(){this._initialized||(this.setupMutationObserver(),this.setupIntersectionObserver(),this.findAllVideos(),this.setupVideoListeners(),window.addEventListener("scroll",this.throttle(this.checkMainVideo.bind(this),200)),this.checkMainVideo(),this._initialized=!0,this.emit("initialized"))}},{key:"findAllVideos",value:function(){var t=this;document.querySelectorAll("video").forEach((function(e){return t.addVideo(e)}))}},{key:"setupIntersectionObserver",value:function(){var t=this;this.intersectionObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(e.target===t._currentMainVideo&&(t._currentMainVideoInViewport=!0,t.emit("mainVideoIntersecting",e.target)),t.checkMainVideo()):e.target===t._currentMainVideo&&(t._currentMainVideoInViewport=!1,t.emit("mainVideoNotIntersecting",e.target))}))}),{root:null,rootMargin:"0px",threshold:.5})}},{key:"setupVideoListeners",value:function(){var t=this;this.videos.forEach((function(e){return t.addVideoListeners(e)}))}},{key:"addVideoListeners",value:function(t){var e=this;if(!t._videoEventListeners){var n={play:function(){return e.checkMainVideo()},pause:function(){return e.checkMainVideo()},ended:function(){return e.handleVideoEnded(t)},error:function(n){return e.handleVideoError(t,n)}};t._videoEventListeners=n,Object.keys(n).forEach((function(e){t.addEventListener(e,n[e])}))}}},{key:"handleVideoEnded",value:function(t){var e=this;this.emit("videoEnded",t),this.checkTimeout&&clearTimeout(this.checkTimeout),this.checkTimeout=setTimeout((function(){e.checkMainVideo()}),3e3)}},{key:"handleVideoError",value:function(t,e){this.emit("videoError",{video:t,error:e})}},{key:"setupMutationObserver",value:function(){var t=this;this.mutationObserver=new MutationObserver((function(e){var n=!1;e.forEach((function(e){"childList"===e.type?(e.addedNodes.forEach((function(e){"VIDEO"===e.nodeName?(t.addVideo(e),n=!0):e.nodeType===Node.ELEMENT_NODE&&e.querySelectorAll("video").forEach((function(e){t.addVideo(e),n=!0}))})),e.removedNodes.forEach((function(e){"VIDEO"===e.nodeName?(t.removeVideo(e),n=!0):e.nodeType===Node.ELEMENT_NODE&&e.querySelectorAll("video").forEach((function(e){t.removeVideo(e),n=!0}))}))):"attributes"===e.type&&"VIDEO"===e.target.nodeName&&"src"===e.attributeName&&(t.handleVideoSourceChange(e.target),n=!0)})),n&&t.checkMainVideo()})),document.body&&this.mutationObserver.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src"]})}},{key:"handleVideoSourceChange",value:function(t){this.emit("videoSourceChanged",t)}},{key:"addVideo",value:function(t){this.videos.has(t)||(this.videos.add(t),this.intersectionObserver.observe(t),this.addVideoListeners(t),this.emit("videoAdded",t))}},{key:"removeVideo",value:function(t){this.videos.has(t)&&(this.videos.delete(t),this.intersectionObserver.unobserve(t),t._videoEventListeners&&(Object.keys(t._videoEventListeners).forEach((function(e){t.removeEventListener(e,t._videoEventListeners[e])})),delete t._videoEventListeners),this.emit("videoRemoved",t),this._currentMainVideo===t&&(this._currentMainVideo=null,this._currentMainVideoInViewport=!1,this.checkMainVideo()))}},{key:"checkMainVideo",value:function(){var t,n=0,r=null,o=e(this.videos);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(!i.paused&&!i.ended){var a=this.getVisibleArea(i.getBoundingClientRect());a>n&&(n=a,r=i)}}}catch(t){o.e(t)}finally{o.f()}if(r&&r!==this._currentMainVideo){var c=this._currentMainVideo;this._currentMainVideo=r,this._currentMainVideoWrapper=this.findVideoWrapper(r),this._currentMainVideoWrapperSelector=this.findVideoWrapperSelector(r),this._currentMainVideoInViewport=this.isInViewport(r),this.emit("mainVideoChanged",{previous:c,current:r}),this.setupMainVideoListeners(r)}else r||(this._currentMainVideoInViewport=!1)}},{key:"findVideoWrapper",value:function(t){return t.parentElement}},{key:"findVideoWrapperSelector",value:function(t){var n=t.parentElement;if(!n)return null;var r="";if(n.id)r="#".concat(CSS.escape(n.id));else{r=n.tagName.toLowerCase(),n.className&&(r+=n.className.split(" ").filter((function(t){return""!==t.trim()})).map((function(t){return".".concat(CSS.escape(t))})).join(""));var o=Array.from(n.parentNode.children),i=o.indexOf(n)+1;(i>1||o.length>1)&&(r+=":nth-child(".concat(i,")"))}var a,c=e(n.attributes);try{for(c.s();!(a=c.n()).done;){var u=a.value;u.name.startsWith("data-")&&(r+="[".concat(u.name,'="').concat(CSS.escape(u.value),'"]'))}}catch(t){c.e(t)}finally{c.f()}return r}},{key:"setupMainVideoListeners",value:function(t){var e=this;if(t){this.removeMainVideoListeners(t);var n=function(n){return e.emit("mainVideoUpdated",n,t)};this.mainVideoEventListeners={play:function(){e.emit("mainVideoPlay",t),n("mainVideoPlay")},pause:function(){e.emit("mainVideoPause",t),n("mainVideoPause")},ended:function(){e.emit("mainVideoEnded",t),n("mainVideoEnded")},timeupdate:function(){e.emit("mainVideoTimeUpdate",t),n("mainVideoTimeUpdate")},volumechange:function(){e.emit("mainVideoVolumeChange",t),n("mainVideoVolumeChange")},ratechange:function(){e.emit("mainVideoRateChange",t),n("mainVideoRateChange")},seeked:function(){e.emit("mainVideoSeeked",t),n("mainVideoSeeked")},seeking:function(){e.emit("mainVideoSeeking",t),n("mainVideoSeeking")},stalled:function(){e.emit("mainVideoStalled",t),n("mainVideoStalled")},suspend:function(){e.emit("mainVideoSuspend",t),n("mainVideoSuspend")},progress:function(){var n=t.buffered,r=t.duration;if(n.length){var o=n.end(n.length-1)/r*100;e.emit("mainVideoProgress",{video:t,percent:o,readyState:t.readyState})}}},Object.keys(this.mainVideoEventListeners).forEach((function(n){t.addEventListener(n,e.mainVideoEventListeners[n])}))}}},{key:"removeMainVideoListeners",value:function(t){var e=this;t&&this.mainVideoEventListeners&&Object.keys(this.mainVideoEventListeners).forEach((function(n){t.removeEventListener(n,e.mainVideoEventListeners[n])}))}},{key:"getVisibleArea",value:function(t){var e=window.innerHeight,n=Math.max(t.top,0),r=Math.min(t.bottom,e);return Math.max(0,r-n)*t.width}},{key:"isInViewport",value:function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"on",value:function(t,e){this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].push(e)}},{key:"off",value:function(t,e){this.eventListeners[t]&&(this.eventListeners[t]=this.eventListeners[t].filter((function(t){return t!==e})))}},{key:"emit",value:function(t,e){this.eventListeners[t]&&this.eventListeners[t].forEach((function(t){return t(e)}))}},{key:"throttle",value:function(t,e){var n;return function(){var r=arguments;n||(t.apply(this,r),n=!0,setTimeout((function(){return n=!1}),e))}}},{key:"currentMainVideo",get:function(){return this._currentMainVideo},set:function(t){var e=this._currentMainVideo;this._currentMainVideo=t,this.emit("mainVideoChanged",{previous:e,current:t})}},{key:"currentMainVideoWrapper",get:function(){return this._currentMainVideoWrapper}},{key:"currentMainVideoWrapperSelector",get:function(){return this._currentMainVideoWrapperSelector}},{key:"currentMainVideoInViewport",get:function(){return this._currentMainVideoInViewport}}],n&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new V(r||[]);return o(a,"_invoke",{value:j(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function b(){}function w(){}function x(){}var k={};d(k,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(T([])));S&&S!==n&&r.call(S,a)&&(k=S);var L=x.prototype=b.prototype=Object.create(k);function _(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,i,a,u){var s=p(t[o],t,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==c(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,n,r){var o=h;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=M(c,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=p(e,n,r);if("normal"===s.type){if(o=r.done?y:v,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=y,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},_(P.prototype),d(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new P(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(L),d(L,l,"Generator"),d(L,a,(function(){return this})),d(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,V.prototype={constructor:V,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function s(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}var d=function(){return i||(i=new a).init(),i};function f(){if(document.pictureInPictureElement)return document.exitPictureInPicture(),!0;!function(){m.apply(this,arguments)}()}function p(){return!!document.pictureInPictureElement&&(document.exitPictureInPicture(),!0)}function h(){return v.apply(this,arguments)}function v(){return(v=l(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.userActivation.isActive,null!==(n=null===(e=d())||void 0===e?void 0:e.currentMainVideo)&&!0!==(null==n?void 0:n.paused)&&!0!==(null==n?void 0:n.muted)){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n){t.next=17;break}if(n.hasAttribute("disablePictureInPicture")&&n.removeAttribute("disablePictureInPicture"),!document.pictureInPictureElement){t.next=9;break}return t.abrupt("return",!1);case 9:return t.prev=9,t.next=12,n.requestPictureInPicture();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(9);case 17:return t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[9,14]])})))).apply(this,arguments)}function m(){return(m=l(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=null===(e=d())||void 0===e?void 0:e.currentMainVideo)){t.next=4;break}return t.abrupt("return",!1);case 4:if(!n){t.next=14;break}return n.hasAttribute("disablePictureInPicture")&&n.removeAttribute("disablePictureInPicture"),t.prev=6,t.next=9,n.requestPictureInPicture();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6);case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[6,11]])})))).apply(this,arguments)}function y(){for(var t={},e=0;e<localStorage.length;e++){var n=localStorage.key(e),r=localStorage.getItem(n);t[n]=r}return t}function g(){for(var t={},e=0;e<sessionStorage.length;e++){var n=sessionStorage.key(e),r=sessionStorage.getItem(n);t[n]=r}return t}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new V(r||[]);return o(a,"_invoke",{value:j(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function x(){}var k={};s(k,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(T([])));S&&S!==n&&r.call(S,a)&&(k=S);var L=x.prototype=y.prototype=Object.create(k);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==b(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=M(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(b(e)+" is not iterable")}return g.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:g,configurable:!0}),g.displayName=s(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},_(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new P(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,V.prototype={constructor:V,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function x(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,c,"next",t)}function c(t){x(i,r,o,a,c,"throw",t)}a(void 0)}))}}var E=[/Could not establish connection. Receiving end does not exist/,/The message port closed before a response was received/,/A listener indicated an asynchronous response by returning true/],S=function(t){return E.some((function(e){return"string"==typeof e?t.includes(e):e.test(t)}))},L=function(){var t=k(w().mark((function t(e){var n,r,o,i,a=arguments;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2?a[2]:void 0,o=a.length>3?a[3]:void 0,t.prev=3,t.next=6,chrome.runtime.sendMessage({action:e,data:n,from:r,target:o});case 6:return i=t.sent,t.abrupt("return",i);case 10:return t.prev=10,t.t0=t.catch(3),S(t.t0.message),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function P(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */P=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new V(r||[]);return o(a,"_invoke",{value:j(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==_(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=M(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(_(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,V.prototype={constructor:V,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function j(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function M(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){j(i,r,o,a,c,"next",t)}function c(t){j(i,r,o,a,c,"throw",t)}a(void 0)}))}}function O(){if(!document.getElementById("sidepanel-ball-container")){var t=function(t){var e=s+t.clientY-u,n=window.innerHeight-r.clientHeight;e>=0&&e<=n&&(r.style.top=e+"px")},e=function(){var n=r.offsetTop/window.innerHeight*100+"%";localStorage.setItem("sidepanelBallTopPercent",n),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)},n=function(){document.fullscreenElement||setTimeout((function(){a(),setTimeout((function(){c()}),2e3)}),1e3)},r=document.createElement("div");r.id="sidepanel-ball-container",r.style.position="fixed",r.style.top="30%",r.style.right="0px",r.style.zIndex="2147483647";var o=document.createElement("div");o.id="fab",o.style.width="32px",o.style.height="32px",o.style.backgroundColor="#ff4081",o.style.borderRadius="32px 0 0 32px",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="flex-start",o.style.boxShadow="0px 3px 5px rgba(0,0,0,0.3)",o.style.cursor="pointer",o.style.transition="transform 0.3s",o.style.opacity="0.1";var i=document.createElement("div");i.id="fab-icon",i.style.width="24px",i.style.height="24px",i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.margin="0 8px",i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#FFF"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm540-453h100v-107H700v107Zm0 186h100v-106H700v106ZM160-240h460v-480H160v480Zm540 0h100v-107H700v107Z"/></svg>',o.appendChild(i),r.appendChild(o),document.body.appendChild(r);var a=function(){o.style.width="54px",o.style.transition="width 0.2s",setTimeout((function(){o.style.opacity="1"}),300)},c=function(){o.style.width="32px",o.style.transition="width 0.2s",o.style.opacity="0.3"};setTimeout((function(){c()}),1500),o.addEventListener("mouseenter",a),o.addEventListener("mouseleave",c),o.addEventListener("click",M(P().mark((function t(){return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.style.transform="scale(1)",Ir(),r.remove();case 3:case"end":return t.stop()}}),t)}))));var u,s,l=localStorage.getItem("sidepanelBallTopPercent");null!==l&&(r.style.top=l),o.addEventListener("mousedown",(function(n){u=n.clientY,s=r.offsetTop,document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)})),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)})),document.removeEventListener("fullscreenchange",n),document.addEventListener("fullscreenchange",n)}}function C(){var t=document.getElementById("sidepanel-ball-container");t&&t.remove()}const V=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const T="object"==typeof global&&global&&global.Object===Object&&global;var I="object"==typeof self&&self&&self.Object===Object&&self;const A=T||I||Function("return this")();const q=function(){return A.Date.now()};var N=/\s/;const F=function(t){for(var e=t.length;e--&&N.test(t.charAt(e)););return e};var B=/^\s+/;const H=function(t){return t?t.slice(0,F(t)+1).replace(B,""):t};const R=A.Symbol;var W=Object.prototype,D=W.hasOwnProperty,G=W.toString,z=R?R.toStringTag:void 0;const U=function(t){var e=D.call(t,z),n=t[z];try{t[z]=void 0;var r=!0}catch(t){}var o=G.call(t);return r&&(e?t[z]=n:delete t[z]),o};var Z=Object.prototype.toString;const Y=function(t){return Z.call(t)};var K=R?R.toStringTag:void 0;const J=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":K&&K in Object(t)?U(t):Y(t)};const $=function(t){return null!=t&&"object"==typeof t};const X=function(t){return"symbol"==typeof t||$(t)&&"[object Symbol]"==J(t)};var Q=/^[-+]0x[0-9a-f]+$/i,tt=/^0b[01]+$/i,et=/^0o[0-7]+$/i,nt=parseInt;const rt=function(t){if("number"==typeof t)return t;if(X(t))return NaN;if(V(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=V(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=H(t);var n=tt.test(t);return n||et.test(t)?nt(t.slice(2),n?2:8):Q.test(t)?NaN:+t};var ot=Math.max,it=Math.min;const at=function(t,e,n){var r,o,i,a,c,u,s=0,l=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function h(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-s>=i}function v(){var t=q();if(h(t))return m(t);c=setTimeout(v,function(t){var n=e-(t-u);return d?it(n,i-(t-s)):n}(t))}function m(t){return c=void 0,f&&r?p(t):(r=o=void 0,a)}function y(){var t=q(),n=h(t);if(r=arguments,o=this,u=t,n){if(void 0===c)return function(t){return s=t,c=setTimeout(v,e),l?p(t):a}(u);if(d)return clearTimeout(c),c=setTimeout(v,e),p(u)}return void 0===c&&(c=setTimeout(v,e)),a}return e=rt(e)||0,V(n)&&(l=!!n.leading,i=(d="maxWait"in n)?ot(rt(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},y.flush=function(){return void 0===c?a:m(q())},y};const ct=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)};const ut=function(t){return t};const st=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var lt=Math.max;const dt=function(t,e,n){return e=lt(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=lt(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),st(t,this,c)}};const ft=function(t){return function(){return t}};const pt=function(t){if(!V(t))return!1;var e=J(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const ht=A["__core-js_shared__"];var vt,mt=(vt=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||""))?"Symbol(src)_1."+vt:"";const yt=function(t){return!!mt&&mt in t};var gt=Function.prototype.toString;const bt=function(t){if(null!=t){try{return gt.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var wt=/^\[object .+?Constructor\]$/,xt=Function.prototype,kt=Object.prototype,Et=xt.toString,St=kt.hasOwnProperty,Lt=RegExp("^"+Et.call(St).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const _t=function(t){return!(!V(t)||yt(t))&&(pt(t)?Lt:wt).test(bt(t))};const Pt=function(t,e){return null==t?void 0:t[e]};const jt=function(t,e){var n=Pt(t,e);return _t(n)?n:void 0};const Mt=function(){try{var t=jt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const Ot=Mt?function(t,e){return Mt(t,"toString",{configurable:!0,enumerable:!1,value:ft(e),writable:!0})}:ut;var Ct=Date.now;const Vt=function(t){var e=0,n=0;return function(){var r=Ct(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ot);const Tt=function(t,e){return Vt(dt(t,e,ut),t+"")}((function(t,e,n){return ct(t,rt(e)||0,n)}));var It=function(t){if(null==t)return"00:00";var e=Number(t);if(isNaN(e)||e<0)return"00:00";if(e===1/0||t>86400)return"∞";var n=Math.floor(e),r=Math.floor(n/3600),o=Math.floor(n%3600/60),i=n%60;return r>0?"".concat(String(r).padStart(2,"0"),":").concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0")):"".concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0"))};function At(t){var e=t.getBoundingClientRect();if(e.width<200||e.height<200||e.width>e.height&&e.height/e.width>2.4)return!1;var n=e.right>=.75*window.innerWidth&&e.bottom>=.75*window.innerHeight,r=e.width*e.height<=window.innerWidth*window.innerHeight*.25;return(!n||!r)&&!!(t.duration>=10||t.duration===1/0||isNaN(t.duration))}function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Nt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ft(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Bt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Bt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==qt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(qt(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Ht(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Rt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ht(i,r,o,a,c,"next",t)}function c(t){Ht(i,r,o,a,c,"throw",t)}a(void 0)}))}}var Wt=null,Dt=function(){var t=Rt(Bt().mark((function t(){var e,n,r,o=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:5,!(r=(n=function(){return Array.from(document.querySelectorAll("video,smp-toucan-player")).filter((function(t){return 0!==t.readyState&&At(t)})).sort((function(t,e){if(t.duration&&e.duration&&t.duration!==e.duration)return e.duration-t.duration;var n=t.getClientRects()[0]||{width:0,height:0},r=e.getClientRects()[0]||{width:0,height:0};return r.width*r.height-n.width*n.height}))[0]||null})())){t.next=5;break}return t.abrupt("return",r);case 5:return t.abrupt("return",new Promise((function(t){var o=0,i=setInterval((function(){((r=n())||o>=10*e)&&(clearInterval(i),t(r)),o++}),100)})));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Gt(){return"documentPictureInPicture"in window&&null!==documentPictureInPicture.window}var zt=function(t){At(t)&&(Wt=t,Qt(),ee(t,"registerVideoEvents"),fe(t)),t.addEventListener("play",Zt),t.addEventListener("pause",Yt),t.addEventListener("timeupdate",$t),t.addEventListener("ended",Kt),t.addEventListener("volumechange",Jt)},Ut=function(t){t&&(t.removeEventListener("play",Zt),t.removeEventListener("pause",Yt),t.removeEventListener("timeupdate",$t),t.removeEventListener("ended",Kt),t.removeEventListener("volumechange",Jt))},Zt=function(t){var e=t.target;e&&(Xt(e)||At(e)&&(Wt=e,zt(e),Qt(),ee(t.target,"handleVideoPlay")))},Yt=function(t){var e=t.target;Xt(e)||ee(e,"handleVideoPause")},Kt=function(t){var e=t.target;Xt(e)||(e.removeEventListener("timeupdate",$t),ee(e,"handleVideoEnded"))},Jt=function(t){var e=t.target;ee(e,"handleVideoVolumechange")},$t=function(t){var e=t.target;Xt(e)||te(e,"handleVideoOnTimeupdate")},Xt=function(t){return!!Wt&&!(!Wt.paused||Wt.ended||!t.muted)};function Qt(){try{L("page_picture_in_picture",{pipOn:null!==document.pictureInPictureElement||Gt(),pipSupport:!0===("pictureInPictureEnabled"in document&&document.pictureInPictureEnabled)})}catch(t){}}var te=at((function(t,e){return ee(t,e)}),250),ee=function(){var t=Rt(Bt().mark((function t(e,n){return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,!(null!=_r&&_r.enableProgressBar&&null!=_r&&_r.playingProgressBar&&Mr)){t.next=7;break}return At(e)||(e.removeEventListener("play",Zt),e.removeEventListener("timeupdate",$t)),t.next=7,L("playing_timeupdate",{from:n,loop:e.loop,isUsableVideo:At(e),isCurrentVideo:Wt===e,duration:ge()?be():e.duration,currentTime:Math.floor(e.currentTime),paused:e.paused,ended:e.ended,volume:e.volume,muted:e.muted,playbackRate:e.playbackRate,progress:(e.currentTime/(ge()?be()||e.currentTime:e.duration)*100).toFixed(2)});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}(),ne=function(){var t=Rt(Bt().mark((function t(e){var n;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ye()){t.next=3;break}return window.postMessage({action:"play_video"},"https://www.netflix.com"),t.abrupt("return");case 3:if(t.t0=e,t.t0){t.next=8;break}return t.next=7,Dt();case 7:t.t0=t.sent;case 8:null==(n=t.t0)||n.play(),ee(n,"playVideo");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=function(){var t=Rt(Bt().mark((function t(e){var n;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ye()){t.next=3;break}return window.postMessage({action:"pause_video"},"https://www.netflix.com"),t.abrupt("return");case 3:if(t.t0=e,t.t0){t.next=8;break}return t.next=7,Dt();case 7:t.t0=t.sent;case 8:null==(n=t.t0)||n.pause(),ee(n,"pauseVideo");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),oe=function(){var t=Rt(Bt().mark((function t(e,n){var r;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ye()){t.next=3;break}return window.postMessage({action:"seek_video",position:1e3*e},"https://www.netflix.com"),t.abrupt("return");case 3:if(t.t0=n,t.t0){t.next=8;break}return t.next=7,Dt();case 7:t.t0=t.sent;case 8:(r=t.t0)&&(r.fastSeek?r.fastSeek(e):r.currentTime=e,ee(r,"seekVideo"));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ie=function(){var t=Rt(Bt().mark((function t(e,n){var r;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ye()){t.next=3;break}return window.postMessage({action:"volume_video",vol:e},"https://www.netflix.com"),t.abrupt("return");case 3:if(t.t0=n,t.t0){t.next=8;break}return t.next=7,Dt();case 7:t.t0=t.sent;case 8:(r=t.t0)&&(r.volume=e,ee(r,"volumeChange"));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ae=function(){var t=Rt(Bt().mark((function t(e,n){var r;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,t.t0){t.next=5;break}return t.next=4,Dt();case 4:t.t0=t.sent;case 5:(r=t.t0)&&(r.playbackRate=e,ee(r,"playbackRateChange"));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ce=function(){var t=Rt(Bt().mark((function t(e){var n;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,Dt();case 4:t.t0=t.sent;case 5:(n=t.t0)&&(n.muted=!n.muted,ee(n,"switchMute"),setTimeout((function(){!1!==n.muted&&0===n.volume&&(n.volume=.1)}),1e3));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function ue(){return se.apply(this,arguments)}function se(){return(se=Rt(Bt().mark((function t(){return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dt();case 2:if(Wt=t.sent,document.removeEventListener("fullscreenchange",me,!1),document.addEventListener("fullscreenchange",me,!1),window.removeEventListener("enterpictureinpicture",Qt),window.addEventListener("enterpictureinpicture",Qt),window.removeEventListener("leavepictureinpicture",de),window.addEventListener("leavepictureinpicture",de),!Wt){t.next=15;break}return Ut(Wt),zt(Wt),t.abrupt("return",!0);case 15:return L("playing_timeupdate",{isUsableVideo:!1}),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var le=function(){var t=new MutationObserver((function(t){var e,n=Nt(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if("attributes"===r.type&&"VIDEO"===r.target.nodeName&&"src"===r.attributeName)Tt((function(t){Ut(t),zt(t)}),3e3,r.target);if("childList"===r.type){var o,i=Nt(r.removedNodes);try{for(i.s();!(o=i.n()).done;){var a=o.value;"VIDEO"===a.nodeName&&Ut(a)}}catch(t){i.e(t)}finally{i.f()}var c,u=Nt(r.addedNodes);try{for(u.s();!(c=u.n()).done;){var s=c.value;"VIDEO"===s.nodeName&&zt(s)}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){n.e(t)}finally{n.f()}}));try{t.observe(document.body,{childList:!0,attributes:!0,subtree:!0})}catch(t){}},de=function(t){t.target.scrollIntoViewIfNeeded(),Qt()},fe=function(t){At(t)&&he().observe(t)},pe=null,he=function(){return pe||(pe=new IntersectionObserver(at(ve,500),{threshold:.5}))},ve=function(t){var e,n=Nt(t);try{for(n.s();!(e=n.n()).done;){var r,o,i=e.value,a=i.target;Wt!==a||a.paused||a.muted||a.ended||L("page_video_intersection_changed",{isIntersecting:i.isIntersecting,paused:a.paused,muted:a.muted,ended:a.ended,duration:ge()?null===(r=be())||void 0===r?void 0:r.toString():null===(o=a.duration)||void 0===o?void 0:o.toString()})}}catch(t){n.e(t)}finally{n.f()}},me=function(){document.fullscreenElement&&_r.fullScreenHideSidePanel&&(Mr&&Ar(),L("page_enter_fullscreen"))};function ye(){return window.location.href.includes("netflix.com")}function ge(){return window.location.href.includes("disneyplus.com")}function be(){var t;return Math.floor(null===(t=document.querySelector(".controls__footer__progressWrapper.display-flex > div.progress-bar > div"))||void 0===t?void 0:t.getAttribute("aria-valuemax"))}function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function xe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xe=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==we(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(we(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function ke(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ee(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ke(i,r,o,a,c,"next",t)}function c(t){ke(i,r,o,a,c,"throw",t)}a(void 0)}))}}var Se=null;function Le(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;try{if(t===document&&(t=document.documentElement),!(t instanceof HTMLElement))throw new Error("Invalid element provided");Se=t;var e=t===document.documentElement||t===document.body,n=e?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop,r=e?Math.max(document.documentElement.scrollHeight,document.body.scrollHeight):t.scrollHeight,o=e?window.innerHeight:t.clientHeight;if(r<=o)return 0;if(r/o<((null==_r?void 0:_r.scrollHeightRatio)||2))return 0;var i=n/(r-o)*100;return parseFloat(Math.min(Math.max(i,0),100).toFixed(1))}catch(t){return 0}}var _e=at(function(){var t=Ee(xe().mark((function t(e){return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je(e.target);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),100),Pe=function(){var t=Ee(xe().mark((function t(){return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Or){t.next=3;break}return t.next=3,je();case 3:window.removeEventListener("scroll",_e),window.addEventListener("scroll",_e,!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function je(t){return Me.apply(this,arguments)}function Me(){return(Me=Ee(xe().mark((function t(e){var n;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==_r||!_r.readingProgressBar||null!==Wt){t.next=7;break}return n=Le(e),t.next=5,L("page_scrolled",{scrollProgress:n});case 5:t.next=9;break;case 7:return t.next=9,L("page_scrolled",{scrollProgress:0});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}var Oe=function(t,e,n){if(("audible"in e||"mutedInfo"in e)&&(ue(),le()),"status"in e)switch(e.status){case"loading":break;case"complete":Cr()}},Ce=function(){var t;null!=Pr&&Pr.linkSettings?(null===(t=Pr.linkOpenOptions)||void 0===t?void 0:t.length)>0?Ve(Pr.linkOpenOptions):Te():Te()},Ve=function(t){document.querySelectorAll("a").forEach((function(e){if(e.href!==window.location.href){var n=t.find((function(t){try{return new RegExp(t.regex).test(e.href)}catch(n){return e.href.includes(t.regex)}}));n&&(e.setAttribute("link_target_backup",e.getAttribute("target")||""),e.setAttribute("target",n.target))}}))},Te=function(){document.querySelectorAll("a[link_target_backup]").forEach((function(t){t.setAttribute("target",t.getAttribute("link_target_backup")),t.removeAttribute("link_target_backup")}))};function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Ae(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ie(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ie(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qe=function(t,e,n){var r=document.createElement("div");return r.innerHTML=e,r.title=chrome.i18n.getMessage(t),Object.assign(r.style,{cursor:"pointer",fontSize:"14px",color:"dark"===_r.theme?"#ccc":"#666",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0",backgroundColor:"transparent",transition:"color 0.3s ease, transform 0.3s ease"}),r.addEventListener("mouseenter",(function(){r.style.color="dark"===_r.theme?"#ff6666":"#ff9999",r.style.transform="scale(1.1)"})),r.addEventListener("mouseleave",(function(){r.style.color="dark"===_r.theme?"#ccc":"#666",r.style.transform="scale(1)"})),r.addEventListener("click",n),r},Ne=function(){if(_r.sidebarEnabled&&!document.getElementById("customSidebar")){var t="left"===_r.sidebarPosition,e=document.createElement("div");e.id="customSidebar";var n=document.createElement("div");n.id="sidebarHeader",n.innerHTML="<span>".concat(chrome.i18n.getMessage("appShortName"),"</span>"),Object.assign(n.style,{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",backgroundColor:"transparent",color:"dark"===_r.theme?"#fff":"#000",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",zIndex:"10000",cursor:"pointer"});var r=document.createElement("div");Object.assign(r.style,{display:"flex",alignItems:"center",gap:"10px"}),r.appendChild(qe("disableSidebar",'<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q54 0 104-17.5t92-50.5L228-676q-33 42-50.5 92T160-480q0 134 93 227t227 93Zm252-124q33-42 50.5-92T800-480q0-134-93-227t-227-93q-54 0-104 17.5T284-732l448 448Z"/></svg>',(function(){return confirm(chrome.i18n.getMessage("disableSidebarAlert"))&&L("disable_sidebar")}))),r.appendChild(qe("toggleSidebarPosition",t?'<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M800-240v-480h80v480h-80Zm-320 0-57-56 144-144H80v-80h487L424-664l56-56 240 240-240 240Z"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M160-240H80v-480h80v480Zm320 0L240-480l240-240 56 56-143 144h487v80H393l144 144-57 56Z"/></svg>',(function(){return L("update_sidebar_position",{position:t?"right":"left"})}))),r.appendChild(qe("closeSidebar",'<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>',(function(){return Fe()}))),n.appendChild(r),e.appendChild(n);var o=document.createElement("iframe");o.src=chrome.runtime.getURL("sidebar.html"),o.setAttribute("tabindex","-1"),Object.assign(o.style,{height:"calc(100% - 50px)",width:"100%",border:"none",overflowY:"hidden"}),e.appendChild(o),o.onload=function(){o.contentWindow&&o.contentWindow.postMessage({type:"SIDEBAR_LOADED"},"*"),n.addEventListener("click",(function(){o.contentWindow&&o.contentWindow.postMessage({type:"SIDEBAR_LOADED"},"*")}))},Object.assign(e.style,Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae({position:"fixed",top:"0"},t?"left":"right","0"),"height","100%"),"zIndex","99999"),"backgroundColor","dark"===_r.theme?"#222":"rgba(255,255,255,0.75)"),"backdropFilter","blur(15px)"),"color","dark"===_r.theme?"#fff":"#000"),"boxShadow",t?"2px 0 5px rgba(0,0,0,0.1)":"-2px 0 5px rgba(0,0,0,0.1)"),"transition","transform 0.3s ease, width 0.3s ease"),"width",_r.sidebarWidth||"300px"),"transform","translateX(".concat(t?"-100%":"100%",")")));var i=document.createElement("div");Object.assign(i.style,Ae(Ae(Ae(Ae(Ae(Ae({position:"absolute",top:"0"},t?"right":"left","-5px"),"width","10px"),"height","100%"),"cursor","ew-resize"),"backgroundColor","transparent"),"transition","background-color 0.3s ease")),e.appendChild(i);var a,c,u,s=!1,l=!1,d=function(){e.style.transform="translateX(0)",o.contentWindow&&o.contentWindow.postMessage({type:"SIDEBAR_SHOWN"},"*")},f=function(){s||l||(e.style.transform="translateX(".concat(t?"-100%":"100%",")"),o.contentWindow&&o.contentWindow.postMessage({type:"SIDEBAR_HIDDEN"},"*"))},p=function(n){if(l){var r=t?n.clientX-a:a-n.clientX,o=Math.max(45,Math.min(c+r,window.innerWidth/2));e.style.width="".concat(o,"px")}},h=function(){l=!1,document.documentElement.removeEventListener("mousemove",p),document.documentElement.removeEventListener("mouseup",h),i.style.backgroundColor="transparent",e.style.pointerEvents="auto",document.body.style.cursor="default";var t=e.style.width;localStorage.setItem("sidebarWidth",t),L("updateSidebarWidth",{width:t}),s=!1},v=at(p,10);i.addEventListener("mousedown",(function(t){t.preventDefault(),l=!0,a=t.clientX,c=parseInt(getComputedStyle(e).width,10),document.documentElement.addEventListener("mousemove",v),document.documentElement.addEventListener("mouseup",h),i.style.backgroundColor="rgba(0,0,0,0.1)",e.style.pointerEvents="none",document.body.style.cursor="ew-resize"})),e.addEventListener("mouseenter",(function(){s=!0,clearTimeout(u),u=setTimeout(d,500)})),e.addEventListener("mouseleave",(function(){s=!1,clearTimeout(u),l||f()}));document.addEventListener("mousemove",(function(e){l||((t?e.clientX<=20:e.clientX>=document.body.offsetWidth-20)?d():s||f())})),document.body.appendChild(e),chrome.runtime.onMessage.addListener((function(t){"updateSidebarWidth"===t.action&&(e.style.width=t.data.width)}))}},Fe=function(){var t=document.getElementById("customSidebar");t&&t.remove()},Be='<svg width="13" height="13" viewBox="0 0 24 24" fill="#fff" xmlns="http://www.w3.org/2000/svg"><path d="M20 4 8.667 12 20 20z" /><path d="M4 20h2.667V4H4z"/></svg>',He='\n    <svg width="13" height="13" viewBox="6 6 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M15 12.3301L9 16.6603L9 8L15 12.3301Z" fill="#fff" />\n    </svg>\n',Re='\n    <svg width="13" height="13" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n        <path fill="#fff" d="M120.16 45A20.162 20.162 0 0 0 100 65.16v381.68A20.162 20.162 0 0 0 120.16 467h65.68A20.162 20.162 0 0 0 206 446.84V65.16A20.162 20.162 0 0 0 185.84 45h-65.68zm206 0A20.162 20.162 0 0 0 306 65.16v381.68A20.162 20.162 0 0 0 326.16 467h65.68A20.162 20.162 0 0 0 412 446.84V65.16A20.162 20.162 0 0 0 391.84 45h-65.68z"/>\n    </svg>\n',We='\n<svg width="13" height="13" viewBox="10 10 16 16" xmlns="http://www.w3.org/2000/svg">\n    <path class="ytp-svg-fill" d="M 12,24 20.5,18 12,12 V 24 z M 22,12 v 12 h 2 V 12 h -2 z" fill="#fff" />\n</svg>\n',De='<svg fill="#FFF" width="13" height="13" viewBox="-0.024 0 0.309 0.309" xmlns="http://www.w3.org/2000/svg" class="cf-icon-svg"><path d="M0.125 0.08v0.156c0 0.01 -0.006 0.012 -0.013 0.005l-0.047 -0.047H0.033A0.018 0.018 0 0 1 0.015 0.177V0.14a0.018 0.018 0 0 1 0.018 -0.018h0.032l0.047 -0.047c0.007 -0.007 0.013 -0.005 0.013 0.005m0.118 0.112a0.009 0.009 0 1 1 -0.013 0.013l-0.034 -0.034 -0.034 0.034a0.009 0.009 0 1 1 -0.013 -0.013l0.034 -0.034L0.15 0.125a0.009 0.009 0 0 1 0.013 -0.013L0.196 0.146l0.034 -0.034a0.009 0.009 0 0 1 0.013 0.013l-0.034 0.034z"/></svg>\n',Ge='\n    <svg width="13" height="13" fill="#fff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path d="M16 7v10M4 17h2.697L14 21.868V2.132L6.697 7H4c-1.103 0-2 .897-2 2v6c0 1.103.897 2 2 2z"/>\n    </svg>\n',ze='\n<svg width="13" height="13" fill="#fff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 21c3.527-1.547 5.999-4.909 5.999-9S19.527 4.547 16 3v2c2.387 1.386 3.999 4.047 3.999 7S18.387 17.614 16 19v2z"/>\n    <path d="M16 7v10c1.225-1.1 2-3.229 2-5s-.775-3.9-2-5zM4 17h2.697L14 21.868V2.132L6.697 7H4c-1.103 0-2 .897-2 2v6c0 1.103.897 2 2 2z"/>\n</svg>\n',Ue='<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><text x="50%" y="50%" font-size="12" fill="#ffffff" text-anchor="middle" dominant-baseline="middle">弾</text></svg>',Ze='<svg width="13" height="13" fill="#fff" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M464 64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM208.1 287.7c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.6 56.8-172.8 32.1-172.8-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7l-17.5 30.5c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2.1 48 51.1 70.5 92.3 32.6zm210.4 0c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.5 56.9-172.7 32.1-172.7-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7L430 222.2c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2 0 48 51 70.5 92.2 32.6z"/></svg>',Ye='<svg width="13" height="13" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.25 4C20.3211 4 22 5.67893 22 7.75V16.25C22 18.3211 20.3211 20 18.25 20H5.75C3.67893 20 2 18.3211 2 16.25V7.75C2 5.67893 3.67893 4 5.75 4H18.25ZM18.25 5.5H5.75C4.50736 5.5 3.5 6.50736 3.5 7.75V16.25C3.5 17.4926 4.50736 18.5 5.75 18.5H18.25C19.4926 18.5 20.5 17.4926 20.5 16.25V7.75C20.5 6.50736 19.4926 5.5 18.25 5.5ZM18.25 13C18.6642 13 19 13.3358 19 13.75V15C19 16.1046 18.1046 17 17 17H15.75C15.3358 17 15 16.6642 15 16.25C15 15.8358 15.3358 15.5 15.75 15.5H17C17.2761 15.5 17.5 15.2761 17.5 15V13.75C17.5 13.3358 17.8358 13 18.25 13ZM5.75 13C6.16421 13 6.5 13.3358 6.5 13.75V15C6.5 15.2761 6.72386 15.5 7 15.5H8.25C8.66421 15.5 9 15.8358 9 16.25C9 16.6642 8.66421 17 8.25 17H7C5.89543 17 5 16.1046 5 15V13.75C5 13.3358 5.33579 13 5.75 13ZM7 7H8.25C8.66421 7 9 7.33579 9 7.75C9 8.1297 8.71785 8.44349 8.35177 8.49315L8.25 8.5H7C6.75454 8.5 6.55039 8.67688 6.50806 8.91012L6.5 9V10.25C6.5 10.6642 6.16421 11 5.75 11C5.3703 11 5.05651 10.7178 5.00685 10.3518L5 10.25V9C5 7.94564 5.81588 7.08183 6.85074 7.00549L7 7ZM17 7C18.1046 7 19 7.89543 19 9V10.25C19 10.6642 18.6642 11 18.25 11C17.8358 11 17.5 10.6642 17.5 10.25V9C17.5 8.72386 17.2761 8.5 17 8.5H15.75C15.3358 8.5 15 8.16421 15 7.75C15 7.33579 15.3358 7 15.75 7H17Z" fill="#FFF"/>\n</svg>',Ke='\n    <svg fill="#FFF" width="13" height="13" viewBox="0 0 0.39 0.39" xmlns="http://www.w3.org/2000/svg"><path d="M0.101 0.216a0.015 0.015 0 0 0 -0.005 -0.003 0.016 0.016 0 0 0 -0.012 0 0.015 0.015 0 0 0 -0.009 0.009 0.016 0.016 0 1 0 0.03 0 0.016 0.016 0 0 0 -0.003 -0.005M0.219 0.179h0.016a0.016 0.016 0 0 0 0 -0.033h-0.016a0.016 0.016 0 0 0 0 0.033m-0.065 0h0.016a0.016 0.016 0 0 0 0 -0.033h-0.016a0.016 0.016 0 0 0 0 0.033m-0.049 -0.033h-0.016a0.016 0.016 0 0 0 0 0.033h0.016a0.016 0.016 0 0 0 0 -0.033M0.325 0.081H0.065a0.049 0.049 0 0 0 -0.049 0.049v0.13a0.049 0.049 0 0 0 0.049 0.049h0.26a0.049 0.049 0 0 0 0.049 -0.049V0.13a0.049 0.049 0 0 0 -0.049 -0.049m0.016 0.179a0.016 0.016 0 0 1 -0.016 0.016H0.065a0.016 0.016 0 0 1 -0.016 -0.016V0.13a0.016 0.016 0 0 1 0.016 -0.016h0.26a0.016 0.016 0 0 1 0.016 0.016Zm-0.098 -0.049H0.146a0.016 0.016 0 0 0 0 0.033h0.098a0.016 0.016 0 0 0 0 -0.033m0.057 -0.065h-0.016a0.016 0.016 0 0 0 0 0.033h0.016a0.016 0.016 0 0 0 0 -0.033m0.012 0.07a0.016 0.016 0 0 0 -0.005 -0.003 0.016 0.016 0 0 0 -0.012 0 0.015 0.015 0 0 0 -0.005 0.003 0.016 0.016 0 0 0 -0.003 0.005 0.016 0.016 0 1 0 0.031 0.006 0.014 0.014 0 0 0 -0.001 -0.006 0.016 0.016 0 0 0 -0.003 -0.005"/></svg>\n',Je='\n    <svg fill="#FFF" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="60" viewBox="0 0 38.4 38.4" enable-background="new 0 0 512 512" xml:space="preserve"><g><path d="M19.2 0C8.596 0 0 8.596 0 19.2s8.596 19.2 19.2 19.2 19.2 -8.596 19.2 -19.2S29.804 0 19.2 0m0 35.4c-8.947 0 -16.2 -7.253 -16.2 -16.2S10.253 3 19.2 3s16.2 7.253 16.2 16.2 -7.253 16.2 -16.2 16.2"/><path points="192,336 352,256 192,176 \t" d="M14.4 25.2L26.4 19.2L14.4 13.2Z"/></g></svg>\n';const $e=function(t){return"number"==typeof t||$(t)&&"[object Number]"==J(t)};function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Qe(t){return function(t){if(Array.isArray(t))return sn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||un(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||un(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,an(r.key),r)}}function nn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nn(Object(n),!0).forEach((function(e){on(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function on(t,e,n){return(e=an(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function an(t){var e=function(t,e){if("object"!=Xe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xe(e)?e:e+""}function cn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=un(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function un(t,e){if(t){if("string"==typeof t)return sn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(t,e):void 0}}function sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ln(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ln=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Xe(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Xe(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function dn(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function fn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){dn(i,r,o,a,c,"next",t)}function c(t){dn(i,r,o,a,c,"throw",t)}a(void 0)}))}}window.addEventListener("DOMContentLoaded",(function(){vn=window}));var pn,hn,vn=window,mn=null,yn=null,gn=!1,bn=!1,wn=!1,xn=null,kn=function(){var t=fn(ln().mark((function t(){var e,n,r,o,i,a,c,u,s,l,d,f,p,h,v,m,y,g,b,w,x,k,E,S,_,P,j,M;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(new Date,xn={cssUrls:[],localCss:["css/pip.css"],styles:""},document.querySelector(".video-js")&&xn.localCss.push("css/vjs.css"),e=window.location.hostname,n="vertitab-pip-config-".concat(e),!((r=sessionStorage.getItem(n))&&Object.keys(r).length>0)){t.next=9;break}return o=JSON.parse(r),t.abrupt("return",o);case 9:return t.prev=9,t.next=12,L("get_pip_config",{url:window.location.href});case 12:if(!(i=t.sent).success||!i.data){t.next=73;break}if(!Array.isArray(i.data)){t.next=67;break}a=window.location.href,c=cn(i.data),t.prev=18,c.s();case 20:if((u=c.n()).done){t.next=57;break}if(s=u.value,"string"!=typeof(l=s.matches)||!new RegExp(l).test(a)){t.next=32;break}return t.next=26,En(s.css,xn);case 26:return xn=t.sent,d=rn(rn({},xn),s),sessionStorage.setItem(n,JSON.stringify(d)),t.abrupt("return",rn(rn({},d),{},{cssUrls:d.cssUrls.filter((function(t){return!t.startsWith("http")}))}));case 32:if(!Array.isArray(l)){t.next=55;break}f=cn(l),t.prev=34,f.s();case 36:if((p=f.n()).done){t.next=47;break}if(h=p.value,!new RegExp(h).test(a)){t.next=45;break}return t.next=41,En(s.css,xn);case 41:return xn=t.sent,v=rn(rn({},xn),s),sessionStorage.setItem(n,JSON.stringify(v)),t.abrupt("return",rn(rn({},v),{},{cssUrls:v.cssUrls.filter((function(t){return!t.startsWith("http")}))}));case 45:t.next=36;break;case 47:t.next=52;break;case 49:t.prev=49,t.t0=t.catch(34),f.e(t.t0);case 52:return t.prev=52,f.f(),t.finish(52);case 55:t.next=20;break;case 57:t.next=62;break;case 59:t.prev=59,t.t1=t.catch(18),c.e(t.t1);case 62:return t.prev=62,c.f(),t.finish(62);case 65:t.next=73;break;case 67:return t.next=69,En(i.data.css,xn);case 69:return xn=t.sent,m=rn(rn({},xn),i.data),sessionStorage.setItem(n,JSON.stringify(m)),t.abrupt("return",rn(rn({},m),{},{cssUrls:m.cssUrls.filter((function(t){return!t.startsWith("http")}))}));case 73:t.next=78;break;case 75:t.prev=75,t.t2=t.catch(9);case 78:for(y=!1,g=0,b=[{match:".vjs-text-track-display",nextVideoBtn:".vjs-icon-next-item",supportCaption:!0,captionBtn:"vjs-captions-toggle",captionParent:"video-js.video-js",caption:".vjs-text-track-display"},{match:".jw-captions",supportCaption:!0,supportDanmaku:!1,captionParent:".jw-wrapper",caption:".jw-captions"},{match:".text-track-wrapper>.text-track-cue",supportCaption:!0,supportDanmaku:!1,captionParent:".text-track-wrapper",caption:".text-track-cue"},{match:".aliplayer-danmuku",nextVideoBtn:".vjs-icon-next-item",supportCaption:!0,supportDanmaku:!0,danmakuParent:".aliplayer-danmuku",danmaku:".danmu.container"}];g<b.length;g++)x=b[g],(k=document.querySelector(x.match))&&""!==(null===(w=k.textContent)||void 0===w?void 0:w.trim())&&(xn=rn(rn({},xn),x),E=k.parentElement||{},S=E.id,_=E.className,P=E.dataset,(j=wr(S,_,P))&&(xn=rn(rn({},xn),{},{captionParent:j})),y=!0);return y||(M=vr())&&(xn=rn(rn(rn({},xn),M),{},{isDetect:!0})),xn.isJwPlayer=!!document.querySelector(".jwplayer"),t.abrupt("return",rn(rn({},xn),{},{cssUrls:xn.cssUrls.filter((function(t){return!t.startsWith("http")}))}));case 84:case"end":return t.stop()}}),t,null,[[9,75],[18,59,62,65],[34,49,52,55]])})));return function(){return t.apply(this,arguments)}}(),En=function(){var t=fn(ln().mark((function t(e,n){var r,o,i;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=23;break}if(!Array.isArray(e)){t.next=21;break}r=cn(e),t.prev=3,r.s();case 5:if((o=r.n()).done){t.next=11;break}return i=o.value,t.next=9,Sn(i,n);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:t.next=23;break;case 21:return t.next=23,Sn(e,n);case 23:return t.abrupt("return",n);case 25:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})));return function(e,n){return t.apply(this,arguments)}}(),Sn=function(){var t=fn(ln().mark((function t(e,n){var r;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.startsWith("http")){t.next=5;break}return t.next=3,L("http_request",{url:e,method:"get"});case 3:(r=t.sent).success&&r.data&&(n.styles+="\n".concat(r.data));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Ln=function(){var t=fn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(xn&&0!==Object.keys(xn).length){t.next=5;break}return t.next=3,kn();case 3:xn=t.sent;case 5:return null!=Pr&&Pr.captionSetting&&null!=Pr&&Pr.captionSelector&&(null!=Pr&&Pr.captionSelector&&(xn=rn(rn({},xn),{},{caption:null==Pr?void 0:Pr.captionSelector})),null!=Pr&&Pr.captionParentSelector&&(xn=rn(rn({},xn),{},{captionParent:null==Pr?void 0:Pr.captionParentSelector}))),t.abrupt("return",xn);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_n=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=null,this.pipWindow=e,this.videoContainer=n,this.mainEl=null,this.feature=r.toLowerCase()},e=[{key:"init",value:(c=fn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.config){t.next=4;break}return t.next=3,Ln();case 3:this.config=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"hasFeature",value:(a=fn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:return t.abrupt("return",this.config["support".concat(this.feature.charAt(0).toUpperCase()+this.feature.slice(1))]||this.config[this.feature]&&!!vn.document.querySelector(this.config[this.feature]));case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"isFeatureOn",value:(i=fn(ln().mark((function t(){var e,n,r,o,i,a;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:if(e="".concat(this.feature,"Status"),!(n=this.config[e])){t.next=14;break}r=vn.document.querySelector(n.selector),t.t0=n.type,t.next="attr"===t.t0?9:"classList"===t.t0?10:"func"===t.t0?11:"childClass"===t.t0?12:14;break;case 9:return t.abrupt("return",(null==r?void 0:r.getAttribute(n.attrName))===n.attrValue);case 10:return t.abrupt("return",(null==r?void 0:r.classList.contains(n.className))===n.include);case 11:return t.abrupt("return",n.func());case 12:return t.abrupt("return",!(null==r||!r.querySelector('*[class*="'.concat(n.childClassName,'"]')))===n.include);case 14:if("caption"!==this.feature||null==Pr||!Pr.captionSetting||null==Pr||!Pr.captionSelector){t.next=16;break}return t.abrupt("return",!0);case 16:if(!xn.isDetect||!xn[this.feature]){t.next=22;break}if(!(i=hn.document.querySelector(xn[this.feature]))||"TRACK"!==i.nodeName){t.next=20;break}return t.abrupt("return",!0);case 20:return a=null===(o=hn.document.querySelector(xn[this.feature]))||void 0===o?void 0:o.textContent.trim(),t.abrupt("return",""!==a);case 22:return t.abrupt("return",null);case 23:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"applyFeature",value:(o=fn(ln().mark((function t(){var e,n,r,o,i;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:if(this.config[this.feature]){t.next=4;break}return t.abrupt("return");case 4:return(e=this.pipWindow.document.querySelector(".".concat(this.feature,"-container")))||((e=this.pipWindow.document.createElement("div")).classList.add("".concat(this.feature,"-container")),this.config.css||e.classList.add("enforce-style"),this.videoContainer.appendChild(e)),t.next=8,Wn(500);case 8:if(this.mainEl=vn.document.querySelector(this.config[this.feature]),this.mainEl){if(this.mainEl.style.zIndex=1999,this.config.captionStyle)n=this.mainEl.querySelector("*:not(:has(*))")||this.mainEl,Object.assign(n.style,this.config.captionStyle);else if("caption"===this.feature){for(r=this.mainEl;r.children.length>0;)r=r.children[0];o=window.getComputedStyle(r),i={display:o.display,textAlign:o.textAlign,padding:o.padding,borderRadius:o.borderRadius,direction:o.direction,opacity:o.opacity,color:o.color,background:o.background,backgroundColor:o.backgroundColor},Object.assign(r.style,i)}e.appendChild(this.mainEl)}case 10:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"resetFeature",value:(r=fn(ln().mark((function t(){var e,n,r,o;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:if(this.config[this.feature]&&this.config["".concat(this.feature,"Parent")]){t.next=4;break}return t.abrupt("return");case 4:(e=this.pipWindow.document.querySelector(".".concat(this.feature,"-container")))&&(n=Array.from(e.children),r=vn.document.querySelector(this.config["".concat(this.feature,"Parent")]),n.length>0&&r&&((o=this.config["clean".concat(this.feature.charAt(0).toUpperCase()+this.feature.slice(1))])&&e.querySelectorAll(o).forEach((function(t){return t.remove()})),n.forEach((function(t){return r.appendChild(t)}))));case 6:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],e&&en(t.prototype,e),n&&en(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,o,i,a,c}();function Pn(){return jn.apply(this,arguments)}function jn(){return(jn=fn(ln().mark((function t(){var e,n;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(hn){t.next=2;break}return t.abrupt("return");case 2:return e=new _n(hn,mn,"danmaku"),n=new _n(hn,mn,"caption"),e.applyFeature(),n.applyFeature(),t.abrupt("return",{danmakuInstance:e,captionInstance:n});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mn(){return On.apply(this,arguments)}function On(){return(On=fn(ln().mark((function t(){var e,n;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(hn){t.next=2;break}return t.abrupt("return");case 2:e=new _n(hn,mn,"danmaku"),n=new _n(hn,mn,"caption"),e.resetFeature(),n.resetFeature();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Cn(t,e){t&&(t.innerHTML="",t.innerHTML=e)}var Vn=function(){if(!hn)return!1;var t=hn.document.querySelector(".loading-container");return!!t&&t.classList.contains("show")},Tn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Loading...";if(hn){var n=hn.document.querySelector(".loading-container");if(n){var r=n.querySelector(".loading-text");r&&(r.textContent=e),t?n.classList.add("show"):n.classList.remove("show")}}},In=!1,An=function(t){if(hn){var e=hn.document.querySelector(".icon-play-container");e&&(t?(e.classList.add("show"),In=!0):(e.classList.remove("show"),In=!1))}},qn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e?e+"%":t.value+"%";t.style.setProperty("--litters-range",n)},Nn=function(t,e,n){var r=hn.document.querySelector(t);if(r){var o=n.bind(r);r.removeEventListener(e,o),r.addEventListener(e,o)}},Fn=function(t,e){if(hn){var n="string"==typeof t?hn.document.querySelector(t):t;n&&(n.innerHTML=e)}},Bn=function(){return hn?hn.document.querySelector("video,smp-toucan-player"):null};function Hn(t,e){return Rn.apply(this,arguments)}function Rn(){return Rn=fn(ln().mark((function t(e,n){var r,o,i,a,c,u,s,l,d,f,p,h,v,m,y,g,b,w,x;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&n){t.next=2;break}return t.abrupt("return");case 2:return o=Bn(),t.next=5,Ln();case 5:if(i=t.sent,a=new _n(e,mn,"danmaku"),c=new _n(e,mn,"caption"),u=i.prevVideoBtn?vn.document.querySelector(i.prevVideoBtn):null,s=i.nextVideoBtn?vn.document.querySelector(i.nextVideoBtn):null,e.document.querySelector("#player-control-container")){t.next=53;break}return(p=e.document.createElement("div")).id="player-control-container",t.t0=Cn,t.t1=p,t.t3='\n            <div class="controls">\n                <div class="control-row">\n                    <input id="videoPlayingProgress" type="range" min="0" max="100" step="0.1" value="0" />\n                </div>\n                <div class="control-row second-row">\n                    '.concat(u?'<div class="control-group control-group-next">\n                        <button data-action="prev" title="'.concat(chrome.i18n.getMessage("prev_video"),'">\n                            ').concat(Be,"\n                        </button>\n                    </div>"):"",'\n                    <div class="control-group">\n                        <button data-action="play" title="').concat(chrome.i18n.getMessage("play")," / ").concat(chrome.i18n.getMessage("pause"),'">\n                            ').concat(null!==(l=o)&&void 0!==l&&l.paused?He:Re,"\n                        </button>\n                    </div>\n                    ").concat(s?'<div class="control-group control-group-next">\n                        <button data-action="next" title="'.concat(chrome.i18n.getMessage("next_video"),'">\n                            ').concat(We,"\n                        </button>\n                    </div>"):"",'\n                    <div class="control-group">\n                        <button data-action="mute" title="').concat(chrome.i18n.getMessage("mute")," / ").concat(chrome.i18n.getMessage("unmute"),'" class="pip-unmuted">\n                           ').concat(null!==(d=o)&&void 0!==d&&d.muted?De:0===(null===(f=o)||void 0===f?void 0:f.volume)?Ge:ze,'\n                        </button>\n                        <input id="videoVolumeProgress" type="range" min="0" max="100" />\n                    </div>\n                    <div class="control-group control-group-time">\n                        <div class="control-time"></div>\n                    </div>\n                    <div class="control-group align-right">\n                        <button data-action="playbackRate" title="').concat(chrome.i18n.getMessage("playbackRate"),'">\n                            <div class="player-ctrl-playbackrate-result">1x</div>\n                        </button>\n                        <ul class="player-ctrl-playbackrate-menu">\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="4">4.0x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="3">3.0x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="2">2.0x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="1.75">1.75x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="1.5">1.5x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="1.25">1.25x</li>\n                            <li class="player-ctrl-playbackrate-menu-item bpx-state-active" data-value="1">1.0x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="0.75">0.75x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="0.5">0.5x</li>\n                        </ul>\n                    </div>\n                    '),t.next=18,a.hasFeature();case 18:if(!t.sent){t.next=22;break}t.t4='<div class="control-group">\n                        <button data-action="danmaku" title="'.concat(chrome.i18n.getMessage("danmaku"),'">\n                            ').concat(Ue,"\n                        </button>\n                    </div>"),t.next=23;break;case 22:t.t4="";case 23:return t.t5=t.t4,t.t2=t.t3.concat.call(t.t3,t.t5,"\n                    "),t.next=27,c.hasFeature();case 27:if(!t.sent){t.next=31;break}t.t6='<div class="control-group">\n                        <button data-action="caption" title="'.concat(chrome.i18n.getMessage("subtitles")," / ").concat(chrome.i18n.getMessage("close_captions"),'">\n                            ').concat(Ze,"\n                        </button>\n                    </div>"),t.next=32;break;case 31:t.t6="";case 32:t.t7=t.t6,t.t8=t.t2.concat.call(t.t2,t.t7,'\n                    <div class="control-group">\n                        <button data-action="fit" title="').concat(chrome.i18n.getMessage("fit_to_screen"),'">\n                            ').concat(Ye,'\n                        </button>\n                    </div>\n                      <div class="control-group">\n                        <button data-action="shortcuts" title="').concat(chrome.i18n.getMessage("reload_video"),'">\n                            ').concat(Ke,"\n                        </button>\n                    </div>\n                </div>\n            </div>\n        "),(0,t.t0)(t.t1,t.t8),n.append(p),Nn('#player-control-container button[data-action="shortcuts"]',"click",(function(t){var n=e.document.querySelector(".player-shortcuts-container");n&&n.classList.toggle("hidden")})),Nn('#player-control-container button[data-action="play"]',"click",(function(t){var e=Bn();null!=e&&e.paused?ne(e):re(e),Fn(t.target,null!=e&&e.paused?He:Re)})),Nn('#player-control-container button[data-action="prev"]',"click",fn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:wn=!0,null==u||u.click(),Tn(!0);case 3:case"end":return t.stop()}}),t)})))),Nn('#player-control-container button[data-action="next"]',"click",fn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:wn=!0,null==s||s.click(),Tn(!0);case 3:case"end":return t.stop()}}),t)})))),Nn('#player-control-container button[data-action="mute"]',"click",(function(t){var n=Bn();ce(n),Fn(t.target,null!=n&&n.muted?De:0===(null==n?void 0:n.volume)?Ge:ze);var r=e.document.querySelector("#player-control-container #videoVolumeProgress");r&&(r.value=Math.floor(1e3*(null==n?void 0:n.volume))/10,qn(r))})),Nn('#player-control-container button[data-action="fit"]',"click",(function(){var t=Bn();if(e&&t){var n=t.videoWidth,r=t.videoHeight,o=n/r,i=Math.floor(e.innerWidth/o+.5);e.resizeBy(0,i-e.innerHeight);var a=Yn(n,r),c=e.innerWidth;a?localStorage.setItem("pipPortraitWidth",c):localStorage.setItem("pipLandscapeWidth",c)}})),(h=e.document.querySelector("#player-control-container #videoVolumeProgress"))&&(h.value=Math.floor(1e3*(null===(v=o)||void 0===v?void 0:v.volume))/10,qn(h)),Nn("#player-control-container #videoVolumeProgress","input",(function(t){var e=Bn();e&&(e.volume=t.target.value/100,qn(t.target),Fn('#player-control-container button[data-action="mute"]',null!=e&&e.muted?De:0===(null==e?void 0:e.volume)?Ge:ze))})),(m=e.document.querySelector("#player-control-container #videoPlayingProgress"))&&(w=ge()?be()||(null===(y=o)||void 0===y?void 0:y.duration):null===(g=o)||void 0===g?void 0:g.duration,m.value=Math.floor((null===(b=o)||void 0===b?void 0:b.currentTime)/w*1e3)/10,qn(m)),Nn("#player-control-container #videoPlayingProgress","input",(function(t){var e=Bn();if(e&&(null==e?void 0:e.duration)!==1/0&&$e(null==e?void 0:e.duration)){gn=!0,setTimeout((function(){gn=!1,null!=e&&e.paused&&ne(e)}),5e3);var n=ge()&&be()||(null==e?void 0:e.duration),r=Math.round(n*(parseInt(t.target.value,10)/100));Tn(!0),qn(t.target,t.target.value),oe(r,e)}})),m.addEventListener("mousemove",(function(t){var n,r=Bn(),o=(n=t).offsetX/n.target.clientWidth*parseInt(n.target.getAttribute("max"),10),i=ge()&&be()||(null==r?void 0:r.duration),a=Math.floor(i*(o/100)),c=e.document.querySelector("#progress-tooltip");c||((c=e.document.createElement("div")).id="progress-tooltip",c.style.position="fixed",c.style.background="#000",c.style.color="#fff",c.style.padding="2px 5px",c.style.borderRadius="3px",c.style.fontSize="10px",c.style.pointerEvents="none",c.style.zIndex="9999",e.document.body.appendChild(c)),c.textContent=It(a);var u=m.getBoundingClientRect(),s=c.getBoundingClientRect(),l=t.clientX-s.width/2;l=Math.max(u.left,Math.min(l,u.right-s.width)),c.style.left="".concat(l,"px"),c.style.top="".concat(u.top-s.height-5,"px")})),m.addEventListener("mouseleave",(function(){var t=e.document.querySelector("#progress-tooltip");t&&t.remove()})),zn(e,"danmaku"),zn(e,"caption"),Zn(e);case 53:x=function(t){if(t){var n={play:function(){gn=!1,In&&An(!1),Tn(!1),Fn('#player-control-container button[data-action="play"]',this.paused?He:Re)},pause:function(){An(!0),Fn('#player-control-container button[data-action="play"]',this.paused?He:Re)},seeked:function(){gn=!1},progress:function(t){Tn(t.target.readyState<3)},ended:function(){null!=_r&&_r.continuousPlayback?bn||(Tn(!0),yn&&(yn.append(this),yn=null),Mn(),Dn(),setTimeout((function(){}),500)):rr()},timeupdate:function(){var t=ge()&&be()||this.duration;if(!gn){Vn()&&t-this.currentTime>=5&&Tn(!1),In&&An(!1);var n=e.document.querySelector("#player-control-container #videoPlayingProgress");n&&(n.value=Math.floor(this.currentTime/t*1e3)/10,qn(n));var r=e.document.querySelector("#player-control-container .control-time");if(r){var o=It(this.currentTime),i=t&&t!==1/0?"".concat(o," / ").concat(It(t)):"∞";Cn(r,"<span>".concat(i,"</span>"))}}},volumechange:function(){Fn('#player-control-container button[data-action="mute"]',this.muted||0===this.volume?Ge:ze);var t=e.document.querySelector("#player-control-container #videoVolumeProgress");t&&(t.value=Math.floor(1e3*this.volume)/10,qn(t))},ratechange:function(){var t=e.document.querySelector("#player-control-container .player-ctrl-playbackrate-result"),n=(Math.round(4*this.playbackRate)/4).toFixed(2).replace(/\.?0+$/,"");Cn(t,"<span>".concat(n,"x</span>"))},dblclick:function(t){t.stopPropagation(),this.paused?this.play():this.pause()}};Object.entries(n).forEach((function(e){var n=tn(e,2),r=n[0],o=n[1];t.removeEventListener(r,o),t.addEventListener(r,o)}))}},x(o),new MutationObserver((function(t){t.forEach((function(t){if("childList"===t.type){var e=Bn();e&&e!==o&&x(o=e)}}))})).observe(e.document.body,{childList:!0,subtree:!0}),null===(r=e.document.querySelector(".icon-play-container"))||void 0===r||r.addEventListener("click",(function(t){var e=Bn();null==e||e.play()})),e.document.addEventListener("keydown",(function(t){var n,r,o;t.stopPropagation();var i=Bn();if(i){var a=ge()&&be()||i.duration,c=e.document.querySelector(".video-container"),u=e.document.querySelector('#player-control-container button[data-action="next"]'),s=e.document.querySelector('#player-control-container button[data-action="prev"]'),l=10*parseInt(t.code.slice(-1));switch(t.code){case"Space":case"KeyK":i.paused?ne(i):re(i);break;case"ArrowLeft":Tn(!0),oe(Math.max(0,Math.floor(i.currentTime-5)),i);break;case"ArrowRight":Tn(!0),oe(Math.min(Math.floor(a),Math.floor(i.currentTime+5)),i);break;case"KeyJ":Tn(!0),oe(Math.max(0,Math.floor(i.currentTime-10)),i);break;case"KeyL":Tn(!0),oe(Math.min(Math.floor(a),Math.floor(i.currentTime+10)),i);break;case"ArrowUp":ie(Math.min(1,i.volume+.05),i);break;case"ArrowDown":ie(Math.max(0,i.volume-.05),i);break;case"Escape":rr();break;case"KeyQ":c&&(c.classList.toggle("hidden"),i.paused?i.play():i.pause());break;case"KeyM":ce(i);break;case"KeyN":t.shiftKey&&(u?u.click():Dn());break;case"KeyP":t.shiftKey?s?s.click():Gn():t.altKey&&rr();break;case"KeyT":null===(n=e.document.querySelector('#player-control-container button[data-action="fit"]'))||void 0===n||n.click();break;case"KeyC":null===(r=e.document.querySelector('#player-control-container button[data-action="caption"]'))||void 0===r||r.click();break;case"KeyB":null===(o=e.document.querySelector('#player-control-container button[data-action="danmaku"]'))||void 0===o||o.click();break;case"KeyF":rr(),setTimeout((function(){var t,e=(null===(t=pn)||void 0===t?void 0:t.currentMainVideo)||document.querySelector("video");e&&e.requestFullscreen&&e.requestFullscreen()}),200);break;case"Period":i&&(i.playbackRate=Math.min(4,i.playbackRate+.25));break;case"Comma":i&&(i.playbackRate=Math.max(.25,i.playbackRate-.25));break;case"Home":oe(0,i);break;case"End":oe(a,i);break;case"Digit0":case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":oe(a*(l/100),i)}}})),e.document.addEventListener("wheel",(function(t){t.stopPropagation();var e=Bn();if(e){var n=ge()&&be()||e.duration;t.deltaY<0?(Tn(!0),oe(Math.max(0,Math.floor(e.currentTime-5)),e)):t.deltaY>0&&(Tn(!0),oe(Math.min(Math.floor(n),Math.floor(e.currentTime+5)),e))}}));case 60:case"end":return t.stop()}}),t)}))),Rn.apply(this,arguments)}function Wn(t){return new Promise((function(e){return setTimeout(e,t)}))}function Dn(){var t={"youtube.com":function(){var t;return null===(t=document.querySelector(".ytp-next-button"))||void 0===t?void 0:t.click()},"netflix.com":function(){var t;return null===(t=document.querySelector(".button-nfplayerNextEpisode"))||void 0===t?void 0:t.click()},"hulu.com":function(){var t;return null===(t=document.querySelector(".next-episode-button"))||void 0===t?void 0:t.click()},"amazon.com":function(){var t;return null===(t=document.querySelector(".atvwebplayersdk-nextvideometadata-button"))||void 0===t?void 0:t.click()},"bilibili.com":function(){var t;return null===(t=document.querySelector(".bilibili-player-video-btn-next,.bpx-player-ending-related-item-countdown"))||void 0===t?void 0:t.click()},"iqiyi.com":function(){var t;return null===(t=document.querySelector(".qy-player-next-btn"))||void 0===t?void 0:t.click()},"youku.com":function(){var t;return null===(t=document.querySelector(".control-next-video"))||void 0===t?void 0:t.click()},"crunchyroll.com":function(){var t;return null===(t=document.querySelector(".episode-next"))||void 0===t?void 0:t.click()},"funimation.com":function(){var t;return null===(t=document.querySelector(".vjs-next-button"))||void 0===t?void 0:t.click()},"vimeo.com":function(){var t;return null===(t=document.querySelector(".vp-nav-button--next"))||void 0===t?void 0:t.click()},"dailymotion.com":function(){var t;return null===(t=document.querySelector(".dmp_ControlBarButton-next"))||void 0===t?void 0:t.click()},"twitch.tv":function(){var t;return null===(t=document.querySelector('[data-a-target="player-theatre-mode-button"]'))||void 0===t?void 0:t.click()},"disneyplus.com":function(){var t;return null===(t=document.querySelector(".up-next__cta-button"))||void 0===t?void 0:t.click()},"hbomax.com":function(){var t;return null===(t=document.querySelector(".next-episode-button"))||void 0===t?void 0:t.click()},"peacocktv.com":function(){var t;return null===(t=document.querySelector(".player-control-button--next-episode"))||void 0===t?void 0:t.click()},"paramountplus.com":function(){var t;return null===(t=document.querySelector(".next-episode-button"))||void 0===t?void 0:t.click()},"discoveryplus.com":function(){var t;return null===(t=document.querySelector(".dplus-player-controls__next-button"))||void 0===t?void 0:t.click()},"apple.com":function(){var t;return null===(t=document.querySelector(".playback-control--next"))||void 0===t?void 0:t.click()},"tiktok.com":function(){var t;return null===(t=document.querySelector(".css-1s9jpf8-ButtonBasicButtonContainer-StyledVideoSwitch"))||void 0===t?void 0:t.click()}},e=Object.keys(t).find((function(t){return window.location.hostname.includes(t)}));if(e)t[e]();else{var n,r=["next","下一个","следующий","nächste","suivant","siguiente","prossimo","próximo","次へ","다음","下一個","berikutnya","tiếp theo","ถัดไป","अगला","التالي","הבא","próximo","nästa","næste","neste","seuraava","następny","další","ďalší","következő","sljedeći","naslednji","следващ","următor","следећи","επόμενο","sonraki","наступний","келесі","кийинки","наступны","следен","следећи","berikut","susunod","seterusnya","next episode","next video"],o=cn(document.querySelectorAll("button, div, span, a"));try{var i,a=function(){var t=n.value,e=t.textContent.toLowerCase();if(r.some((function(t){return e.includes(t)})))return t.click(),{v:void 0}};for(o.s();!(n=o.n()).done;)if(i=a())return i.v}catch(t){o.e(t)}finally{o.f()}for(var c=0,u=[".next-button",".next-video",".next-episode",".next",".nextButton",".next_video",".nextVideo",".next_button",".next-episode-button",".nextEpisodeButton",".next_episode",".next-video-button",".nextVideoButton",".next-content-button",".nextContentButton","#next-button","#nextButton","#next_button","#next-video","#nextVideo","#next_video","[data-next-button]",'[data-action="next"]','[aria-label*="Next"]','[title*="Next"]'];c<u.length;c++){var s=u[c],l=document.querySelector(s);if(l)return void l.click()}}}function Gn(){var t={"youtube.com":function(){var t;return null===(t=document.querySelector(".ytp-prev-button"))||void 0===t?void 0:t.click()},"netflix.com":function(){var t;return null===(t=document.querySelector(".button-nfplayerPreviousEpisode"))||void 0===t?void 0:t.click()},"hulu.com":function(){var t;return null===(t=document.querySelector(".previous-episode-button"))||void 0===t?void 0:t.click()},"amazon.com":function(){var t;return null===(t=document.querySelector(".atvwebplayersdk-previousvideometadata-button"))||void 0===t?void 0:t.click()},"bilibili.com":function(){var t;return null===(t=document.querySelector(".bilibili-player-video-btn-prev"))||void 0===t?void 0:t.click()},"iqiyi.com":function(){var t;return null===(t=document.querySelector(".qy-player-prev-btn"))||void 0===t?void 0:t.click()},"youku.com":function(){var t;return null===(t=document.querySelector(".control-prev-video"))||void 0===t?void 0:t.click()},"crunchyroll.com":function(){var t;return null===(t=document.querySelector(".episode-prev"))||void 0===t?void 0:t.click()},"funimation.com":function(){var t;return null===(t=document.querySelector(".vjs-prev-button"))||void 0===t?void 0:t.click()},"vimeo.com":function(){var t;return null===(t=document.querySelector(".vp-nav-button--previous"))||void 0===t?void 0:t.click()},"dailymotion.com":function(){var t;return null===(t=document.querySelector(".dmp_ControlBarButton-prev"))||void 0===t?void 0:t.click()},"twitch.tv":function(){var t;return null===(t=document.querySelector('[data-a-target="player-theatre-mode-button"]'))||void 0===t?void 0:t.click()},"disneyplus.com":function(){var t;return null===(t=document.querySelector(".up-prev__cta-button"))||void 0===t?void 0:t.click()},"hbomax.com":function(){var t;return null===(t=document.querySelector(".previous-episode-button"))||void 0===t?void 0:t.click()},"peacocktv.com":function(){var t;return null===(t=document.querySelector(".player-control-button--previous-episode"))||void 0===t?void 0:t.click()},"paramountplus.com":function(){var t;return null===(t=document.querySelector(".previous-episode-button"))||void 0===t?void 0:t.click()},"discoveryplus.com":function(){var t;return null===(t=document.querySelector(".dplus-player-controls__prev-button"))||void 0===t?void 0:t.click()},"apple.com":function(){var t;return null===(t=document.querySelector(".playback-control--previous"))||void 0===t?void 0:t.click()},"tiktok.com":function(){var t;return null===(t=document.querySelector(".css-1s9jpf8-ButtonBasicButtonContainer-StyledVideoSwitch:first-child"))||void 0===t?void 0:t.click()}},e=Object.keys(t).find((function(t){return window.location.hostname.includes(t)}));if(e)t[e]();else{var n,r=["previous","上一个","предыдущий","vorherige","précédent","anterior","precedente","anterior","前へ","이전","上一個","sebelumnya","trước đó","ก่อนหน้า","पिछला","السابق","הקודם","anterior","föregående","forrige","forrige","edellinen","poprzedni","předchozí","predchádzajúci","előző","prethodni","prejšnji","предишен","anterior","претходни","προηγούμενο","önceki","попередній","алдыңғы","мурунку","папярэдні","претходен","претходни","sebelum","nauna","sebelumnya","previous episode","previous video"],o=cn(document.querySelectorAll("button, div, span, a"));try{var i,a=function(){var t=n.value,e=t.textContent.toLowerCase();if(r.some((function(t){return e.includes(t)})))return t.click(),{v:void 0}};for(o.s();!(n=o.n()).done;)if(i=a())return i.v}catch(t){o.e(t)}finally{o.f()}for(var c=0,u=[".prev-button",".prev-video",".prev-episode",".prev",".prevButton",".prev_video",".prevVideo",".prev_button",".previous-episode-button",".previousEpisodeButton",".previous_episode",".previous-video-button",".previousVideoButton",".previous-content-button",".previousContentButton","#prev-button","#prevButton","#prev_button","#prev-video","#prevVideo","#prev_video","[data-prev-button]",'[data-action="prev"]','[aria-label*="Previous"]','[title*="Previous"]'];c<u.length;c++){var s=u[c],l=document.querySelector(s);if(l)return void l.click()}}}function zn(t,e){return Un.apply(this,arguments)}function Un(){return Un=fn(ln().mark((function t(e,n){var r,o,i,a,c,u,s,l;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ln();case 2:if(o=t.sent,n=n.toLowerCase(),i=e.document.querySelector(".".concat(n,"-container")),a=e.document.querySelector('button[data-action="'.concat(n,'"]'))){t.next=8;break}return t.abrupt("return");case 8:if(c=new _n(e,mn,n),!(u=o.isJwPlayer&&"caption"===n)){t.next=14;break}t.t0=null===(r=e.document.querySelector(".jw-captions"))||void 0===r?void 0:r.classList.contains("jw-captions-enabled"),t.next=17;break;case 14:return t.next=16,c.isFeatureOn();case 16:t.t0=t.sent;case 17:t.t0?(a.classList.add("active"),u?null===(s=e.document.querySelector(".jw-captions"))||void 0===s||s.classList.remove("hidden"):null==i||i.classList.remove("hidden")):(a.classList.remove("active"),u?null===(l=e.document.querySelector(".jw-captions"))||void 0===l||l.classList.add("hidden"):null==i||i.classList.add("hidden")),a.addEventListener("click",(function(){var t;if(o.isJwPlayer&&"caption"===n)null===(t=e.document.querySelector(".jw-captions"))||void 0===t||t.classList.toggle("hidden"),a.classList.toggle("active");else if(o.isDetect&&o[n]){var r;null===(r=e.document.querySelector(o[n]))||void 0===r||r.classList.toggle("hidden"),a.classList.toggle("active"),null==i||i.classList.toggle("hidden")}else{var c,u=o["".concat(n,"Btn")];if(u)null===(c=vn.document.querySelector(u))||void 0===c||c.click();setTimeout((function(){a.classList.toggle("active"),null==i||i.classList.toggle("hidden"),i&&!i.classList.contains("hidden")&&new _n(e,mn,n).applyFeature()}),200)}}));case 20:case"end":return t.stop()}}),t)}))),Un.apply(this,arguments)}function Zn(t){if(t){var e=t.document.querySelector("video,smp-toucan-player"),n=t.document.querySelector('button[data-action="playbackRate"]'),r=t.document.querySelector(".player-ctrl-playbackrate-menu"),o=t.document.querySelector(".player-ctrl-playbackrate-result");n.addEventListener("click",(function(t){t.stopPropagation(),r.style.display="none"===r.style.display?"block":"none"})),r.addEventListener("click",(function(t){if(t.target.classList.contains("player-ctrl-playbackrate-menu-item")){var n=parseFloat(t.target.getAttribute("data-value"));e.playbackRate=n,o.textContent="".concat(n,"x"),r.style.display="none",r.querySelectorAll(".player-ctrl-playbackrate-menu-item").forEach((function(e){e.classList.toggle("bpx-state-active",e===t.target)}))}})),t.document.addEventListener("click",(function(){r.style.display="none"}))}}var Yn=function(t,e){return e>t};function Kn(){return Jn.apply(this,arguments)}function Jn(){return Jn=fn(ln().mark((function t(){var e,n,r,o,i,a,c,u,s;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("www.tiktok.com"!==location.hostname){t.next=5;break}if(!(e=document.querySelector(".css-7obd8t-DivMiniPlayerButtonContainer"))){t.next=5;break}return e.click(),t.abrupt("return",!1);case 5:if(!(n=Bn())||null!=n&&n.paused||n.ended){t.next=8;break}return t.abrupt("return",!1);case 8:return dr(chrome.i18n.getMessage("loading_pip_config"),1e4),t.next=11,Ln();case 11:if(!(r=t.sent).isJwPlayer){t.next=22;break}if(o=document.querySelector(".jwplayer")){t.next=20;break}return fr(),sr(chrome.i18n.getMessage("video_not_detected")),t.abrupt("return",!1);case 20:t.next=30;break;case 22:if(i=null===(a=pn)||void 0===a?void 0:a.currentMainVideo,!wn||i){t.next=25;break}return t.abrupt("return",!1);case 25:if(i){t.next=30;break}return fr(),sr(chrome.i18n.getMessage("video_not_detected")),t.abrupt("return",!1);case 30:if(yn=r.isJwPlayer?o.parentElement:pn.currentMainVideoWrapper,documentPictureInPicture.window){t.next=56;break}return c=$n(i||o,r.isJwPlayer),u=c.width,s=c.height,t.prev=34,t.next=37,documentPictureInPicture.requestWindow({width:u,height:s});case 37:return Xn(hn=t.sent,r.isJwPlayer),t.next=41,Qn(hn,r);case 41:er(hn,r.isJwPlayer),t.next=54;break;case 44:return t.prev=44,t.t0=t.catch(34),t.t1=dr,t.next=50,pr(t.t0);case 50:return t.t2=t.sent,t.t3=document.body,(0,t.t1)(t.t2,0,t.t3),t.abrupt("return",!1);case 54:t.next=57;break;case 56:hn=documentPictureInPicture.window;case 57:if(!r.isJwPlayer){t.next=61;break}mn.append(o),t.next=64;break;case 61:return nr(i),t.next=64,Pn();case 64:return t.next=66,Hn(hn,mn);case 66:return dr(chrome.i18n.getMessage("playing_in_pip_mode")),wn=!1,t.abrupt("return",!0);case 69:case"end":return t.stop()}}),t,null,[[34,44]])}))),Jn.apply(this,arguments)}function $n(t,e){var n=Math.floor(window.screen.width/window.devicePixelRatio*.25),r=e?t.clientWidth/t.clientHeight:(t.videoWidth||t.clientWidth)/(t.videoHeight||t.clientHeight),o=e?t.clientWidth:t.videoWidth||t.clientWidth,i=e?t.clientHeight:t.videoHeight||t.clientHeight,a=Yn(o,i),c=localStorage.getItem("pipPortraitWidth"),u=localStorage.getItem("pipLandscapeWidth"),s=Math.min(n,a?430:480),l=(a?c:u)||Math.min(o,s)||(a?430:480);return{width:l,height:l/r||(a?930:270)}}function Xn(t,e){t.addEventListener("pagehide",(function(n){bn=!0;try{var r,o=e?n.target.querySelector(".jwplayer"):n.target.querySelector("video");null===(r=yn)||void 0===r||r.append(o),e||(Mn(),fr())}catch(t){}finally{t=null,Tt(Qt,500)}}))}function Qn(t,e){return tr.apply(this,arguments)}function tr(){return tr=fn(ln().mark((function t(e,n){var r,o,i;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(t){return new Promise((function(n){if(e.document.querySelector('link[href="'.concat(t,'"]')))n();else{var r=e.document.createElement("link");r.rel="stylesheet",r.href=t,r.onload=n,e.document.head.appendChild(r)}}))},o=[],n.isJwPlayer&&o.push(r(chrome.runtime.getURL("css/jwplayer.css"))),Array.isArray(n.localCss)&&n.localCss.length>0&&o.push.apply(o,Qe(n.localCss.map((function(t){return r(chrome.runtime.getURL(t))})))),n.styles&&"string"==typeof n.styles&&""!==n.styles.trim()&&((i=e.document.createElement("style")).textContent=n.styles.trim(),e.document.head.appendChild(i)),t.next=7,Promise.all(o);case 7:case"end":return t.stop()}}),t)}))),tr.apply(this,arguments)}function er(t,e){!function(t){var e=t.document.querySelector(".loading-container");if(!e){(e=t.document.createElement("div")).classList.add("loading-container");var n=t.document.createElement("div");n.classList.add("loading-spinner"),e.append(n),t.document.body.append(e)}}(t),e||function(t){var e=t.document.querySelector(".icon-play-container");e||((e=t.document.createElement("div")).classList.add("icon-play-container"),e.innerHTML=Je,t.document.body.appendChild(e))}(t),function(t){mn=t.document.querySelector(".video-container"),mn||((mn=t.document.createElement("div")).classList.add("video-container"),t.document.body.append(mn))}(t),function(t){var e=mn.querySelector(".video-title");e||((e=t.document.createElement("div")).classList.add("video-title"),mn.appendChild(e));e.textContent=document.title.substring(0,100)||""}(t),function(t){var e=t.document.querySelector(".player-shortcuts-container");if(!e){(e=t.document.createElement("div")).classList.add("player-shortcuts-container","hidden");var n=t.document.createElement("button");n.classList.add("close-btn"),n.innerHTML="&times;",n.addEventListener("click",(function(){e.classList.add("hidden")}));var r=t.document.createElement("div");r.classList.add("shortcuts"),[{keys:"Space / k",description:chrome.i18n.getMessage("shortcut_play_pause")},{keys:"Left/Right Arrow",description:chrome.i18n.getMessage("shortcut_fast_forward_rewind_5")},{keys:"J / L",description:chrome.i18n.getMessage("shortcut_fast_forward_rewind_10")},{keys:"Up/Down Arrow",description:chrome.i18n.getMessage("shortcut_adjust_volume")},{keys:"M",description:chrome.i18n.getMessage("shortcut_mute_unmute")},{keys:"Mouse Wheel",description:chrome.i18n.getMessage("shortcut_fast_forward_rewind")},{keys:"Shift+N",description:chrome.i18n.getMessage("shortcut_next_video")},{keys:"Shift+P",description:chrome.i18n.getMessage("shortcut_previous_video")},{keys:"> / <",description:chrome.i18n.getMessage("shortcut_playback_speed")},{keys:"B",description:chrome.i18n.getMessage("shortcut_toggle_danmaku")},{keys:"C",description:chrome.i18n.getMessage("shortcut_toggle_captions")},{keys:"T",description:chrome.i18n.getMessage("shortcut_fit_to_screen")},{keys:"Q",description:chrome.i18n.getMessage("shortcut_toggle_hide_show")},{keys:"F",description:chrome.i18n.getMessage("shortcut_toggle_fullscreen")},{keys:"Home / End",description:chrome.i18n.getMessage("shortcut_seek_video_start_end")},{keys:"0-9",description:chrome.i18n.getMessage("shortcut_seek_percentage")},{keys:"Alt+P",description:chrome.i18n.getMessage("shortcut_enter_pip")},{keys:"Esc",description:chrome.i18n.getMessage("shortcut_exit_pip")}].forEach((function(e){var n=t.document.createElement("div");n.classList.add("shortcut");var o=t.document.createElement("div");o.classList.add("keys"),o.textContent=e.keys;var i=t.document.createElement("div");i.classList.add("description"),i.textContent=e.description,n.append(o,i),r.append(n)})),e.append(n,r),t.document.body.appendChild(e),e.addEventListener("wheel",(function(t){t.stopPropagation()}),{passive:!1})}}(t)}function nr(t){var e=mn.querySelector("video,smp-toucan-player");e&&e.remove(),t||(t=document.querySelector("video,smp-toucan-player")),t&&mn.append(t)}function rr(){return or.apply(this,arguments)}function or(){return or=fn(ln().mark((function t(){var e,n,r,o,i,a;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(),t.next=3,Ln();case 3:e=t.sent,bn=!0,documentPictureInPicture.window&&(e.isJwPlayer?(o=null===(n=documentPictureInPicture.window.document)||void 0===n?void 0:n.querySelector(".jwplayer"),null===(r=yn)||void 0===r||r.append(o),hn=null,Tt(Qt,500)):(Mn(),(a=null===(i=documentPictureInPicture.window.document)||void 0===i?void 0:i.querySelector("video"))&&yn.append(a),documentPictureInPicture.window.close(),hn=null,Tt(Qt,500)));case 6:case"end":return t.stop()}}),t)}))),or.apply(this,arguments)}function ir(){return ar.apply(this,arguments)}function ar(){return ar=fn(ln().mark((function t(){var e,n,r=arguments;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=r.length>0&&void 0!==r[0]&&r[0])||document.querySelector("video")){t.next=3;break}return t.abrupt("return",!1);case 3:if(_r.advancedPipEnable){t.next=5;break}return t.abrupt("return",h());case 5:if(bn=!1,!e){t.next=13;break}return t.next=9,Dt();case 9:if(!(n=t.sent)){t.next=13;break}return t.next=13,new Promise((function(t){var e=Date.now(),r=function(){4===n.readyState||Date.now()-e>=1e4?(navigator.userActivation.isActive||(n.muted=!0),ne(n),pn.currentMainVideo=n,t()):setTimeout(r,100)};r()}));case 13:return t.abrupt("return",Kn());case 14:case"end":return t.stop()}}),t)}))),ar.apply(this,arguments)}function cr(){return ur.apply(this,arguments)}function ur(){return(ur=fn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!documentPictureInPicture.window){t.next=3;break}return rr(),t.abrupt("return");case 3:ir();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var sr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n="toast-".concat(Date.now()),r=document.createElement("div");r.id=n,r.style.cssText="\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background-color: rgba(0, 0, 0, 0.75);\n        color: white;\n        padding: 25px;\n        border-radius: 5px;\n        z-index: 10000;\n        text-align: center;\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity 0.5s ease;\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n        font-size: 14px;\n    ",r.textContent=t,document.body.appendChild(r),r.offsetHeight,requestAnimationFrame((function(){r.style.opacity="1"})),setTimeout((function(){var t=document.getElementById(n);t&&(t.style.opacity="0",t.addEventListener("transitionend",(function e(){document.body.contains(t)&&document.body.removeChild(t),t.removeEventListener("transitionend",e)})))}),e)},lr=null,dr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(lr&&lr.remove(),t){(lr=document.createElement("div")).className="placeholder-overlay";var r="overlay-".concat(Date.now());lr.id=r;var o=document.createElement("div");o.className="placeholder-wrapper",o.addEventListener("click",(function(t){t.stopPropagation()}));var i=document.createElement("button");i.className="placeholder-close-btn",i.innerHTML="&times;",i.addEventListener("click",(function(t){t.stopPropagation(),lr.remove(),lr=null}));var a=document.createElement("div");a.className="placeholder-content",o.append(i,a),lr.appendChild(o),lr.style.cssText="\n        position: absolute;\n        inset: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: rgba(0, 0, 0, 0.5);\n        z-index: 9999;\n        pointer-events: none;\n    ",o.style.cssText="\n        position: relative;\n        padding: 2rem;\n        border-radius: 0.5rem;\n        text-align: center;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        background-color: rgba(0, 0, 0, 0.8);\n        max-width: 80%;\n        max-height: 80%;\n        overflow: auto;\n        pointer-events: auto;\n    ",a.style.cssText="\n        color: white;\n        font-size: 1rem;\n        line-height: 1.5;\n        word-wrap: break-word;\n        overflow-wrap: break-word;\n    ",i.style.cssText="\n        position: absolute;\n        top: 0.5rem;\n        right: 0.5rem;\n        width: 2rem;\n        height: 2rem;\n        border: none;\n        background-color: transparent;\n        color: white;\n        font-size: 1.5rem;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 0;\n        border-radius: 50%;\n        transition: background-color 0.3s;\n        pointer-events: auto;\n    ",i.addEventListener("mouseover",(function(){i.style.backgroundColor="rgba(255, 255, 255, 0.2)"})),i.addEventListener("mouseout",(function(){i.style.backgroundColor="transparent"}));var c,u=n;if(!u)for(u=(null===(c=pn)||void 0===c?void 0:c.currentMainVideoWrapper)||document.body;u&&u.offsetHeight<=0;)u=u.parentElement;return u&&u.appendChild(lr),t?("string"==typeof t?a.textContent=t:a.appendChild(t),lr.style.display="flex"):lr.style.display="none",lr.style.zIndex="2147483647",e>0&&setTimeout((function(){lr&&lr.id===r&&(lr.remove(),lr=null)}),e),!0}},fr=function(){var t=document.querySelector(".placeholder-overlay");t&&t.remove()};function pr(t){return hr.apply(this,arguments)}function hr(){return hr=fn(ln().mark((function t(e){var n,r,o,i,a,c,u,s,l,d,f,p,v,m,y,g,b,w;return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w=function(t){if(t.includes("youtube.com")){var e=new URL(t);return e.searchParams.set("autoplay","1"),e.toString()}return t},b=function(){if(window!==window.top)return w(window.location.href);var t=Array.from(document.getElementsByTagName("iframe"));if(0===t.length)return null;var e=t.find((function(t){try{var e;return null===(e=t.contentDocument)||void 0===e?void 0:e.querySelector("video")}catch(t){return!1}}));if(e)return w(e.src);var n=t.reduce((function(t,e){return t.clientWidth*t.clientHeight>e.clientWidth*e.clientHeight?t:e}));return w(n.src)},n=location.hostname,(r=document.createElement("div")).style.cssText="\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        color: white;\n        font-size: 16px;\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n    ",(o=document.createElement("p")).textContent=e.message||"An error occurred",o.style.cssText="\n        font-size: 16px;\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n    ",e.message&&e.message.includes("Document PiP requires user activation")&&(o.textContent=chrome.i18n.getMessage("pip_user_activation_required"),(i=document.createElement("button")).textContent=chrome.i18n.getMessage("retry_action"),i.style.cssText="\n            margin-top: 10px;\n            padding: 8px 16px;\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 14px;\n            font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n        ",i.addEventListener("click",(function(){ir(!0)})),r.appendChild(i)),!e.message||!e.message.includes("only allowed from a top-level browsing context")){t.next=51;break}if(!(a=b())){t.next=26;break}return t.next=14,L("get_site_configs",{url:a});case 14:if(u=t.sent,"use_standard_pip"!==(null==(s=null===(c=u.data)||void 0===c?void 0:c.siteConfigs)?void 0:s.pipRestrictionAction)){t.next=21;break}return h(),t.abrupt("return",null);case 21:if("open_in_new_tab"!==(null==s?void 0:s.pipRestrictionAction)){t.next=26;break}return re(pn.currentMainVideo),t.next=25,L("add_new_tab",{url:a,enterPictureInPicture:!0});case 25:return t.abrupt("return",null);case 26:o.textContent=chrome.i18n.getMessage("pip_window_restriction"),l=function(t,e,n){var r=document.createElement("button");return r.textContent=t,r.style.cssText="\n                margin-top: 10px;\n                padding: 8px 16px;\n                background-color: ".concat(e,";\n                color: white;\n                border: none;\n                border-radius: 4px;\n                cursor: pointer;\n                font-size: 14px;\n                font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n            "),r.addEventListener("click",n),r},(d=document.createElement("div")).style.cssText="\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            gap: 10px;\n            margin-top: 10px;\n        ",(f=document.createElement("div")).style.cssText="\n            display: flex;\n            justify-content: center;\n            gap: 10px;\n        ",p=l(chrome.i18n.getMessage("use_standard_pip"),"#4CAF50",(function(){ne(pn.currentMainVideo),h(),y.checked&&L("update_site_config",{hostname:n,config:{pipRestrictionAction:"use_standard_pip"}})})),f.appendChild(p),a&&(v=l(chrome.i18n.getMessage("open_in_new_tab"),"#008CBA",(function(){re(pn.currentMainVideo),L("add_new_tab",{url:a,enterPictureInPicture:!0}),y.checked&&L("update_site_config",{hostname:n,config:{pipRestrictionAction:"open_in_new_tab"}})})),f.appendChild(v)),d.appendChild(f),(m=document.createElement("div")).style.cssText="\n            display: flex;\n            align-items: center;\n            margin-top: 10px;\n        ",(y=document.createElement("input")).type="checkbox",y.id="rememberChoice",y.checked=!1,y.style.marginRight="5px",(g=document.createElement("label")).htmlFor="rememberChoice",g.textContent=chrome.i18n.getMessage("remember_site_pip_restriction_choice"),g.style.fontSize="12px",m.appendChild(y),m.appendChild(g),d.appendChild(m),r.appendChild(d);case 51:return r.appendChild(o),t.abrupt("return",r);case 53:case"end":return t.stop()}}),t)}))),hr.apply(this,arguments)}var vr=function(){if(null==_r||!_r.subtitleDetection)return!1;dr(chrome.i18n.getMessage("detecting_pip_subtitle_settings"),1e4);for(var t=document.querySelectorAll("video,smp-toucan-player"),e=new Set(["A","IMG","SVG","TITLE","BUTTON","FOOTER","NAV","ASIDE","LINK","CODE","BLOCKQUOTE","PRE","SCRIPT","STYLE","TEXTAREA","G","NOSCRIPT","BASE","KBD","WBR","RT","RP","META","MATH","TTS-SENTENCE","AIO-CODE","RELIN-TARGET"]),n=0,r=["text-track-wrapper","text-track","player-timedtext","caption","subtitle"];n<r.length;n++){var o,i=r[n],a=cn(t);try{for(a.s();!(o=a.n()).done;){var c=o.value,u=null;if(u=mr(c,[i],e))return u;for(var s=c;s;){if(u=yr(s,[i],e))return u;s=s.parentElement}}}catch(t){a.e(t)}finally{a.f()}}return null},mr=function(t,e,n){if(n.has(t.tagName.toUpperCase()))return null;var r=gr(t,e);if(r)return r;var o,i=cn(t.children);try{for(i.s();!(o=i.n()).done;){var a=o.value,c=mr(a,e,n);if(c)return c}}catch(t){i.e(t)}finally{i.f()}return null},yr=function(t,e,n){for(var r=t.nextElementSibling;r;){if(!n.has(r.tagName.toUpperCase())){var o=mr(r,e,n);if(o)return o}r=r.nextElementSibling}for(r=t.previousElementSibling;r;){if(!n.has(r.tagName.toUpperCase())){var i=mr(r,e,n);if(i)return i}r=r.previousElementSibling}return null},gr=function(t,e){try{var n=t.id,r=t.className,o=t.dataset;if(t.querySelector("img, svg"))return null;var i=e.map((function(t){return t.toLowerCase()}));if(n&&i.some((function(t){return n.toLowerCase().includes(t)})))return br(t,n,null,null);var a=Object.values(o);return a.length>0&&i.some((function(t){return a.some((function(e){return"string"==typeof e&&e.toLowerCase().includes(t)}))}))?br(t,null,null,o):r&&i.some((function(t){return r.toLowerCase().includes(t)}))?br(t,null,r,null):null}catch(t){return null}},br=function(t,e,n,r){for(var o=wr(e,n,r),i=wr(t.parentElement.id,t.parentElement.className,t.parentElement.dataset),a=t;a.children.length>0;)a=a.children[0];var c=window.getComputedStyle(a);return{caption:o,captionParent:i,captionStyle:{display:c.display,textAlign:c.textAlign,padding:c.padding,borderRadius:c.borderRadius,direction:c.direction,opacity:c.opacity,color:c.color,background:c.background,backgroundColor:c.backgroundColor}}},wr=function(t,e,n){var r=[];if(t&&/^[a-zA-Z_][a-zA-Z0-9_-]*$/.test(t)&&r.push("#".concat(CSS.escape(t))),n)for(var o=0,i=Object.entries(n);o<i.length;o++){var a=tn(i[o],2),c=a[0],u=a[1];u&&/^[a-zA-Z_][a-zA-Z0-9_-]*$/.test(c)&&r.push("[data-".concat(CSS.escape(c),'="').concat(CSS.escape(u),'"]'))}if("string"==typeof e){var s=e.split(" ").filter((function(t){return/^[a-zA-Z_][a-zA-Z0-9_-]*$/.test(t)})).map((function(t){return".".concat(CSS.escape(t))})).join("");s&&r.push(s)}return r.join("")};function xr(t){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(t)}function kr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */kr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==xr(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(xr(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Er(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Sr(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Er(i,r,o,a,c,"next",t)}function c(t){Er(i,r,o,a,c,"throw",t)}a(void 0)}))}}var Lr,_r={},Pr={},jr={},Mr=!1,Or=null,Cr=(new Map,function(){var t=Sr(kr().mark((function t(){return kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vr();case 2:le(),Tt((function(){Pe(),ue()}),1e3);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),Vr=function(){var t=Sr(kr().mark((function t(){var e,n,r,o,i,c,u;return kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L("get_settings");case 2:return null!=(c=t.sent)&&c.success&&null!==(e=c.data)&&void 0!==e&&e.settings&&(_r=c.data.settings,Pr=c.data.siteConfigs,jr=c.data.tab,Or=c.data.frameId,Pr&&Ce()),(null==c?void 0:c.success)&&((null===(n=c.data)||void 0===n||null===(n=n.tabConfig)||void 0===n?void 0:n.enterPictureInPicture)||(null===(r=Pr)||void 0===r?void 0:r.autoEnterPictureInPicture))&&(window.onload=function(t){setTimeout((function(){var t;null!==(t=_r)&&void 0!==t&&t.advancedPipEnable?ir(!0):h()}),1e3)}),t.next=9,L("is_sidepanel_opened");case 9:u=t.sent,Mr=(null==u?void 0:u.success)&&!0===u.data.is_sidepanel_opened,null!=u&&u.data&&null!==(o=_r)&&void 0!==o&&o.floatBall&&0===Or&&(u.data.is_sidepanel_opened?C():O()),null!=u&&u.data&&null!==(i=_r)&&void 0!==i&&i.sidebarEnabled&&0===Or&&(u.data.is_sidepanel_opened?Fe():Ne()),pn||((pn=new a).on("initialized",fn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!pn.currentMainVideo){t.next=4;break}return t.next=4,Ln();case 4:case"end":return t.stop()}}),t)})))),pn.init(),pn.on("mainVideoChanged",fn(ln().mark((function t(){return ln().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Qt(),t.next=3,Ln();case 3:pn.currentMainVideo&&hn&&!bn&&(wn=!1,Kn());case 4:case"end":return t.stop()}}),t)})))),pn.on("mainVideoProgress",(function(t){t.video;var e=t.percent,n=t.readyState;hn&&n<3&&Tn(!0,"Loading ".concat(e.toFixed(2),"%"))})),pn.on("mainVideoUpdated",(function(t,e){te(e)})));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Tr=function(){var t=Sr(kr().mark((function t(e,n,r){var o,i,a,c,u,s,l,d,v,m,b,w,x;return kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,t.t0=e.action,t.next="update_setting"===t.t0?4:"update_site_config"===t.t0?9:"tabUpdated"===t.t0?13:"tab_url_updated"===t.t0?16:"save_tab_session"===t.t0?20:"clear_browsing_data"===t.t0?24:"play_video"===t.t0?27:"pause_video"===t.t0?30:"video_jump_to_time"===t.t0?33:"volume_change"===t.t0?36:"playback_rate_change"===t.t0?39:"video_switch_mute"===t.t0?42:"switch_pip"===t.t0?45:"enterPictureInPicture"===t.t0?48:"exitPictureInPicture"===t.t0?51:"openPopup"===t.t0?54:"sidepanel_opened"===t.t0?58:"sidepanel_closed"===t.t0?65:"scroll_to_top"===t.t0?70:"scroll_to_bottom"===t.t0?73:"redirect_url"===t.t0?76:79;break;case 4:return _r[e.data.key]=e.data.value,"floatBall"===e.data.key&&(null!=_r&&_r.floatBall?Mr?C():O():C()),"theme"!==e.data.key&&"sidebarEnabled"!==e.data.key&&"sidebarPosition"!==e.data.key||(Fe(),Ne()),r({success:!0}),t.abrupt("break",81);case 9:return Pr[e.data.key]=e.data.value,Ce(),r({success:!0}),t.abrupt("break",81);case 13:return Oe(e.data.tabId,e.data.changeInfo,e.data.tab),r({success:!0}),t.abrupt("break",81);case 16:return t.next=18,Cr();case 18:return r({success:!0}),t.abrupt("break",81);case 20:return w=y(),x=g(),r({localStorageItems:w,sessionStorageItems:x}),t.abrupt("break",81);case 24:return localStorage.clear(),sessionStorage.clear(),r({success:!0}),t.abrupt("break",81);case 27:return ne(),r({success:!0}),t.abrupt("break",81);case 30:return re(),r({success:!0}),t.abrupt("break",81);case 33:return oe(e.data.value),r({success:!0}),t.abrupt("break",81);case 36:return ie(e.data.value),r({success:!0}),t.abrupt("break",81);case 39:return ae(e.data.value),r({success:!0}),t.abrupt("break",81);case 42:return ce(),r({success:!0}),t.abrupt("break",81);case 45:return null!==(o=_r)&&void 0!==o&&o.advancedPipEnable?cr():f(),r({success:!0}),t.abrupt("break",81);case 48:return null!==(i=_r)&&void 0!==i&&i.advancedPipEnable?ir(!0):h(),r({success:!0}),t.abrupt("break",81);case 51:return null!==(a=_r)&&void 0!==a&&a.advancedPipEnable?rr():p(),r({success:!0}),t.abrupt("break",81);case 54:return t.next=56,L("update_setting",{key:"clickExtensionIconAction",value:"openPopup"});case 56:return r({success:!0}),t.abrupt("break",81);case 58:if((null===(c=e.data)||void 0===c?void 0:c.name)==="sidepanel_".concat(null===(u=jr)||void 0===u?void 0:u.windowId)&&(C(),Fe(),Mr=!0),qr(),_r){t.next=63;break}return t.next=63,Cr();case 63:return r({success:!0}),t.abrupt("break",81);case 65:return Mr=!1,null!==(s=_r)&&void 0!==s&&s.floatBall&&(null===(l=e.data)||void 0===l?void 0:l.name)==="sidepanel_".concat(null===(d=jr)||void 0===d?void 0:d.windowId)&&0===Or&&O(),null!==(v=_r)&&void 0!==v&&v.sidebarEnabled&&(null===(m=e.data)||void 0===m?void 0:m.name)==="sidepanel_".concat(null===(b=jr)||void 0===b?void 0:b.windowId)&&0===Or&&Ne(),r({success:!0}),t.abrupt("break",81);case 70:return k=void 0,null===(k=Se)||void 0===k||k.scrollTo({top:0,left:0,behavior:"smooth"}),r({success:!0}),t.abrupt("break",81);case 73:return n=void 0,null===(n=Se)||void 0===n||n.scrollTo({top:Se.scrollHeight,left:0,behavior:"smooth"}),r({success:!0}),t.abrupt("break",81);case 76:return window.location.href=e.data.url,r({success:!0}),t.abrupt("break",81);case 79:return r({success:!1,error:"Unknown action"}),t.abrupt("break",81);case 81:t.next=87;break;case 83:t.prev=83,t.t1=t.catch(0);try{r({success:!1,error:t.t1.message})}catch(t){}case 87:case"end":return t.stop()}var n,k}),t,null,[[0,83]])})));return function(e,n,r){return t.apply(this,arguments)}}(),Ir=function(){var t=Sr(kr().mark((function t(){return kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L("open_sidepanel");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ar=function(){["keydown","mousedown","pointerdown","pointerup","touchend"].forEach((function(t){return document.addEventListener(t,Ir,{once:!0})}))},qr=function(){["keydown","mousedown","pointerdown","pointerup","touchend"].forEach((function(t){return document.removeEventListener(t,Ir,{once:!0})}))},Nr=function(){Cr(),chrome.runtime.onMessage.addListener((function(t,e,n){return Tr(t,e,n),!0}))},Fr=["googleads.g.doubleclick.net","s1.hdslb.com","oapi.dingtalk.com","login.dingtalk.com","imasdk.googleapis.com","acdn.adnxs.com","pos.baidu.com","js-sec.indexww.com","g.alicdn.com","ads.pubmatic.com","challenges.cloudflare.com","accounts.google.com","images-na.ssl-images-amazon.com","tpc.googlesyndication.com","js.stripe.com","acdn.adnxs-simple.com","s.union.360.cn","s.amazon-adsystem.com","www.recaptcha.net","s7.addthis.com","z.moatads.com","https://www.marketwatch.com/static_html/daa-min.html","tr.snapchat.com","ct.pinterest.com","*.moatads.com","secure-us.imrworldwide.com","static.noeyeon.click","widgets.outbrain.com","www.dianomi.com/smartads.epl","secure-assets.rubiconproject.com","eus.rubiconproject.com","eus.rubiconproject.com","i.liadm.com","eb2.3lift.com","googleads.g.doubleclick.net","https://www.google.com/recaptcha/*","ad.doubanio.com","datawrapper.dwcdn.net","*://*/*\\.svg","file://*/*\\.xml","file://*/*\\.svg"];Lr=window.location.href,Fr.some((function(t){return new RegExp(t.replace(/\*/g,".*")).test(Lr)}))||(window.addEventListener("DOMContentLoaded",Nr),window.addEventListener("pageshow",(function(t){t.persisted?Nr():Cr()})))})();
//# sourceMappingURL=contentScript.js.map