!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="ef8a7901-1c4f-4c7e-a48f-d73f43ce4ef1",t._sentryDebugIdIdentifier="sentry-dbid-ef8a7901-1c4f-4c7e-a48f-d73f43ce4ef1")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5b8a287a1b483f4f2df9ca5b0b173e162c17e934"},(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}var i,a=function(){return t=function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance)return t.instance;this.videos=new Set,this.videoPositions=new Map,this._currentMainVideo=null,this._currentMainVideoWrapper=null,this._currentMainVideoWrapperSelector=null,this._currentMainVideoInViewport=!1,this.intersectionObserver=null,this.mutationObserver=null,this.checkTimeout=null,this.eventListeners={},this.mainVideoEventListeners={},this._initialized=!1,t.instance=this},n=[{key:"init",value:function(){var t=this;document.body?this.initializeTracker():window.addEventListener("DOMContentLoaded",(function(){return t.initializeTracker()}))}},{key:"initializeTracker",value:function(){this._initialized||(this.setupMutationObserver(),this.setupIntersectionObserver(),this.findAllVideos(),this.setupVideoListeners(),window.addEventListener("scroll",this.throttle(this.checkMainVideo.bind(this),200)),this.checkMainVideo(),this._initialized=!0,this.emit("initialized"))}},{key:"findAllVideos",value:function(){var t=this;document.querySelectorAll("video").forEach((function(e){return t.addVideo(e)}))}},{key:"setupIntersectionObserver",value:function(){var t=this;this.intersectionObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(e.target===t._currentMainVideoWrapper&&(t._currentMainVideoInViewport=!0,t.emit("mainVideoIntersecting",t._currentMainVideo)),t.checkMainVideo()):e.target===t._currentMainVideo&&(t._currentMainVideoInViewport=!1,t.emit("mainVideoNotIntersecting",e.target))}))}),{root:null,rootMargin:"0px",threshold:.5})}},{key:"setupVideoListeners",value:function(){var t=this;this.videos.forEach((function(e){return t.addVideoListeners(e)}))}},{key:"addVideoListeners",value:function(t){var e=this;if(!t._videoEventListeners){var n={play:function(){return e.checkMainVideo()},pause:function(){return e.checkMainVideo()},ended:function(){return e.handleVideoEnded(t)},error:function(n){return e.handleVideoError(t,n)}};t._videoEventListeners=n,Object.keys(n).forEach((function(e){t.addEventListener(e,n[e])}))}}},{key:"handleVideoEnded",value:function(t){var e=this;this.emit("videoEnded",t),this.checkTimeout&&clearTimeout(this.checkTimeout),this.checkTimeout=setTimeout((function(){e.checkMainVideo()}),3e3)}},{key:"handleVideoError",value:function(t,e){this.emit("videoError",{video:t,error:e})}},{key:"setupMutationObserver",value:function(){var t=this;this.mutationObserver=new MutationObserver((function(e){var n=!1;e.forEach((function(e){"childList"===e.type?(e.addedNodes.forEach((function(e){"VIDEO"===e.nodeName?(t.addVideo(e),n=!0):e.nodeType===Node.ELEMENT_NODE&&e.querySelectorAll("video").forEach((function(e){t.addVideo(e),n=!0}))})),e.removedNodes.forEach((function(e){"VIDEO"===e.nodeName?(t.removeVideo(e),n=!0):e.nodeType===Node.ELEMENT_NODE&&e.querySelectorAll("video").forEach((function(e){t.removeVideo(e),n=!0}))}))):"attributes"===e.type&&"VIDEO"===e.target.nodeName&&"src"===e.attributeName&&(t.handleVideoSourceChange(e.target),n=!0)})),n&&t.checkMainVideo()})),document.body&&this.mutationObserver.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["src"]})}},{key:"handleVideoSourceChange",value:function(t){t.src||this.videos.delete(t),t.src&&this.addVideo(t),this.checkMainVideo(),this.emit("videoSourceChanged",t)}},{key:"addVideo",value:function(t){t.duration&&t.duration<=5||this.videos.has(t)||(this.videos.add(t),this.addVideoListeners(t),this.saveVideoPosition(t),this.emit("videoAdded",t))}},{key:"removeVideo",value:function(t){this.videos.has(t)&&(this.videos.delete(t),t._videoEventListeners&&(Object.keys(t._videoEventListeners).forEach((function(e){t.removeEventListener(e,t._videoEventListeners[e])})),delete t._videoEventListeners),this.emit("videoRemoved",t),this._currentMainVideo===t&&(this.intersectionObserver.unobserve(t),this._currentMainVideo=null,this._currentMainVideoInViewport=!1,this.checkMainVideo()))}},{key:"saveVideoPosition",value:function(t){var e=t.parentElement,n=Array.from(e.children).indexOf(t);this.videoPositions.set(t,{parent:e,index:n})}},{key:"restoreVideoPosition",value:function(t){var e=this.videoPositions.get(t);if(e){var n=e.parent,r=e.index,o=Array.from(n.children);r>=o.length?n.appendChild(t):n.insertBefore(t,o[r])}}},{key:"checkMainVideo",value:function(){var t,n=0,r=null,o=e(this.videos);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(!i.paused&&!i.ended){var a=this.getVisibleArea(i.getBoundingClientRect());a>n&&(n=a,r=i)}}}catch(t){o.e(t)}finally{o.f()}if(r&&r!==this._currentMainVideo){var c=this._currentMainVideo;this._currentMainVideo=r,this._currentMainVideoWrapper=this.findVideoWrapper(r),this._currentMainVideoWrapperSelector=this.findVideoWrapperSelector(r),this._currentMainVideoInViewport=this.isInViewport(r),this.intersectionObserver.observe(this._currentMainVideo),this.intersectionObserver.observe(this._currentMainVideoWrapper),this.emit("mainVideoChanged",{previous:c,current:r}),this.setupMainVideoListeners(r)}else r||(this._currentMainVideoInViewport=!1)}},{key:"findVideoWrapper",value:function(t){return t.parentElement}},{key:"findVideoWrapperSelector",value:function(t){var n=t.parentElement;if(!n)return null;var r="";if(n.id)r="#".concat(CSS.escape(n.id));else{r=n.tagName.toLowerCase(),n.className&&(r+=n.className.split(" ").filter((function(t){return""!==t.trim()})).map((function(t){return".".concat(CSS.escape(t))})).join(""));var o=Array.from(n.parentNode.children),i=o.indexOf(n)+1;(i>1||o.length>1)&&(r+=":nth-child(".concat(i,")"))}var a,c=e(n.attributes);try{for(c.s();!(a=c.n()).done;){var u=a.value;u.name.startsWith("data-")&&(r+="[".concat(u.name,'="').concat(CSS.escape(u.value),'"]'))}}catch(t){c.e(t)}finally{c.f()}return r}},{key:"setupMainVideoListeners",value:function(t){var e=this;if(t){this.removeMainVideoListeners(t);var n=function(t,n){return e.emit("mainVideoUpdated",t,n)};this.mainVideoEventListeners={play:function(){e.emit("mainVideoPlay",t),n("mainVideoPlay",t)},pause:function(){e.emit("mainVideoPause",t),n("mainVideoPause",t)},ended:function(){e.emit("mainVideoEnded",t),n("mainVideoEnded",t)},timeupdate:function(){e.emit("mainVideoTimeUpdate",t),n("mainVideoTimeUpdate",t)},volumechange:function(){e.emit("mainVideoVolumeChange",t),n("mainVideoVolumeChange",t)},ratechange:function(){e.emit("mainVideoRateChange",t),n("mainVideoRateChange",t)},seeked:function(){e.emit("mainVideoSeeked",t),n("mainVideoSeeked",t)},seeking:function(){e.emit("mainVideoSeeking",t),n("mainVideoSeeking",t)},stalled:function(){e.emit("mainVideoStalled",t),n("mainVideoStalled",t)},suspend:function(){e.emit("mainVideoSuspend",t),n("mainVideoSuspend",t)},progress:function(){var n=t.buffered,r=t.duration;if(n.length){var o=n.end(n.length-1)/r*100;e.emit("mainVideoProgress",{video:t,percent:o,readyState:t.readyState})}}},Object.keys(this.mainVideoEventListeners).forEach((function(n){t.addEventListener(n,e.mainVideoEventListeners[n])}))}}},{key:"removeMainVideoListeners",value:function(t){var e=this;t&&this.mainVideoEventListeners&&Object.keys(this.mainVideoEventListeners).forEach((function(n){t.removeEventListener(n,e.mainVideoEventListeners[n])}))}},{key:"getVisibleArea",value:function(t){var e=window.innerHeight,n=Math.max(t.top,0),r=Math.min(t.bottom,e);return Math.max(0,r-n)*t.width}},{key:"isInViewport",value:function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}},{key:"on",value:function(t,e){this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].push(e)}},{key:"off",value:function(t,e){this.eventListeners[t]&&(this.eventListeners[t]=this.eventListeners[t].filter((function(t){return t!==e})))}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.eventListeners[t]&&this.eventListeners[t].forEach((function(t){return t.apply(void 0,n)}))}},{key:"throttle",value:function(t,e){var n;return function(){var r=arguments;n||(t.apply(this,r),n=!0,setTimeout((function(){return n=!1}),e))}}},{key:"currentMainVideo",get:function(){return this._currentMainVideo},set:function(t){var e=this._currentMainVideo;this._currentMainVideo=t,this.emit("mainVideoChanged",{previous:e,current:t})}},{key:"currentMainVideoWrapper",get:function(){return this._currentMainVideoWrapper}},{key:"currentMainVideoWrapperSelector",get:function(){return this._currentMainVideoWrapperSelector}},{key:"currentMainVideoInViewport",get:function(){return this._currentMainVideoInViewport}}],n&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new V(r||[]);return o(a,"_invoke",{value:j(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",y="completed",g={};function b(){}function w(){}function x(){}var k={};d(k,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(T([])));S&&S!==n&&r.call(S,a)&&(k=S);var L=x.prototype=b.prototype=Object.create(k);function _(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,i,a,u){var s=p(t[o],t,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==c(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,n,r){var o=h;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=M(c,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=p(e,n,r);if("normal"===s.type){if(o=r.done?y:v,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=y,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},_(P.prototype),d(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new P(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(L),d(L,l,"Generator"),d(L,a,(function(){return this})),d(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,V.prototype={constructor:V,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function s(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}var d=function(){return i||(i=new a).init(),i};function f(){return!!document.pictureInPictureElement&&(document.exitPictureInPicture(),!0)}function p(){return h.apply(this,arguments)}function h(){return(h=l(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.userActivation.isActive,null!==(n=null===(e=d())||void 0===e?void 0:e.currentMainVideo)&&!0!==(null==n?void 0:n.paused)&&!0!==(null==n?void 0:n.muted)){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n){t.next=17;break}if(n.hasAttribute("disablePictureInPicture")&&n.removeAttribute("disablePictureInPicture"),!document.pictureInPictureElement){t.next=9;break}return t.abrupt("return",!1);case 9:return t.prev=9,t.next=12,n.requestPictureInPicture();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(9);case 17:return t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[9,14]])})))).apply(this,arguments)}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function g(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */g=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new V(r||[]);return o(a,"_invoke",{value:j(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function b(){}function w(){}function x(){}var k={};s(k,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(T([])));S&&S!==n&&r.call(S,a)&&(k=S);var L=x.prototype=b.prototype=Object.create(k);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==v(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function j(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=M(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?m:p,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function M(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return w.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=s(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,s(t,u,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},_(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new P(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(L),s(L,u,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,V.prototype={constructor:V,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function b(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){b(i,r,o,a,c,"next",t)}function c(t){b(i,r,o,a,c,"throw",t)}a(void 0)}))}}function x(){for(var t={},e=0;e<localStorage.length;e++){var n=localStorage.key(e),r=localStorage.getItem(n);t[n]=r}return t}function k(){for(var t={},e=0;e<sessionStorage.length;e++){var n=sessionStorage.key(e),r=sessionStorage.getItem(n);t[n]=r}return t}function E(t){return S.apply(this,arguments)}function S(){return(S=w(g().mark((function t(e){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(window.location.href.startsWith("http")){t.next=4;break}return t.abrupt("return");case 4:return n=[],e.cacheStorage&&n.push(L()),e.fileSystem&&n.push(P()),e.indexedDB&&n.push(M()),e.localStorage&&n.push(C()),e.serviceWorkers&&n.push(V()),e.webSQL&&n.push(I()),e.sessionStorage&&n.push(q()),t.next=14,Promise.all(n);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){return _.apply(this,arguments)}function _(){return(_=w(g().mark((function t(){var e;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=7;break}return t.next=3,caches.keys();case 3:return e=t.sent,t.next=7,Promise.all(e.map((function(t){return caches.delete(t)})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return j.apply(this,arguments)}function j(){return(j=w(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"webkitRequestFileSystem"in window&&window.webkitRequestFileSystem(window.TEMPORARY,1048576,(function(t){t.root.createReader().readEntries((function(t){t.forEach((function(t){t.isDirectory?t.removeRecursively((function(){}),(function(){})):t.remove((function(){}),(function(){}))}))}))}),(function(t){}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return O.apply(this,arguments)}function O(){return(O=w(g().mark((function t(){var e,n,r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,indexedDB.databases();case 2:e=t.sent,n=m(e);try{for(n.s();!(r=n.n()).done;)o=r.value,indexedDB.deleteDatabase(o.name)}catch(t){n.e(t)}finally{n.f()}case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){localStorage.clear()}function V(){return T.apply(this,arguments)}function T(){return(T=w(g().mark((function t(){var e,n,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("serviceWorker"in navigator)){t.next=7;break}return t.next=3,navigator.serviceWorker.getRegistrations();case 3:e=t.sent,n=m(e);try{for(n.s();!(r=n.n()).done;)r.value.unregister()}catch(t){n.e(t)}finally{n.f()}case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return A.apply(this,arguments)}function A(){return(A=w(g().mark((function t(){var e,n,r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.openDatabase){t.next=21;break}return t.next=3,new Promise((function(t){window.openDatabase("dummy","1.0","dummy",1).transaction((function(e){e.executeSql('SELECT name FROM sqlite_master WHERE type="table"',[],(function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).name);t(r)}))}))}));case 3:e=t.sent,n=m(e),t.prev=6,o=g().mark((function t(){var e;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=r.value,window.openDatabase(e,"1.0",e,1).transaction((function(t){t.executeSql("DROP TABLE IF EXISTS ".concat(e))}));case 3:case"end":return t.stop()}}),t)})),n.s();case 9:if((r=n.n()).done){t.next=13;break}return t.delegateYield(o(),"t0",11);case 11:t.next=9;break;case 13:t.next=18;break;case 15:t.prev=15,t.t1=t.catch(6),n.e(t.t1);case 18:return t.prev=18,n.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[6,15,18,21]])})))).apply(this,arguments)}function q(){sessionStorage.clear()}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function F(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */F=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==N(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(N(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function B(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function R(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){B(i,r,o,a,c,"next",t)}function c(t){B(i,r,o,a,c,"throw",t)}a(void 0)}))}}var H=[/Could not establish connection. Receiving end does not exist/,/The message port closed before a response was received/,/A listener indicated an asynchronous response by returning true/],W=function(t){return H.some((function(e){return"string"==typeof e?t.includes(e):e.test(t)}))},D=function(){var t=R(F().mark((function t(e){var n,r,o,i,a=arguments;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2?a[2]:void 0,o=a.length>3?a[3]:void 0,t.prev=3,t.next=6,chrome.runtime.sendMessage({action:e,data:n,from:r,target:o});case 6:return i=t.sent,t.abrupt("return",i);case 10:return t.prev=10,t.t0=t.catch(3),W(t.t0.message),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function z(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */z=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==G(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(G(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function U(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Y(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){U(i,r,o,a,c,"next",t)}function c(t){U(i,r,o,a,c,"throw",t)}a(void 0)}))}}function Z(){if(!document.getElementById("sidepanel-ball-container")){var t=function(t){var e=s+t.clientY-u,n=window.innerHeight-r.clientHeight;e>=0&&e<=n&&(r.style.top=e+"px")},e=function(){var n=r.offsetTop/window.innerHeight*100+"%";localStorage.setItem("sidepanelBallTopPercent",n),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)},n=function(){document.fullscreenElement||setTimeout((function(){a(),setTimeout((function(){c()}),2e3)}),1e3)},r=document.createElement("div");r.id="sidepanel-ball-container",r.style.position="fixed",r.style.top="30%",r.style.right="0px",r.style.zIndex="2147483647";var o=document.createElement("div");o.id="fab",o.style.width="32px",o.style.height="32px",o.style.backgroundColor="#ff4081",o.style.borderRadius="32px 0 0 32px",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="flex-start",o.style.boxShadow="0px 3px 5px rgba(0,0,0,0.3)",o.style.cursor="pointer",o.style.transition="transform 0.3s",o.style.opacity="0.1";var i=document.createElement("div");i.id="fab-icon",i.style.width="24px",i.style.height="24px",i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.margin="0 8px",i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#FFF"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm540-453h100v-107H700v107Zm0 186h100v-106H700v106ZM160-240h460v-480H160v480Zm540 0h100v-107H700v107Z"/></svg>',o.appendChild(i),r.appendChild(o),document.body.appendChild(r);var a=function(){o.style.width="54px",o.style.transition="width 0.2s",setTimeout((function(){o.style.opacity="1"}),300)},c=function(){o.style.width="32px",o.style.transition="width 0.2s",o.style.opacity="0.3"};setTimeout((function(){c()}),1500),o.addEventListener("mouseenter",a),o.addEventListener("mouseleave",c),o.addEventListener("click",Y(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.style.transform="scale(1)",Ur(),r.remove();case 3:case"end":return t.stop()}}),t)}))));var u,s,l=localStorage.getItem("sidepanelBallTopPercent");null!==l&&(r.style.top=l),o.addEventListener("mousedown",(function(n){u=n.clientY,s=r.offsetTop,document.addEventListener("mousemove",t),document.addEventListener("mouseup",e)})),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)})),document.removeEventListener("fullscreenchange",n),document.addEventListener("fullscreenchange",n)}}function K(){var t=document.getElementById("sidepanel-ball-container");t&&t.remove()}const J=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const $="object"==typeof global&&global&&global.Object===Object&&global;var X="object"==typeof self&&self&&self.Object===Object&&self;const Q=$||X||Function("return this")();const tt=function(){return Q.Date.now()};var et=/\s/;const nt=function(t){for(var e=t.length;e--&&et.test(t.charAt(e)););return e};var rt=/^\s+/;const ot=function(t){return t?t.slice(0,nt(t)+1).replace(rt,""):t};const it=Q.Symbol;var at=Object.prototype,ct=at.hasOwnProperty,ut=at.toString,st=it?it.toStringTag:void 0;const lt=function(t){var e=ct.call(t,st),n=t[st];try{t[st]=void 0;var r=!0}catch(t){}var o=ut.call(t);return r&&(e?t[st]=n:delete t[st]),o};var dt=Object.prototype.toString;const ft=function(t){return dt.call(t)};var pt=it?it.toStringTag:void 0;const ht=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":pt&&pt in Object(t)?lt(t):ft(t)};const vt=function(t){return null!=t&&"object"==typeof t};const mt=function(t){return"symbol"==typeof t||vt(t)&&"[object Symbol]"==ht(t)};var yt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,bt=/^0o[0-7]+$/i,wt=parseInt;const xt=function(t){if("number"==typeof t)return t;if(mt(t))return NaN;if(J(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=J(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ot(t);var n=gt.test(t);return n||bt.test(t)?wt(t.slice(2),n?2:8):yt.test(t)?NaN:+t};var kt=Math.max,Et=Math.min;const St=function(t,e,n){var r,o,i,a,c,u,s=0,l=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function h(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-s>=i}function v(){var t=tt();if(h(t))return m(t);c=setTimeout(v,function(t){var n=e-(t-u);return d?Et(n,i-(t-s)):n}(t))}function m(t){return c=void 0,f&&r?p(t):(r=o=void 0,a)}function y(){var t=tt(),n=h(t);if(r=arguments,o=this,u=t,n){if(void 0===c)return function(t){return s=t,c=setTimeout(v,e),l?p(t):a}(u);if(d)return clearTimeout(c),c=setTimeout(v,e),p(u)}return void 0===c&&(c=setTimeout(v,e)),a}return e=xt(e)||0,J(n)&&(l=!!n.leading,i=(d="maxWait"in n)?kt(xt(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},y.flush=function(){return void 0===c?a:m(tt())},y};var Lt=function(t){if(null==t)return"00:00";var e=Number(t);if(isNaN(e)||e<0)return"00:00";if(e===1/0||t>86400)return"∞";var n=Math.floor(e),r=Math.floor(n/3600),o=Math.floor(n%3600/60),i=n%60;return r>0?"".concat(String(r).padStart(2,"0"),":").concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0")):"".concat(String(o).padStart(2,"0"),":").concat(String(i).padStart(2,"0"))};function _t(t){var e=t.getBoundingClientRect();if(e.width<200||e.height<200||e.width>e.height&&e.height/e.width>2.4)return!1;var n=e.right>=.75*window.innerWidth&&e.bottom>=.75*window.innerHeight,r=e.width*e.height<=window.innerWidth*window.innerHeight*.25;return(!n||!r)&&!!(t.duration>=10||t.duration===1/0||isNaN(t.duration))}var Pt=function(t,e,n){t.removeEventListener(e,n),t.addEventListener(e,n)},jt=new Map;function Mt(t){var e=t.parentElement,n=Array.from(e.children).indexOf(t);jt.set(t,{parent:e,index:n})}function Ot(t){var e=jt.get(t);if(e){var n=e.parent,r=e.index,o=Array.from(n.children);r>=o.length?n.appendChild(t):n.insertBefore(t,o[r])}}function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function Vt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Vt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ct(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ct(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Tt(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function It(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Tt(i,r,o,a,c,"next",t)}function c(t){Tt(i,r,o,a,c,"throw",t)}a(void 0)}))}}var At=null,qt=function(){var t=It(Vt().mark((function t(){var e,n,r,o,i,a=arguments;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:5,!(r=null===(e=documentPictureInPicture.window)||void 0===e?void 0:e.document.querySelector("video"))){t.next=4;break}return t.abrupt("return",r);case 4:if(!(i=(o=function(){return Array.from(document.querySelectorAll("video,smp-toucan-player")).filter((function(t){return 0!==t.readyState&&_t(t)})).sort((function(t,e){if(t.duration&&e.duration&&t.duration!==e.duration)return e.duration-t.duration;var n=t.getClientRects()[0]||{width:0,height:0},r=e.getClientRects()[0]||{width:0,height:0};return r.width*r.height-n.width*n.height}))[0]||null})())){t.next=8;break}return t.abrupt("return",i);case 8:return t.abrupt("return",new Promise((function(t){var e=0,r=setInterval((function(){((i=o())||e>=10*n)&&(clearInterval(r),t(i)),e++}),100)})));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Nt(){return"documentPictureInPicture"in window}function Ft(){try{setTimeout((function(){D("page_picture_in_picture",{tabId:null==Rr?void 0:Rr.id,pipOn:null!==document.pictureInPictureElement||Nt()&&null!==documentPictureInPicture.window,pipSupport:!0===("pictureInPictureEnabled"in document&&document.pictureInPictureEnabled)})}),500)}catch(t){}}var Bt=St((function(t,e){return Rt(t,e)}),250),Rt=function(){var t=It(Vt().mark((function t(e,n){return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,!(null!=Fr&&Fr.enableProgressBar&&null!=Fr&&Fr.playingProgressBar&&Hr)){t.next=6;break}return t.next=6,D("playing_timeupdate",{from:n,loop:e.loop,isUsableVideo:_t(e),isCurrentVideo:At===e,duration:Zt()?Kt():e.duration,currentTime:Math.floor(e.currentTime),paused:e.paused,ended:e.ended,volume:e.volume,muted:e.muted,playbackRate:e.playbackRate,progress:(e.currentTime/(Zt()?Kt()||e.currentTime:e.duration)*100).toFixed(2)});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}(),Ht=function(){var t=It(Vt().mark((function t(e){var n;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Yt()){t.next=3;break}return window.postMessage({action:"play_video"},"https://www.netflix.com"),t.abrupt("return");case 3:if(t.t0=e,t.t0){t.next=8;break}return t.next=7,qt();case 7:t.t0=t.sent;case 8:null==(n=t.t0)||n.play(),Rt(n,"playVideo");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Wt=function(){var t=It(Vt().mark((function t(e){var n;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Yt()){t.next=3;break}return window.postMessage({action:"pause_video"},"https://www.netflix.com"),t.abrupt("return");case 3:if(t.t0=e,t.t0){t.next=8;break}return t.next=7,qt();case 7:t.t0=t.sent;case 8:null==(n=t.t0)||n.pause(),Rt(n,"pauseVideo");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Dt=function(){var t=It(Vt().mark((function t(e,n){var r;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Yt()){t.next=3;break}return window.postMessage({action:"seek_video",position:1e3*e},"https://www.netflix.com"),t.abrupt("return");case 3:if(t.t0=n,t.t0){t.next=8;break}return t.next=7,qt();case 7:t.t0=t.sent;case 8:(r=t.t0)&&(r.fastSeek?r.fastSeek(e):r.currentTime=e,Rt(r,"seekVideo"));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Gt=function(){var t=It(Vt().mark((function t(e,n){var r;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Yt()){t.next=3;break}return window.postMessage({action:"volume_video",vol:e},"https://www.netflix.com"),t.abrupt("return");case 3:if(t.t0=n,t.t0){t.next=8;break}return t.next=7,qt();case 7:t.t0=t.sent;case 8:(r=t.t0)&&(r.volume=e,Rt(r,"volumeChange"));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),zt=function(){var t=It(Vt().mark((function t(e,n){var r;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,t.t0){t.next=5;break}return t.next=4,qt();case 4:t.t0=t.sent;case 5:(r=t.t0)&&(r.playbackRate=e,Rt(r,"playbackRateChange"));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Ut=function(){var t=It(Vt().mark((function t(e){var n;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,qt();case 4:t.t0=t.sent;case 5:(n=t.t0)&&(n.muted=!n.muted,Rt(n,"switchMute"),setTimeout((function(){!1!==n.muted&&0===n.volume&&(n.volume=.1)}),1e3));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function Yt(){return window.location.href.includes("netflix.com")}function Zt(){return window.location.href.includes("disneyplus.com")}function Kt(){var t;return Math.floor(null===(t=document.querySelector(".controls__footer__progressWrapper.display-flex > div.progress-bar > div"))||void 0===t?void 0:t.getAttribute("aria-valuemax"))}function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function $t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$t=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Jt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Jt(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Xt(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Qt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Xt(i,r,o,a,c,"next",t)}function c(t){Xt(i,r,o,a,c,"throw",t)}a(void 0)}))}}var te=null;function ee(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;try{if(t===document&&(t=document.documentElement),!(t instanceof HTMLElement))throw new Error("Invalid element provided");te=t;var e=t===document.documentElement||t===document.body,n=e?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop,r=e?Math.max(document.documentElement.scrollHeight,document.body.scrollHeight):t.scrollHeight,o=e?window.innerHeight:t.clientHeight;if(r<=o)return 0;if(r/o<((null==Fr?void 0:Fr.scrollHeightRatio)||2))return 0;var i=n/(r-o)*100;return parseFloat(Math.min(Math.max(i,0),100).toFixed(1))}catch(t){return 0}}var ne=St(function(){var t=Qt($t().mark((function t(e){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(e.target);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),100),re=function(){var t=Qt($t().mark((function t(){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Wr){t.next=3;break}return t.next=3,oe();case 3:window.removeEventListener("scroll",ne),window.addEventListener("scroll",ne,!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function oe(t){return ie.apply(this,arguments)}function ie(){return(ie=Qt($t().mark((function t(e){var n;return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==Fr||!Fr.readingProgressBar||null!==At){t.next=7;break}return n=ee(e),t.next=5,D("page_scrolled",{scrollProgress:n});case 5:t.next=9;break;case 7:return t.next=9,D("page_scrolled",{scrollProgress:0});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}const ae=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)};const ce=function(t){return t};const ue=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var se=Math.max;const le=function(t,e,n){return e=se(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=se(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),ue(t,this,c)}};const de=function(t){return function(){return t}};const fe=function(t){if(!J(t))return!1;var e=ht(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const pe=Q["__core-js_shared__"];var he,ve=(he=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||""))?"Symbol(src)_1."+he:"";const me=function(t){return!!ve&&ve in t};var ye=Function.prototype.toString;const ge=function(t){if(null!=t){try{return ye.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var be=/^\[object .+?Constructor\]$/,we=Function.prototype,xe=Object.prototype,ke=we.toString,Ee=xe.hasOwnProperty,Se=RegExp("^"+ke.call(Ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Le=function(t){return!(!J(t)||me(t))&&(fe(t)?Se:be).test(ge(t))};const _e=function(t,e){return null==t?void 0:t[e]};const Pe=function(t,e){var n=_e(t,e);return Le(n)?n:void 0};const je=function(){try{var t=Pe(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const Me=je?function(t,e){return je(t,"toString",{configurable:!0,enumerable:!1,value:de(e),writable:!0})}:ce;var Oe=Date.now;const Ce=function(t){var e=0,n=0;return function(){var r=Oe(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Me);const Ve=function(t,e){return Ce(le(t,e,ce),t+"")}((function(t,e,n){return ae(t,xt(e)||0,n)}));var Te,Ie,Ae=function(t,e,n){if("status"in e)switch(e.status){case"loading":break;case"complete":Dr()}},qe=function(){var t,e,n;0===Wr?((null===(t=Br.linkOpenOptions)||void 0===t?void 0:t.length)>0?Ne(Br.linkOpenOptions):Be(),(null===(e=Br.titleOptions)||void 0===e?void 0:e.length)>0&&Fe(Br.titleOptions),(null===(n=Br.linkRefreshOptions)||void 0===n?void 0:n.length)>0&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){Re(Br.linkRefreshOptions)})):Re(Br.linkRefreshOptions))):Be()},Ne=function(t){document.querySelectorAll("a").forEach((function(e){if(e.href!==window.location.href){var n=t.find((function(t){try{return new RegExp(t.regex).test(e.href)}catch(n){return e.href.includes(t.regex)}}));n&&(e.setAttribute("link_target_backup",e.getAttribute("target")||""),e.setAttribute("target",n.target))}}))},Fe=function(t){var e=t.find((function(t){return"exact"===t.matchPattern?t.url===document.location.href:"contains"===t.matchPattern&&(window.location.href.includes(t.url)&&window.location.href.includes("?"))}));e&&e.updatePageTitle&&(document.title=e.newTitle)},Be=function(){document.querySelectorAll("a[link_target_backup]").forEach((function(t){t.setAttribute("target",t.getAttribute("link_target_backup")),t.removeAttribute("link_target_backup")}))},Re=function(t){var e=t.find((function(t){try{return new RegExp(t.regex).test(window.location.href)}catch(e){return window.location.href.includes(t.regex)}}));if(e&&!(e.refreshInterval<=0)){clearInterval(Te),clearInterval(Ie);var n=document.getElementById("refresh-float-ball");n&&document.body.removeChild(n);var r=He(),o=We(r),i=document.createElement("span");r.appendChild(i),r.appendChild(o),window.postMessage({action:"page_keep_alive"},location.origin);var a=0,c=60*e.refreshInterval*1e3;Ie=setInterval((function(){var t=(c-a)/1e3;i.innerText="".concat(Math.max(0,Math.floor(t))),(a+=1e3)>=c&&(clearInterval(Ie),window.location.reload())}),1e3),document.body.appendChild(r),De(r)}},He=function(){var t=document.createElement("div");return t.id="refresh-float-ball",Object.assign(t.style,{position:"fixed",bottom:"40px",right:"40px",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"move",zIndex:"99999",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",transition:"all 0.3s ease",fontSize:"14px",fontWeight:"bold"}),t.title=chrome.i18n.getMessage("countdown_refresh"),t.addEventListener("mouseover",(function(){t.style.transform="scale(1.1)"})),t.addEventListener("mouseout",(function(){t.style.transform="scale(1)"})),t},We=function(t){var e=document.createElement("button");return e.innerText="×",Object.assign(e.style,{position:"absolute",top:"-8px",right:"-8px",width:"20px",height:"20px",backgroundColor:"rgba(255, 0, 0, 0.8)",color:"white",border:"none",borderRadius:"50%",cursor:"pointer",zIndex:"199999",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",opacity:"0",transition:"opacity 0.3s ease, transform 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"}),e.addEventListener("click",(function(e){e.stopPropagation(),clearInterval(Ie),clearInterval(Te),t.style.transform="scale(0)",setTimeout((function(){return document.body.removeChild(t)}),300)})),e.addEventListener("mouseover",(function(){e.style.transform="scale(1.1)"})),e.addEventListener("mouseout",(function(){e.style.transform="scale(1)"})),t.addEventListener("mouseover",(function(){e.style.opacity="1"})),t.addEventListener("mouseout",(function(){e.style.opacity="0"})),e},De=function(t){var e,n,r,o,i=!1;function a(a){if(i){var c=a.clientX-e,u=a.clientY-n;requestAnimationFrame((function(){t.style.left="".concat(r+c,"px"),t.style.top="".concat(o+u,"px"),t.style.right="auto",t.style.bottom="auto"}))}}function c(){i=!1,document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",c)}t.onmousedown=function(u){u.preventDefault(),i=!0,e=u.clientX,n=u.clientY;var s=t.getBoundingClientRect();r=s.left,o=s.top,document.addEventListener("mousemove",a),document.addEventListener("mouseup",c)}};function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function ze(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ge(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ge(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ue=function(t,e,n){var r=document.createElement("div");return r.innerHTML=e,r.title=chrome.i18n.getMessage(t),Object.assign(r.style,{cursor:"pointer",fontSize:"14px",color:"dark"===Fr.theme?"#ccc":"#666",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"0",backgroundColor:"transparent",transition:"color 0.3s ease, transform 0.3s ease"}),r.addEventListener("mouseenter",(function(){r.style.color="dark"===Fr.theme?"#ff6666":"#ff9999",r.style.transform="scale(1.1)"})),r.addEventListener("mouseleave",(function(){r.style.color="dark"===Fr.theme?"#ccc":"#666",r.style.transform="scale(1)"})),r.addEventListener("click",n),r},Ye=function(){if(Fr.sidebarEnabled&&!document.getElementById("customSidebar")){var t="left"===Fr.sidebarPosition,e=document.createElement("div");e.id="customSidebar";var n=document.createElement("div");n.id="sidebarHeader",n.innerHTML="<span>".concat(chrome.i18n.getMessage("appShortName"),"</span>"),Object.assign(n.style,{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",backgroundColor:"transparent",color:"dark"===Fr.theme?"#fff":"#000",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",zIndex:"10000",cursor:"pointer"});var r=document.createElement("div");Object.assign(r.style,{display:"flex",alignItems:"center",gap:"10px"}),r.appendChild(Ue("disableSidebar",'<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q54 0 104-17.5t92-50.5L228-676q-33 42-50.5 92T160-480q0 134 93 227t227 93Zm252-124q33-42 50.5-92T800-480q0-134-93-227t-227-93q-54 0-104 17.5T284-732l448 448Z"/></svg>',(function(){return confirm(chrome.i18n.getMessage("disableSidebarAlert"))&&D("disable_sidebar")}))),r.appendChild(Ue("toggleSidebarPosition",t?'<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M800-240v-480h80v480h-80Zm-320 0-57-56 144-144H80v-80h487L424-664l56-56 240 240-240 240Z"/></svg>':'<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="M160-240H80v-480h80v480Zm320 0L240-480l240-240 56 56-143 144h487v80H393l144 144-57 56Z"/></svg>',(function(){return D("update_sidebar_position",{position:t?"right":"left"})}))),r.appendChild(Ue("closeSidebar",'<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>',(function(){return Ze()}))),n.appendChild(r),e.appendChild(n);var o=document.createElement("iframe");o.src=chrome.runtime.getURL("sidebar.html"),o.setAttribute("tabindex","-1"),Object.assign(o.style,{height:"calc(100% - 50px)",width:"100%",border:"none",overflowY:"hidden"}),e.appendChild(o),o.onload=function(){o.contentWindow&&o.contentWindow.postMessage({type:"SIDEBAR_LOADED"},"*"),n.addEventListener("click",(function(){o.contentWindow&&o.contentWindow.postMessage({type:"SIDEBAR_LOADED"},"*")}))},Object.assign(e.style,ze(ze(ze(ze(ze(ze(ze(ze(ze(ze({position:"fixed",top:"0"},t?"left":"right","0"),"height","100%"),"zIndex","99999"),"backgroundColor","dark"===Fr.theme?"#222":"rgba(255,255,255,0.75)"),"backdropFilter","blur(15px)"),"color","dark"===Fr.theme?"#fff":"#000"),"boxShadow",t?"2px 0 5px rgba(0,0,0,0.1)":"-2px 0 5px rgba(0,0,0,0.1)"),"transition","transform 0.3s ease, width 0.3s ease"),"width",Fr.sidebarWidth||"300px"),"transform","translateX(".concat(t?"-100%":"100%",")")));var i=document.createElement("div");Object.assign(i.style,ze(ze(ze(ze(ze(ze({position:"absolute",top:"0"},t?"right":"left","-5px"),"width","10px"),"height","100%"),"cursor","ew-resize"),"backgroundColor","transparent"),"transition","background-color 0.3s ease")),e.appendChild(i);var a,c,u,s=!1,l=!1,d=function(){e.style.transform="translateX(0)",o.contentWindow&&o.contentWindow.postMessage({type:"SIDEBAR_SHOWN"},"*")},f=function(){s||l||(e.style.transform="translateX(".concat(t?"-100%":"100%",")"),o.contentWindow&&o.contentWindow.postMessage({type:"SIDEBAR_HIDDEN"},"*"))},p=function(n){if(l){var r=t?n.clientX-a:a-n.clientX,o=Math.max(45,Math.min(c+r,window.innerWidth/2));e.style.width="".concat(o,"px")}},h=function(){l=!1,document.documentElement.removeEventListener("mousemove",p),document.documentElement.removeEventListener("mouseup",h),i.style.backgroundColor="transparent",e.style.pointerEvents="auto",document.body.style.cursor="default";var t=e.style.width;localStorage.setItem("sidebarWidth",t),D("updateSidebarWidth",{width:t}),s=!1},v=St(p,10);i.addEventListener("mousedown",(function(t){t.preventDefault(),l=!0,a=t.clientX,c=parseInt(getComputedStyle(e).width,10),document.documentElement.addEventListener("mousemove",v),document.documentElement.addEventListener("mouseup",h),i.style.backgroundColor="rgba(0,0,0,0.1)",e.style.pointerEvents="none",document.body.style.cursor="ew-resize"})),e.addEventListener("mouseenter",(function(){s=!0,clearTimeout(u),u=setTimeout(d,500)})),e.addEventListener("mouseleave",(function(){s=!1,clearTimeout(u),l||f()}));document.addEventListener("mousemove",(function(e){l||((t?e.clientX<=20:e.clientX>=document.body.offsetWidth-20)?d():s||f())})),document.body.appendChild(e),chrome.runtime.onMessage.addListener((function(t){"updateSidebarWidth"===t.action&&(e.style.width=t.data.width)}))}},Ze=function(){var t=document.getElementById("customSidebar");t&&t.remove()},Ke='<svg width="13" height="13" viewBox="0 0 24 24" fill="#fff" xmlns="http://www.w3.org/2000/svg"><path d="M20 4 8.667 12 20 20z" /><path d="M4 20h2.667V4H4z"/></svg>',Je='\n    <svg width="13" height="13" viewBox="6 6 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M15 12.3301L9 16.6603L9 8L15 12.3301Z" fill="#fff" />\n    </svg>\n',$e='\n    <svg width="13" height="13" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">\n        <path fill="#fff" d="M120.16 45A20.162 20.162 0 0 0 100 65.16v381.68A20.162 20.162 0 0 0 120.16 467h65.68A20.162 20.162 0 0 0 206 446.84V65.16A20.162 20.162 0 0 0 185.84 45h-65.68zm206 0A20.162 20.162 0 0 0 306 65.16v381.68A20.162 20.162 0 0 0 326.16 467h65.68A20.162 20.162 0 0 0 412 446.84V65.16A20.162 20.162 0 0 0 391.84 45h-65.68z"/>\n    </svg>\n',Xe='\n<svg width="13" height="13" viewBox="10 10 16 16" xmlns="http://www.w3.org/2000/svg">\n    <path class="ytp-svg-fill" d="M 12,24 20.5,18 12,12 V 24 z M 22,12 v 12 h 2 V 12 h -2 z" fill="#fff" />\n</svg>\n',Qe='<svg fill="#FFF" width="13" height="13" viewBox="-0.024 0 0.309 0.309" xmlns="http://www.w3.org/2000/svg" class="cf-icon-svg"><path d="M0.125 0.08v0.156c0 0.01 -0.006 0.012 -0.013 0.005l-0.047 -0.047H0.033A0.018 0.018 0 0 1 0.015 0.177V0.14a0.018 0.018 0 0 1 0.018 -0.018h0.032l0.047 -0.047c0.007 -0.007 0.013 -0.005 0.013 0.005m0.118 0.112a0.009 0.009 0 1 1 -0.013 0.013l-0.034 -0.034 -0.034 0.034a0.009 0.009 0 1 1 -0.013 -0.013l0.034 -0.034L0.15 0.125a0.009 0.009 0 0 1 0.013 -0.013L0.196 0.146l0.034 -0.034a0.009 0.009 0 0 1 0.013 0.013l-0.034 0.034z"/></svg>\n',tn='\n    <svg width="13" height="13" fill="#fff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path d="M16 7v10M4 17h2.697L14 21.868V2.132L6.697 7H4c-1.103 0-2 .897-2 2v6c0 1.103.897 2 2 2z"/>\n    </svg>\n',en='\n<svg width="13" height="13" fill="#fff" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 21c3.527-1.547 5.999-4.909 5.999-9S19.527 4.547 16 3v2c2.387 1.386 3.999 4.047 3.999 7S18.387 17.614 16 19v2z"/>\n    <path d="M16 7v10c1.225-1.1 2-3.229 2-5s-.775-3.9-2-5zM4 17h2.697L14 21.868V2.132L6.697 7H4c-1.103 0-2 .897-2 2v6c0 1.103.897 2 2 2z"/>\n</svg>\n',nn='<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><text x="50%" y="50%" font-size="12" fill="#ffffff" text-anchor="middle" dominant-baseline="middle">弾</text></svg>',rn='<svg width="13" height="13" fill="#fff" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M464 64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM208.1 287.7c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.6 56.8-172.8 32.1-172.8-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7l-17.5 30.5c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2.1 48 51.1 70.5 92.3 32.6zm210.4 0c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.5 56.9-172.7 32.1-172.7-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7L430 222.2c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2 0 48 51 70.5 92.2 32.6z"/></svg>',on='<svg width="13" height="13" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.25 4C20.3211 4 22 5.67893 22 7.75V16.25C22 18.3211 20.3211 20 18.25 20H5.75C3.67893 20 2 18.3211 2 16.25V7.75C2 5.67893 3.67893 4 5.75 4H18.25ZM18.25 5.5H5.75C4.50736 5.5 3.5 6.50736 3.5 7.75V16.25C3.5 17.4926 4.50736 18.5 5.75 18.5H18.25C19.4926 18.5 20.5 17.4926 20.5 16.25V7.75C20.5 6.50736 19.4926 5.5 18.25 5.5ZM18.25 13C18.6642 13 19 13.3358 19 13.75V15C19 16.1046 18.1046 17 17 17H15.75C15.3358 17 15 16.6642 15 16.25C15 15.8358 15.3358 15.5 15.75 15.5H17C17.2761 15.5 17.5 15.2761 17.5 15V13.75C17.5 13.3358 17.8358 13 18.25 13ZM5.75 13C6.16421 13 6.5 13.3358 6.5 13.75V15C6.5 15.2761 6.72386 15.5 7 15.5H8.25C8.66421 15.5 9 15.8358 9 16.25C9 16.6642 8.66421 17 8.25 17H7C5.89543 17 5 16.1046 5 15V13.75C5 13.3358 5.33579 13 5.75 13ZM7 7H8.25C8.66421 7 9 7.33579 9 7.75C9 8.1297 8.71785 8.44349 8.35177 8.49315L8.25 8.5H7C6.75454 8.5 6.55039 8.67688 6.50806 8.91012L6.5 9V10.25C6.5 10.6642 6.16421 11 5.75 11C5.3703 11 5.05651 10.7178 5.00685 10.3518L5 10.25V9C5 7.94564 5.81588 7.08183 6.85074 7.00549L7 7ZM17 7C18.1046 7 19 7.89543 19 9V10.25C19 10.6642 18.6642 11 18.25 11C17.8358 11 17.5 10.6642 17.5 10.25V9C17.5 8.72386 17.2761 8.5 17 8.5H15.75C15.3358 8.5 15 8.16421 15 7.75C15 7.33579 15.3358 7 15.75 7H17Z" fill="#FFF"/>\n</svg>',an='\n    <svg fill="#FFF" width="13" height="13" viewBox="0 0 0.39 0.39" xmlns="http://www.w3.org/2000/svg"><path d="M0.101 0.216a0.015 0.015 0 0 0 -0.005 -0.003 0.016 0.016 0 0 0 -0.012 0 0.015 0.015 0 0 0 -0.009 0.009 0.016 0.016 0 1 0 0.03 0 0.016 0.016 0 0 0 -0.003 -0.005M0.219 0.179h0.016a0.016 0.016 0 0 0 0 -0.033h-0.016a0.016 0.016 0 0 0 0 0.033m-0.065 0h0.016a0.016 0.016 0 0 0 0 -0.033h-0.016a0.016 0.016 0 0 0 0 0.033m-0.049 -0.033h-0.016a0.016 0.016 0 0 0 0 0.033h0.016a0.016 0.016 0 0 0 0 -0.033M0.325 0.081H0.065a0.049 0.049 0 0 0 -0.049 0.049v0.13a0.049 0.049 0 0 0 0.049 0.049h0.26a0.049 0.049 0 0 0 0.049 -0.049V0.13a0.049 0.049 0 0 0 -0.049 -0.049m0.016 0.179a0.016 0.016 0 0 1 -0.016 0.016H0.065a0.016 0.016 0 0 1 -0.016 -0.016V0.13a0.016 0.016 0 0 1 0.016 -0.016h0.26a0.016 0.016 0 0 1 0.016 0.016Zm-0.098 -0.049H0.146a0.016 0.016 0 0 0 0 0.033h0.098a0.016 0.016 0 0 0 0 -0.033m0.057 -0.065h-0.016a0.016 0.016 0 0 0 0 0.033h0.016a0.016 0.016 0 0 0 0 -0.033m0.012 0.07a0.016 0.016 0 0 0 -0.005 -0.003 0.016 0.016 0 0 0 -0.012 0 0.015 0.015 0 0 0 -0.005 0.003 0.016 0.016 0 0 0 -0.003 0.005 0.016 0.016 0 1 0 0.031 0.006 0.014 0.014 0 0 0 -0.001 -0.006 0.016 0.016 0 0 0 -0.003 -0.005"/></svg>\n',cn='\n    <svg fill="#FFF" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="60" height="60" viewBox="0 0 38.4 38.4" enable-background="new 0 0 512 512" xml:space="preserve"><g><path d="M19.2 0C8.596 0 0 8.596 0 19.2s8.596 19.2 19.2 19.2 19.2 -8.596 19.2 -19.2S29.804 0 19.2 0m0 35.4c-8.947 0 -16.2 -7.253 -16.2 -16.2S10.253 3 19.2 3s16.2 7.253 16.2 16.2 -7.253 16.2 -16.2 16.2"/><path points="192,336 352,256 192,176 \t" d="M14.4 25.2L26.4 19.2L14.4 13.2Z"/></g></svg>\n';const un=function(t){return"number"==typeof t||vt(t)&&"[object Number]"==ht(t)};function sn(t){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}function ln(t){return function(t){if(Array.isArray(t))return bn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||gn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||gn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mn(r.key),r)}}function pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pn(Object(n),!0).forEach((function(e){vn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vn(t,e,n){return(e=mn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mn(t){var e=function(t,e){if("object"!=sn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sn(e)?e:e+""}function yn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=gn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function gn(t,e){if(t){if("string"==typeof t)return bn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(t,e):void 0}}function bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==sn(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(sn(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function xn(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function kn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xn(i,r,o,a,c,"next",t)}function c(t){xn(i,r,o,a,c,"throw",t)}a(void 0)}))}}window.addEventListener("DOMContentLoaded",(function(){Pn=window}));var En,Sn,Ln,_n,Pn=window,jn=null,Mn=null,On=!1,Cn=!1,Vn=!1,Tn=null,In=function(){var t=kn(wn().mark((function t(){var e,n,r,o,i,a,c,u,s,l,d,f,p,h,v,m,y,g,b,w,x;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(new Date,Tn={cssUrls:[],localCss:["css/pip.css"],styles:""},document.querySelector(".video-js")&&Tn.localCss.push("css/vjs.css"),e=window.location.hostname,n="vertitab-pip-config-".concat(e),!((r=sessionStorage.getItem(n))&&Object.keys(r).length>0)){t.next=9;break}return o=JSON.parse(r),t.abrupt("return",o);case 9:return t.prev=9,t.next=12,D("get_pip_config",{url:window.location.href});case 12:if(!(i=t.sent).success||!i.data){t.next=73;break}if(!Array.isArray(i.data)){t.next=67;break}a=window.location.href,c=yn(i.data),t.prev=18,c.s();case 20:if((u=c.n()).done){t.next=57;break}if(s=u.value,"string"!=typeof(l=s.matches)||!new RegExp(l).test(a)){t.next=32;break}return t.next=26,An(s.css,Tn);case 26:return Tn=t.sent,d=hn(hn({},Tn),s),sessionStorage.setItem(n,JSON.stringify(d)),t.abrupt("return",hn(hn({},d),{},{cssUrls:d.cssUrls.filter((function(t){return!t.startsWith("http")}))}));case 32:if(!Array.isArray(l)){t.next=55;break}f=yn(l),t.prev=34,f.s();case 36:if((p=f.n()).done){t.next=47;break}if(h=p.value,!new RegExp(h).test(a)){t.next=45;break}return t.next=41,An(s.css,Tn);case 41:return Tn=t.sent,v=hn(hn({},Tn),s),sessionStorage.setItem(n,JSON.stringify(v)),t.abrupt("return",hn(hn({},v),{},{cssUrls:v.cssUrls.filter((function(t){return!t.startsWith("http")}))}));case 45:t.next=36;break;case 47:t.next=52;break;case 49:t.prev=49,t.t0=t.catch(34),f.e(t.t0);case 52:return t.prev=52,f.f(),t.finish(52);case 55:t.next=20;break;case 57:t.next=62;break;case 59:t.prev=59,t.t1=t.catch(18),c.e(t.t1);case 62:return t.prev=62,c.f(),t.finish(62);case 65:t.next=73;break;case 67:return t.next=69,An(i.data.css,Tn);case 69:return Tn=t.sent,m=hn(hn({},Tn),i.data),sessionStorage.setItem(n,JSON.stringify(m)),t.abrupt("return",hn(hn({},m),{},{cssUrls:m.cssUrls.filter((function(t){return!t.startsWith("http")}))}));case 73:t.next=78;break;case 75:t.prev=75,t.t2=t.catch(9);case 78:for(y=!1,g=0,b=[{match:".vjs-text-track-display",nextVideoBtn:".vjs-icon-next-item",supportCaption:!0,captionBtn:"vjs-captions-toggle",captionParent:"video-js.video-js",caption:".vjs-text-track-display"},{match:".jw-captions",supportCaption:!0,supportDanmaku:!1,captionParent:".jw-wrapper",caption:".jw-captions"},{match:".plyr__captions",supportCaption:!0,supportDanmaku:!1,captionBtn:'.plyr__control[data-plyr="captions"]',caption:".plyr__captions",captionStatus:{type:"classList",selector:".plyr--captions-enabled",className:"plyr--captions-active",include:!0}},{match:".text-track-wrapper>.text-track-cue",supportCaption:!0,supportDanmaku:!1,captionParent:".text-track-wrapper",caption:".text-track-cue"},{match:".aliplayer-danmuku",nextVideoBtn:".vjs-icon-next-item",supportCaption:!0,supportDanmaku:!0,danmakuParent:".aliplayer-danmuku",danmaku:".danmu.container"}];g<b.length;g++)w=b[g],document.querySelector(w.match)&&(Tn=hn(hn({},Tn),w),y=!0);return y||(x=Pr())&&(Tn=hn(hn(hn({},Tn),x),{},{isDetect:!0})),Tn.isJwPlayer=!!document.querySelector(".jwplayer"),t.abrupt("return",hn(hn({},Tn),{},{cssUrls:Tn.cssUrls.filter((function(t){return!t.startsWith("http")}))}));case 84:case"end":return t.stop()}}),t,null,[[9,75],[18,59,62,65],[34,49,52,55]])})));return function(){return t.apply(this,arguments)}}(),An=function(){var t=kn(wn().mark((function t(e,n){var r,o,i;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=23;break}if(!Array.isArray(e)){t.next=21;break}r=yn(e),t.prev=3,r.s();case 5:if((o=r.n()).done){t.next=11;break}return i=o.value,t.next=9,qn(i,n);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:t.next=23;break;case 21:return t.next=23,qn(e,n);case 23:return t.abrupt("return",n);case 25:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})));return function(e,n){return t.apply(this,arguments)}}(),qn=function(){var t=kn(wn().mark((function t(e,n){var r;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.startsWith("http")){t.next=5;break}return t.next=3,D("http_request",{url:e,method:"get"});case 3:(r=t.sent).success&&r.data&&(n.styles+="\n".concat(r.data));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Nn=function(){var t=kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Tn&&0!==Object.keys(Tn).length){t.next=5;break}return t.next=3,In();case 3:Tn=t.sent;case 5:return null!=Br&&Br.captionSetting&&null!=Br&&Br.captionSelector&&(null!=Br&&Br.captionSelector&&(Tn=hn(hn({},Tn),{},{caption:null==Br?void 0:Br.captionSelector})),null!=Br&&Br.captionParentSelector&&(Tn=hn(hn({},Tn),{},{captionParent:null==Br?void 0:Br.captionParentSelector}))),t.abrupt("return",Tn);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Fn=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=null,this.pipWindow=e,this.videoContainer=n,this.mainEl=null,this.feature=r.toLowerCase()},e=[{key:"init",value:(c=kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.config){t.next=4;break}return t.next=3,Nn();case 3:this.config=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"hasFeature",value:(a=kn(wn().mark((function t(){var e;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:return e="support".concat(this.feature.charAt(0).toUpperCase()+this.feature.slice(1)),t.abrupt("return",this.config[e]||this.config[this.feature]&&!!Pn.document.querySelector(this.config[this.feature]));case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"isFeatureOn",value:(i=kn(wn().mark((function t(){var e,n,r,o,i,a;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:if(e="".concat(this.feature,"Status"),!(n=this.config[e])){t.next=14;break}r=Pn.document.querySelector(n.selector),t.t0=n.type,t.next="attr"===t.t0?9:"classList"===t.t0?10:"func"===t.t0?11:"childClass"===t.t0?12:14;break;case 9:return t.abrupt("return",(null==r?void 0:r.getAttribute(n.attrName))===n.attrValue);case 10:return t.abrupt("return",(null==r?void 0:r.classList.contains(n.className))===n.include);case 11:return t.abrupt("return",n.func());case 12:return t.abrupt("return",!(null==r||!r.querySelector('*[class*="'.concat(n.childClassName,'"]')))===n.include);case 14:if("caption"!==this.feature||null==Br||!Br.captionSetting||null==Br||!Br.captionSelector){t.next=16;break}return t.abrupt("return",!0);case 16:if(!Tn.isDetect||!Tn[this.feature]){t.next=22;break}if(!(i=Sn.document.querySelector(Tn[this.feature]))||"TRACK"!==i.nodeName){t.next=20;break}return t.abrupt("return",!0);case 20:return a=null===(o=Sn.document.querySelector(Tn[this.feature]))||void 0===o?void 0:o.textContent.trim(),t.abrupt("return",""!==a);case 22:return t.abrupt("return",!1);case 23:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"applyFeature",value:(o=kn(wn().mark((function t(){var e,n,r,o,i,a;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:if(this.config[this.feature]){t.next=4;break}return t.abrupt("return");case 4:return(n=this.pipWindow.document.querySelector(".".concat(this.feature,"-container")))||((n=this.pipWindow.document.createElement("div")).classList.add("".concat(this.feature,"-container")),this.config.css||n.classList.add("enforce-style"),this.videoContainer.appendChild(n)),t.next=8,er(500);case 8:if(this.mainEl=this.config.wrapperSelector?null===(e=Mn)||void 0===e||null===(e=e.closest(this.config.wrapperSelector))||void 0===e?void 0:e.querySelector(this.config[this.feature]):Pn.document.querySelector(this.config[this.feature]),this.mainEl){if(Mt(this.mainEl),this.mainEl.style.zIndex=1999,this.config.captionStyle)r=this.mainEl.querySelector("*:not(:has(*))")||this.mainEl,Object.assign(r.style,this.config.captionStyle);else if("caption"===this.feature){for(o=this.mainEl;o.children.length>0;)o=o.children[0];i=window.getComputedStyle(o),a={display:i.display,textAlign:i.textAlign,padding:i.padding,borderRadius:i.borderRadius,direction:i.direction,opacity:i.opacity,color:i.color,background:i.background,backgroundColor:i.backgroundColor},Object.assign(o.style,a)}n.appendChild(this.mainEl)}case 10:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"resetFeature",value:(r=kn(wn().mark((function t(){var e;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.mainEl){t.next=6;break}return t.next=3,this.init();case 3:(e=this.config["clean".concat(this.feature.charAt(0).toUpperCase()+this.feature.slice(1))])&&this.mainEl.querySelectorAll(e).forEach((function(t){return t.remove()})),Ot(this.mainEl);case 6:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],e&&fn(t.prototype,e),n&&fn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,o,i,a,c}();function Bn(){return Rn.apply(this,arguments)}function Rn(){return(Rn=kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Sn){t.next=2;break}return t.abrupt("return");case 2:return Ln=new Fn(Sn,jn,"danmaku"),_n=new Fn(Sn,jn,"caption"),Ln.applyFeature(),_n.applyFeature(),t.abrupt("return",{danmakuInstance:Ln,captionInstance:_n});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Hn(){return Wn.apply(this,arguments)}function Wn(){return(Wn=kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Sn){t.next=2;break}return t.abrupt("return");case 2:Ln&&Ln.resetFeature(),_n&&_n.resetFeature();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Dn(t,e){t&&(t.innerHTML="",t.innerHTML=e)}var Gn=function(){if(!Sn)return!1;var t=Sn.document.querySelector(".loading-container");return!!t&&t.classList.contains("show")},zn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Loading...";if(Sn){var n=Sn.document.querySelector(".loading-container");if(n){var r=n.querySelector(".loading-text");r&&(r.textContent=e),t?n.classList.add("show"):n.classList.remove("show")}}},Un=!1,Yn=function(t){if(Sn){var e=Sn.document.querySelector(".icon-play-container");e&&(t?(e.classList.add("show"),Un=!0):(e.classList.remove("show"),Un=!1))}},Zn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e?e+"%":t.value+"%";t.style.setProperty("--litters-range",n)},Kn=function(t,e,n){var r=Sn.document.querySelector(t);if(r){var o=n.bind(r);r.removeEventListener(e,o),r.addEventListener(e,o)}},Jn=function(t,e){if(Sn){var n="string"==typeof t?Sn.document.querySelector(t):t;n&&(n.innerHTML=e)}},$n=function(){return Sn?Sn.document.querySelector("video,smp-toucan-player"):null};function Xn(t,e){return Qn.apply(this,arguments)}function Qn(){return Qn=kn(wn().mark((function t(e,n){var r,o,i,a,c,u,s,l,d,f,p,h,v,m,y,g,b,w;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&n){t.next=2;break}return t.abrupt("return");case 2:return r=$n(),t.next=5,Nn();case 5:if(o=t.sent,i=o.prevVideoBtn?Pn.document.querySelector(o.prevVideoBtn):null,a=o.nextVideoBtn?Pn.document.querySelector(o.nextVideoBtn):null,e.document.querySelector("#player-control-container")){t.next=50;break}return(f=e.document.createElement("div")).id="player-control-container",t.t0=Dn,t.t1=f,t.t3='\n            <div class="controls">\n                <div class="control-row">\n                    <input id="videoPlayingProgress" type="range" min="0" max="100" step="0.1" value="0" />\n                </div>\n                <div class="control-row second-row">\n                    '.concat(i?'<div class="control-group control-group-next">\n                        <button data-action="prev" title="'.concat(chrome.i18n.getMessage("prev_video"),'">\n                            ').concat(Ke,"\n                        </button>\n                    </div>"):"",'\n                    <div class="control-group">\n                        <button data-action="play" title="').concat(chrome.i18n.getMessage("play")," / ").concat(chrome.i18n.getMessage("pause"),'">\n                            ').concat(null!==(c=r)&&void 0!==c&&c.paused?Je:$e,"\n                        </button>\n                    </div>\n                    ").concat(a?'<div class="control-group control-group-next">\n                        <button data-action="next" title="'.concat(chrome.i18n.getMessage("next_video"),'">\n                            ').concat(Xe,"\n                        </button>\n                    </div>"):"",'\n                    <div class="control-group">\n                        <button data-action="mute" title="').concat(chrome.i18n.getMessage("mute")," / ").concat(chrome.i18n.getMessage("unmute"),'" class="pip-unmuted">\n                           ').concat(null!==(u=r)&&void 0!==u&&u.muted?Qe:0===(null===(s=r)||void 0===s?void 0:s.volume)?tn:en,'\n                        </button>\n                        <input id="videoVolumeProgress" type="range" min="0" max="100" />\n                    </div>\n                    <div class="control-group control-group-time">\n                        <div class="control-time"></div>\n                    </div>\n                    <div class="control-group align-right">\n                        <button data-action="playbackRate" title="').concat(chrome.i18n.getMessage("playbackRate"),'">\n                            <div class="player-ctrl-playbackrate-result">1x</div>\n                        </button>\n                        <ul class="player-ctrl-playbackrate-menu">\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="4">4.0x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="3">3.0x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="2">2.0x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="1.75">1.75x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="1.5">1.5x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="1.25">1.25x</li>\n                            <li class="player-ctrl-playbackrate-menu-item bpx-state-active" data-value="1">1.0x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="0.75">0.75x</li>\n                            <li class="player-ctrl-playbackrate-menu-item" data-value="0.5">0.5x</li>\n                        </ul>\n                    </div>\n                    '),t.next=16,null===(l=Ln)||void 0===l?void 0:l.hasFeature();case 16:if(!t.sent){t.next=20;break}t.t4='<div class="control-group">\n                        <button data-action="danmaku" title="'.concat(chrome.i18n.getMessage("danmaku"),'">\n                            ').concat(nn,"\n                        </button>\n                    </div>"),t.next=21;break;case 20:t.t4="";case 21:return t.t5=t.t4,t.t2=t.t3.concat.call(t.t3,t.t5,"\n                    "),t.next=25,null===(d=_n)||void 0===d?void 0:d.hasFeature();case 25:if(!t.sent){t.next=29;break}t.t6='<div class="control-group">\n                        <button data-action="caption" title="'.concat(chrome.i18n.getMessage("subtitles")," / ").concat(chrome.i18n.getMessage("close_captions"),'">\n                            ').concat(rn,"\n                        </button>\n                    </div>"),t.next=30;break;case 29:t.t6="";case 30:t.t7=t.t6,t.t8=t.t2.concat.call(t.t2,t.t7,'\n                    <div class="control-group">\n                        <button data-action="fit" title="').concat(chrome.i18n.getMessage("fit_to_screen"),'">\n                            ').concat(on,'\n                        </button>\n                    </div>\n                      <div class="control-group">\n                        <button data-action="shortcuts" title="').concat(chrome.i18n.getMessage("shortcuts"),'">\n                            ').concat(an,"\n                        </button>\n                    </div>\n                </div>\n            </div>\n        "),(0,t.t0)(t.t1,t.t8),n.append(f),Kn('#player-control-container button[data-action="shortcuts"]',"click",(function(t){var n=e.document.querySelector(".player-shortcuts-container");n&&n.classList.toggle("hidden")})),Kn('#player-control-container button[data-action="play"]',"click",(function(t){var e=$n();null!=e&&e.paused?Ht(e):Wt(e),Jn(t.target,null!=e&&e.paused?Je:$e)})),Kn('#player-control-container button[data-action="prev"]',"click",kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Vn=!0,null==i||i.click(),zn(!0);case 3:case"end":return t.stop()}}),t)})))),Kn('#player-control-container button[data-action="next"]',"click",kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Vn=!0,null==a||a.click(),zn(!0);case 3:case"end":return t.stop()}}),t)})))),Kn('#player-control-container button[data-action="mute"]',"click",(function(t){var n=$n();Ut(n),Jn(t.target,null!=n&&n.muted?Qe:0===(null==n?void 0:n.volume)?tn:en);var r=e.document.querySelector("#player-control-container #videoVolumeProgress");r&&(r.value=Math.floor(1e3*(null==n?void 0:n.volume))/10,Zn(r))})),Kn('#player-control-container button[data-action="fit"]',"click",(function(){var t=$n();if(e&&t){var n=t.videoWidth,r=t.videoHeight,o=n/r,i=Math.floor(e.innerWidth/o+.5);e.resizeBy(0,i-e.innerHeight);var a=ir(n,r),c=e.innerWidth;a?localStorage.setItem("pipPortraitWidth",c):localStorage.setItem("pipLandscapeWidth",c)}})),(p=e.document.querySelector("#player-control-container #videoVolumeProgress"))&&(p.value=Math.floor(1e3*(null===(h=r)||void 0===h?void 0:h.volume))/10,Zn(p)),Kn("#player-control-container #videoVolumeProgress","input",(function(t){var e=$n();e&&(e.volume=t.target.value/100,Zn(t.target),Jn('#player-control-container button[data-action="mute"]',null!=e&&e.muted?Qe:0===(null==e?void 0:e.volume)?tn:en))})),(v=e.document.querySelector("#player-control-container #videoPlayingProgress"))&&(b=Zt()?Kt()||(null===(m=r)||void 0===m?void 0:m.duration):null===(y=r)||void 0===y?void 0:y.duration,v.value=Math.floor((null===(g=r)||void 0===g?void 0:g.currentTime)/b*1e3)/10,Zn(v),v.addEventListener("mousemove",(function(t){var n,r=$n(),o=(n=t).offsetX/n.target.clientWidth*parseInt(n.target.getAttribute("max"),10),i=Zt()&&Kt()||(null==r?void 0:r.duration),a=Math.floor(i*(o/100)),c=e.document.querySelector("#progress-tooltip");c||((c=e.document.createElement("div")).id="progress-tooltip",c.style.position="fixed",c.style.background="#000",c.style.color="#fff",c.style.padding="2px 5px",c.style.borderRadius="3px",c.style.fontSize="10px",c.style.pointerEvents="none",c.style.zIndex="9999",e.document.body.appendChild(c)),c.textContent=Lt(a);var u=v.getBoundingClientRect(),s=c.getBoundingClientRect(),l=t.clientX-s.width/2;l=Math.max(u.left,Math.min(l,u.right-s.width)),c.style.left="".concat(l,"px"),c.style.top="".concat(u.top-s.height-5,"px")})),v.addEventListener("mouseleave",(function(){var t=e.document.querySelector("#progress-tooltip");t&&t.remove()}))),Kn("#player-control-container #videoPlayingProgress","input",(function(t){var e=$n();if(e&&(null==e?void 0:e.duration)!==1/0&&un(null==e?void 0:e.duration)){On=!0,setTimeout((function(){On=!1,null!=e&&e.paused&&Ht(e)}),5e3);var n=Zt()&&Kt()||(null==e?void 0:e.duration),r=Math.round(n*(parseInt(t.target.value,10)/100));zn(!0),Zn(t.target,t.target.value),Dt(r,e)}})),nr(e,"danmaku"),nr(e,"caption"),or(e),tr(e);case 50:w=function(t){if(t){var n={play:function(){On=!1,Un&&Yn(!1),zn(!1),Jn('#player-control-container button[data-action="play"]',this.paused?Je:$e)},pause:function(){Yn(!0),Jn('#player-control-container button[data-action="play"]',this.paused?Je:$e)},seeked:function(){On=!1},progress:function(t){zn(t.target.readyState<3)},ended:function(){null!=Fr&&Fr.continuousPlayback?Cn||(zn(!0),En.restoreVideoPosition(this),Hn(),setTimeout((function(){}),500)):vr()},timeupdate:function(){var t=Zt()&&Kt()||this.duration;if(!On){Gn()&&t-this.currentTime>=5&&zn(!1),Un&&Yn(!1);var n=e.document.querySelector("#player-control-container #videoPlayingProgress");n&&(n.value=Math.floor(this.currentTime/t*1e3)/10,Zn(n));var r=e.document.querySelector("#player-control-container .control-time");if(r){var o=Lt(this.currentTime),i=t&&t!==1/0?"".concat(o," / ").concat(Lt(t)):"∞";Dn(r,"<span>".concat(i,"</span>"))}}},volumechange:function(){Jn('#player-control-container button[data-action="mute"]',this.muted||0===this.volume?tn:en);var t=e.document.querySelector("#player-control-container #videoVolumeProgress");t&&(t.value=Math.floor(1e3*this.volume)/10,Zn(t))},ratechange:function(){var t=e.document.querySelector("#player-control-container .player-ctrl-playbackrate-result"),n=(Math.round(4*this.playbackRate)/4).toFixed(2).replace(/\.?0+$/,"");Dn(t,"<span>".concat(n,"x</span>"))},dblclick:function(t){t.stopPropagation(),this.paused?this.play():this.pause()}};Object.entries(n).forEach((function(e){var n=dn(e,2),r=n[0],o=n[1];t.removeEventListener(r,o),t.addEventListener(r,o)}))}},w(r),new MutationObserver((function(t){t.forEach((function(t){if("childList"===t.type){var e=$n();e&&e!==r&&w(r=e)}}))})).observe(e.document.body,{childList:!0,subtree:!0});case 54:case"end":return t.stop()}}),t)}))),Qn.apply(this,arguments)}function tr(t){Pt(t.document,"keydown",(function(e){var n,r,o;e.stopPropagation();var i=$n();if(i){var a=Zt()&&Kt()||i.duration,c=t.document.querySelector(".video-container"),u=t.document.querySelector('#player-control-container button[data-action="next"]'),s=t.document.querySelector('#player-control-container button[data-action="prev"]'),l=10*parseInt(e.code.slice(-1));switch(e.code){case"Space":case"KeyK":i.paused?Ht(i):Wt(i);break;case"ArrowLeft":zn(!0),Dt(Math.max(0,Math.floor(i.currentTime-5)),i);break;case"ArrowRight":zn(!0),Dt(Math.min(Math.floor(a),Math.floor(i.currentTime+5)),i);break;case"KeyJ":zn(!0),Dt(Math.max(0,Math.floor(i.currentTime-10)),i);break;case"KeyL":zn(!0),Dt(Math.min(Math.floor(a),Math.floor(i.currentTime+10)),i);break;case"ArrowUp":Gt(Math.min(1,i.volume+.05),i);break;case"ArrowDown":Gt(Math.max(0,i.volume-.05),i);break;case"Escape":vr();break;case"KeyQ":c&&(c.classList.toggle("hidden"),i.paused?i.play():i.pause());break;case"KeyM":Ut(i);break;case"KeyN":e.shiftKey&&(u?u.click():function(){var t={"youtube.com":function(){var t;return null===(t=document.querySelector(".ytp-next-button"))||void 0===t?void 0:t.click()},"netflix.com":function(){var t;return null===(t=document.querySelector(".button-nfplayerNextEpisode"))||void 0===t?void 0:t.click()},"hulu.com":function(){var t;return null===(t=document.querySelector(".next-episode-button"))||void 0===t?void 0:t.click()},"amazon.com":function(){var t;return null===(t=document.querySelector(".atvwebplayersdk-nextvideometadata-button"))||void 0===t?void 0:t.click()},"bilibili.com":function(){var t;return null===(t=document.querySelector(".bilibili-player-video-btn-next,.bpx-player-ending-related-item-countdown"))||void 0===t?void 0:t.click()},"iqiyi.com":function(){var t;return null===(t=document.querySelector(".qy-player-next-btn"))||void 0===t?void 0:t.click()},"youku.com":function(){var t;return null===(t=document.querySelector(".control-next-video"))||void 0===t?void 0:t.click()},"crunchyroll.com":function(){var t;return null===(t=document.querySelector(".episode-next"))||void 0===t?void 0:t.click()},"funimation.com":function(){var t;return null===(t=document.querySelector(".vjs-next-button"))||void 0===t?void 0:t.click()},"vimeo.com":function(){var t;return null===(t=document.querySelector(".vp-nav-button--next"))||void 0===t?void 0:t.click()},"dailymotion.com":function(){var t;return null===(t=document.querySelector(".dmp_ControlBarButton-next"))||void 0===t?void 0:t.click()},"twitch.tv":function(){var t;return null===(t=document.querySelector('[data-a-target="player-theatre-mode-button"]'))||void 0===t?void 0:t.click()},"disneyplus.com":function(){var t;return null===(t=document.querySelector(".up-next__cta-button"))||void 0===t?void 0:t.click()},"hbomax.com":function(){var t;return null===(t=document.querySelector(".next-episode-button"))||void 0===t?void 0:t.click()},"peacocktv.com":function(){var t;return null===(t=document.querySelector(".player-control-button--next-episode"))||void 0===t?void 0:t.click()},"paramountplus.com":function(){var t;return null===(t=document.querySelector(".next-episode-button"))||void 0===t?void 0:t.click()},"discoveryplus.com":function(){var t;return null===(t=document.querySelector(".dplus-player-controls__next-button"))||void 0===t?void 0:t.click()},"apple.com":function(){var t;return null===(t=document.querySelector(".playback-control--next"))||void 0===t?void 0:t.click()},"tiktok.com":function(){var t;return null===(t=document.querySelector(".css-1s9jpf8-ButtonBasicButtonContainer-StyledVideoSwitch"))||void 0===t?void 0:t.click()},"www.kuaishou.com":function(){var t;return null===(t=document.querySelector(".switch-btn.down,.switch-item.video-switch-next"))||void 0===t?void 0:t.click()}},e=Object.keys(t).find((function(t){return window.location.hostname.includes(t)}));if(e)return void t[e]();var n,r=["next","下一个","следующий","nächste","suivant","siguiente","prossimo","próximo","次へ","다음","下一個","berikutnya","tiếp theo","ถัดไป","अगला","التالي","הבא","próximo","nästa","næste","neste","seuraava","następny","další","ďalší","következő","sljedeći","naslednji","следващ","următor","следећи","επόμενο","sonraki","наступний","келесі","кийинки","наступны","следен","следећи","berikut","susunod","seterusnya","next episode","next video"],o=yn(document.querySelectorAll("button, div, span, a"));try{var i,a=function(){var t=n.value,e=t.textContent.toLowerCase();if(r.some((function(t){return e.includes(t)})))return t.click(),{v:void 0}};for(o.s();!(n=o.n()).done;)if(i=a())return i.v}catch(t){o.e(t)}finally{o.f()}for(var c=0,u=[".next-button",".next-video",".next-episode",".next",".nextButton",".next_video",".nextVideo",".next_button",".next-episode-button",".nextEpisodeButton",".next_episode",".next-video-button",".nextVideoButton",".next-content-button",".nextContentButton","#next-button","#nextButton","#next_button","#next-video","#nextVideo","#next_video","[data-next-button]",'[data-action="next"]','[aria-label*="Next"]','[title*="Next"]'];c<u.length;c++){var s=u[c],l=document.querySelector(s);if(l)return void l.click()}}());break;case"KeyP":e.shiftKey?s?s.click():function(){var t={"youtube.com":function(){var t;return null===(t=document.querySelector(".ytp-prev-button"))||void 0===t?void 0:t.click()},"netflix.com":function(){var t;return null===(t=document.querySelector(".button-nfplayerPreviousEpisode"))||void 0===t?void 0:t.click()},"hulu.com":function(){var t;return null===(t=document.querySelector(".previous-episode-button"))||void 0===t?void 0:t.click()},"amazon.com":function(){var t;return null===(t=document.querySelector(".atvwebplayersdk-previousvideometadata-button"))||void 0===t?void 0:t.click()},"bilibili.com":function(){var t;return null===(t=document.querySelector(".bilibili-player-video-btn-prev"))||void 0===t?void 0:t.click()},"iqiyi.com":function(){var t;return null===(t=document.querySelector(".qy-player-prev-btn"))||void 0===t?void 0:t.click()},"youku.com":function(){var t;return null===(t=document.querySelector(".control-prev-video"))||void 0===t?void 0:t.click()},"crunchyroll.com":function(){var t;return null===(t=document.querySelector(".episode-prev"))||void 0===t?void 0:t.click()},"funimation.com":function(){var t;return null===(t=document.querySelector(".vjs-prev-button"))||void 0===t?void 0:t.click()},"vimeo.com":function(){var t;return null===(t=document.querySelector(".vp-nav-button--previous"))||void 0===t?void 0:t.click()},"dailymotion.com":function(){var t;return null===(t=document.querySelector(".dmp_ControlBarButton-prev"))||void 0===t?void 0:t.click()},"twitch.tv":function(){var t;return null===(t=document.querySelector('[data-a-target="player-theatre-mode-button"]'))||void 0===t?void 0:t.click()},"disneyplus.com":function(){var t;return null===(t=document.querySelector(".up-prev__cta-button"))||void 0===t?void 0:t.click()},"hbomax.com":function(){var t;return null===(t=document.querySelector(".previous-episode-button"))||void 0===t?void 0:t.click()},"peacocktv.com":function(){var t;return null===(t=document.querySelector(".player-control-button--previous-episode"))||void 0===t?void 0:t.click()},"paramountplus.com":function(){var t;return null===(t=document.querySelector(".previous-episode-button"))||void 0===t?void 0:t.click()},"discoveryplus.com":function(){var t;return null===(t=document.querySelector(".dplus-player-controls__prev-button"))||void 0===t?void 0:t.click()},"apple.com":function(){var t;return null===(t=document.querySelector(".playback-control--previous"))||void 0===t?void 0:t.click()},"tiktok.com":function(){var t;return null===(t=document.querySelector(".css-1s9jpf8-ButtonBasicButtonContainer-StyledVideoSwitch:first-child"))||void 0===t?void 0:t.click()},"www.kuaishou.com":function(){var t;return null===(t=document.querySelector(".switch-btn.up,.switch-item.video-switch-last"))||void 0===t?void 0:t.click()}},e=Object.keys(t).find((function(t){return window.location.hostname.includes(t)}));if(e)return void t[e]();var n,r=["previous","上一个","предыдущий","vorherige","précédent","anterior","precedente","anterior","前へ","이전","上一個","sebelumnya","trước đó","ก่อนหน้า","पिछला","السابق","הקודם","anterior","föregående","forrige","forrige","edellinen","poprzedni","předchozí","predchádzajúci","előző","prethodni","prejšnji","предишен","anterior","претходни","προηγούμενο","önceki","попередній","алдыңғы","мурунку","папярэдні","претходен","претходни","sebelum","nauna","sebelumnya","previous episode","previous video"],o=yn(document.querySelectorAll("button, div, span, a"));try{var i,a=function(){var t=n.value,e=t.textContent.toLowerCase();if(r.some((function(t){return e.includes(t)})))return t.click(),{v:void 0}};for(o.s();!(n=o.n()).done;)if(i=a())return i.v}catch(t){o.e(t)}finally{o.f()}for(var c=0,u=[".prev-button",".prev-video",".prev-episode",".prev",".prevButton",".prev_video",".prevVideo",".prev_button",".previous-episode-button",".previousEpisodeButton",".previous_episode",".previous-video-button",".previousVideoButton",".previous-content-button",".previousContentButton","#prev-button","#prevButton","#prev_button","#prev-video","#prevVideo","#prev_video","[data-prev-button]",'[data-action="prev"]','[aria-label*="Previous"]','[title*="Previous"]'];c<u.length;c++){var s=u[c],l=document.querySelector(s);if(l)return void l.click()}}():e.altKey&&vr();break;case"KeyT":null===(n=t.document.querySelector('#player-control-container button[data-action="fit"]'))||void 0===n||n.click();break;case"KeyC":null===(r=t.document.querySelector('#player-control-container button[data-action="caption"]'))||void 0===r||r.click();break;case"KeyB":null===(o=t.document.querySelector('#player-control-container button[data-action="danmaku"]'))||void 0===o||o.click();break;case"KeyF":vr(),setTimeout((function(){var t,e=(null===(t=En)||void 0===t?void 0:t.currentMainVideo)||document.querySelector("video");e&&e.requestFullscreen&&e.requestFullscreen()}),200);break;case"Period":i&&(i.playbackRate=Math.min(4,i.playbackRate+.25));break;case"Comma":i&&(i.playbackRate=Math.max(.25,i.playbackRate-.25));break;case"Delete":i&&(i.playbackRate=4);break;case"Home":Dt(0,i);break;case"End":Dt(a,i);break;case"Digit0":case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":Dt(a*(l/100),i)}}})),Pt(t.document,"wheel",(function(t){t.stopPropagation();var e=$n();if(e){var n=Zt()&&Kt()||e.duration;t.deltaY<0?(zn(!0),Dt(Math.max(0,Math.floor(e.currentTime-5)),e)):t.deltaY>0&&(zn(!0),Dt(Math.min(Math.floor(n),Math.floor(e.currentTime+5)),e))}}))}function er(t){return new Promise((function(e){return setTimeout(e,t)}))}function nr(t,e){return rr.apply(this,arguments)}function rr(){return rr=kn(wn().mark((function t(e,n){var r,o,i,a,c,u,s,l;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nn();case 2:if(o=t.sent,n=n.toLowerCase(),i=e.document.querySelector(".".concat(n,"-container")),a=e.document.querySelector('button[data-action="'.concat(n,'"]'))){t.next=8;break}return t.abrupt("return");case 8:if(c="caption"===n?_n:"danmaku"===n?Ln:null){t.next=11;break}return t.abrupt("return");case 11:if(!(u=o.isJwPlayer&&"caption"===n)){t.next=16;break}t.t0=null===(r=e.document.querySelector(".jw-captions"))||void 0===r?void 0:r.classList.contains("jw-captions-enabled"),t.next=19;break;case 16:return t.next=18,c.isFeatureOn();case 18:t.t0=t.sent;case 19:t.t0?(a.classList.add("active"),u?null===(s=e.document.querySelector(".jw-captions"))||void 0===s||s.classList.remove("hidden"):null==i||i.classList.remove("hidden")):(a.classList.remove("active"),u?null===(l=e.document.querySelector(".jw-captions"))||void 0===l||l.classList.add("hidden"):null==i||i.classList.add("hidden")),a.addEventListener("click",(function(){var t;if(o.isJwPlayer&&"caption"===n)null===(t=e.document.querySelector(".jw-captions"))||void 0===t||t.classList.toggle("hidden"),a.classList.toggle("active");else if(o.isDetect&&o[n]){var r;null===(r=e.document.querySelector(o[n]))||void 0===r||r.classList.toggle("hidden"),a.classList.toggle("active"),null==i||i.classList.toggle("hidden")}else{var u,s=o["".concat(n,"Btn")];if(s)null===(u=Pn.document.querySelector(s))||void 0===u||u.click();setTimeout((function(){a.classList.toggle("active"),null==i||i.classList.toggle("hidden"),i&&!i.classList.contains("hidden")&&c.applyFeature()}),200)}}));case 22:case"end":return t.stop()}}),t)}))),rr.apply(this,arguments)}function or(t){if(t){var e=$n(),n=t.document.querySelector('button[data-action="playbackRate"]'),r=t.document.querySelector(".player-ctrl-playbackrate-menu"),o=t.document.querySelector(".player-ctrl-playbackrate-result");null==n||n.addEventListener("click",(function(t){t.stopPropagation(),r.style.display="none"===r.style.display?"block":"none"})),null==r||r.addEventListener("click",(function(t){if(t.target.classList.contains("player-ctrl-playbackrate-menu-item")){var n=parseFloat(t.target.getAttribute("data-value"));e.playbackRate=n,o.textContent="".concat(n,"x"),r.style.display="none",r.querySelectorAll(".player-ctrl-playbackrate-menu-item").forEach((function(e){e.classList.toggle("bpx-state-active",e===t.target)}))}})),t.document.addEventListener("click",(function(){r.style.display="none"}))}}var ir=function(t,e){return e>t};function ar(){return cr.apply(this,arguments)}function cr(){return cr=kn(wn().mark((function t(){var e,n,r,o,i,a,c,u,s,l;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("www.tiktok.com"!==location.hostname){t.next=5;break}if(!(n=null===(e=Array.from(document.querySelectorAll("video")).find((function(t){return!t.paused})))||void 0===e||null===(e=e.closest('[class*="DivVideoPlayerContainer"]'))||void 0===e?void 0:e.querySelector('[class*="DivMiniPlayerButtonContainer "]'))){t.next=5;break}return n.click(),t.abrupt("return",!1);case 5:if(!(r=$n())||r.ended){t.next=8;break}return t.abrupt("return",!1);case 8:return Er(chrome.i18n.getMessage("loading_pip_config"),3e3),t.next=11,Nn();case 11:if(!(o=t.sent).isJwPlayer){t.next=23;break}if(i=document.querySelector(".jwplayer"),!Vn||i){t.next=20;break}return Sr(),xr(chrome.i18n.getMessage("video_not_detected")),t.abrupt("return",!1);case 20:Mt(i),t.next=31;break;case 23:if(a=null===(c=En)||void 0===c?void 0:c.currentMainVideo,!Vn||a){t.next=26;break}return t.abrupt("return",!1);case 26:if(a){t.next=31;break}return Sr(),xr(chrome.i18n.getMessage("video_not_detected")),t.abrupt("return",!1);case 31:if(Mn=o.isJwPlayer?i.parentElement:En.currentMainVideoWrapper,documentPictureInPicture.window){t.next=58;break}return u=ur(a||i,o.isJwPlayer),s=u.width,l=u.height,t.prev=35,t.next=38,documentPictureInPicture.requestWindow({width:s,height:l});case 38:return sr(Sn=t.sent,o.isJwPlayer),t.next=42,lr(Sn,o);case 42:fr(Sn,o.isJwPlayer),t.next=56;break;case 45:return t.prev=45,t.t0=t.catch(35),Sn=null,t.t1=Er,t.next=52,Lr(t.t0);case 52:return t.t2=t.sent,t.t3=document.body,(0,t.t1)(t.t2,0,t.t3),t.abrupt("return",!1);case 56:t.next=59;break;case 58:Sn=documentPictureInPicture.window;case 59:return t.next=61,er(100);case 61:return o.isJwPlayer?jn.append(i):hr(a),pr(),t.next=65,Bn();case 65:return t.next=67,Xn(Sn,jn);case 67:return Er(chrome.i18n.getMessage("playing_in_pip_mode"),0,Mn),Vn=!1,t.abrupt("return",!0);case 70:case"end":return t.stop()}}),t,null,[[35,45]])}))),cr.apply(this,arguments)}function ur(t,e){var n=Math.floor(window.screen.width/window.devicePixelRatio*.4),r=e?t.clientWidth/t.clientHeight:(t.videoWidth||t.clientWidth)/(t.videoHeight||t.clientHeight),o=e?t.clientWidth:t.videoWidth||t.clientWidth,i=e?t.clientHeight:t.videoHeight||t.clientHeight,a=ir(o,i),c=localStorage.getItem("pipPortraitWidth"),u=localStorage.getItem("pipLandscapeWidth"),s=Math.min(n,a?430:480),l=(a?c:u)||Math.min(o,s)||(a?430:480);return{width:l,height:l/r||(a?930:270)}}function sr(t,e){t.addEventListener("pagehide",(function(n){var r;null===(r=En)||void 0===r||null===(r=r.currentMainVideoWrapper)||void 0===r||r.scrollIntoView(),Cn=!0;try{if(e)Ot(n.target.querySelector(".jwplayer"));else En.restoreVideoPosition(n.target.querySelector("video")),Hn();Sr()}catch(t){}finally{t=null,Ve((function(){Ft()}),500)}}))}function lr(t,e){return dr.apply(this,arguments)}function dr(){return dr=kn(wn().mark((function t(e,n){var r,o,i;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(t){return new Promise((function(n){if(e.document.querySelector('link[href="'.concat(t,'"]')))n();else{var r=e.document.createElement("link");r.rel="stylesheet",r.href=t,r.onload=n,e.document.head.appendChild(r)}}))},o=[],n.isJwPlayer&&o.push(r(chrome.runtime.getURL("css/jwplayer.css"))),Array.isArray(n.localCss)&&n.localCss.length>0&&o.push.apply(o,ln(n.localCss.map((function(t){return r(chrome.runtime.getURL(t))})))),n.styles&&"string"==typeof n.styles&&""!==n.styles.trim()&&((i=e.document.createElement("style")).textContent=n.styles.trim(),e.document.head.appendChild(i)),t.next=7,Promise.all(o);case 7:case"end":return t.stop()}}),t)}))),dr.apply(this,arguments)}function fr(t,e){!function(t){var e=t.document.querySelector(".loading-container");if(!e){(e=t.document.createElement("div")).classList.add("loading-container");var n=t.document.createElement("div");n.classList.add("loading-spinner"),e.append(n),t.document.body.append(e)}}(t),e||function(t){var e=t.document.querySelector(".icon-play-container");if(!e){(e=t.document.createElement("div")).classList.add("icon-play-container"),e.innerHTML=cn,t.document.body.appendChild(e),Pt(e,"click",(function(t){var e=$n();null==e||e.play()}))}}(t),function(t){jn=t.document.querySelector(".video-container"),jn||((jn=t.document.createElement("div")).classList.add("video-container"),t.document.body.append(jn))}(t),pr(t),function(t){var e=t.document.querySelector(".player-shortcuts-container");if(!e){(e=t.document.createElement("div")).classList.add("player-shortcuts-container","hidden");var n=t.document.createElement("button");n.classList.add("close-btn"),n.innerHTML="&times;",n.addEventListener("click",(function(){e.classList.add("hidden")}));var r=t.document.createElement("div");r.classList.add("shortcuts"),[{keys:"Space / k",description:chrome.i18n.getMessage("shortcut_play_pause")},{keys:"Left/Right Arrow",description:chrome.i18n.getMessage("shortcut_fast_forward_rewind_5")},{keys:"J / L",description:chrome.i18n.getMessage("shortcut_fast_forward_rewind_10")},{keys:"Up/Down Arrow",description:chrome.i18n.getMessage("shortcut_adjust_volume")},{keys:"M",description:chrome.i18n.getMessage("shortcut_mute_unmute")},{keys:"Mouse Wheel",description:chrome.i18n.getMessage("shortcut_fast_forward_rewind")},{keys:"Shift+N",description:chrome.i18n.getMessage("shortcut_next_video")},{keys:"Shift+P",description:chrome.i18n.getMessage("shortcut_previous_video")},{keys:"> / <",description:chrome.i18n.getMessage("shortcut_playback_speed")},{keys:"B",description:chrome.i18n.getMessage("shortcut_toggle_danmaku")},{keys:"C",description:chrome.i18n.getMessage("shortcut_toggle_captions")},{keys:"T",description:chrome.i18n.getMessage("shortcut_fit_to_screen")},{keys:"Q",description:chrome.i18n.getMessage("shortcut_toggle_hide_show")},{keys:"F",description:chrome.i18n.getMessage("shortcut_toggle_fullscreen")},{keys:"Home / End",description:chrome.i18n.getMessage("shortcut_seek_video_start_end")},{keys:"0-9",description:chrome.i18n.getMessage("shortcut_seek_percentage")},{keys:"Alt+P",description:chrome.i18n.getMessage("shortcut_enter_pip")},{keys:"Esc",description:chrome.i18n.getMessage("shortcut_exit_pip")}].forEach((function(e){var n=t.document.createElement("div");n.classList.add("shortcut");var o=t.document.createElement("div");o.classList.add("keys"),o.textContent=e.keys;var i=t.document.createElement("div");i.classList.add("description"),i.textContent=e.description,n.append(o,i),r.append(n)})),e.append(n,r),t.document.body.appendChild(e),e.addEventListener("wheel",(function(t){t.stopPropagation()}),{passive:!1})}}(t)}function pr(t){var e=jn.querySelector(".video-title");e||((e=t.document.createElement("div")).classList.add("video-title"),jn.appendChild(e)),e.textContent=document.title.substring(0,100)||""}function hr(t){var e,n=null===(e=jn)||void 0===e?void 0:e.querySelector("video,smp-toucan-player");n&&n.remove(),t||(t=document.querySelector("video,smp-toucan-player")),t&&jn.append(t)}function vr(){return mr.apply(this,arguments)}function mr(){return mr=kn(wn().mark((function t(){var e,n,r,o;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=En)||void 0===e||null===(e=e.currentMainVideoWrapper)||void 0===e||e.scrollIntoView(),f(),Nt()){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Nn();case 6:n=t.sent,Cn=!0,documentPictureInPicture.window&&(r=documentPictureInPicture.window.document,(o=n.isJwPlayer?r.querySelector(".jwplayer"):r.querySelector("video"))&&(n.isJwPlayer?Ot(o):En.restoreVideoPosition(o)),Hn(),Sn=null,Ve(Ft,500),documentPictureInPicture.window.close());case 9:case"end":return t.stop()}}),t)}))),mr.apply(this,arguments)}function yr(){return gr.apply(this,arguments)}function gr(){return gr=kn(wn().mark((function t(){var e,n,r=arguments;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=r.length>0&&void 0!==r[0]&&r[0])||document.querySelector("video")){t.next=3;break}return t.abrupt("return",!1);case 3:if(Fr.advancedPipEnable){t.next=5;break}return t.abrupt("return",p());case 5:if(Cn=!1,!e){t.next=13;break}return t.next=9,qt();case 9:if(!(n=t.sent)){t.next=13;break}return t.next=13,new Promise((function(t){var e=Date.now(),r=function(){4===n.readyState||Date.now()-e>=1e4?(navigator.userActivation.isActive||(n.muted=!0),Ht(n),En.currentMainVideo=n,t()):setTimeout(r,100)};r()}));case 13:return t.abrupt("return",ar());case 14:case"end":return t.stop()}}),t)}))),gr.apply(this,arguments)}function br(){return wr.apply(this,arguments)}function wr(){return(wr=kn(wn().mark((function t(){var e;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=En.currentMainVideo)&&!e.paused&&!e.muted&&0!==e.volume){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,yr();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var xr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n="toast-".concat(Date.now()),r=document.createElement("div");r.id=n,r.style.cssText="\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background-color: rgba(0, 0, 0, 0.75);\n        color: white;\n        padding: 25px;\n        border-radius: 5px;\n        z-index: 10000;\n        text-align: center;\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity 0.5s ease;\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n        font-size: 14px;\n    ",r.textContent=t,document.body.appendChild(r),r.offsetHeight,requestAnimationFrame((function(){r.style.opacity="1"})),setTimeout((function(){var t=document.getElementById(n);t&&(t.style.opacity="0",t.addEventListener("transitionend",(function e(){document.body.contains(t)&&document.body.removeChild(t),t.removeEventListener("transitionend",e)})))}),e)},kr=null,Er=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(kr&&kr.remove(),t){(kr=document.createElement("div")).className="placeholder-overlay";var r="overlay-".concat(Date.now());kr.id=r;var o=document.createElement("div");o.className="placeholder-wrapper",o.addEventListener("click",(function(t){t.stopPropagation()}));var i=document.createElement("button");i.className="placeholder-close-btn",i.innerHTML="&times;",i.addEventListener("click",(function(t){t.stopPropagation(),kr.remove(),kr=null}));var a=document.createElement("div");a.className="placeholder-content",o.append(i,a),kr.appendChild(o),kr.style.cssText="\n        position: absolute;\n        inset: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: rgba(0, 0, 0, 0.5);\n        z-index: 9999;\n        pointer-events: none;\n    ",o.style.cssText="\n        position: relative;\n        padding: 2rem;\n        border-radius: 0.5rem;\n        text-align: center;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        background-color: rgba(0, 0, 0, 0.8);\n        max-width: 80%;\n        max-height: 80%;\n        overflow: auto;\n        pointer-events: auto;\n    ",a.style.cssText="\n        color: white;\n        font-size: 1rem;\n        line-height: 1.5;\n        word-wrap: break-word;\n        overflow-wrap: break-word;\n    ",i.style.cssText="\n        position: absolute;\n        top: 0.5rem;\n        right: 0.5rem;\n        width: 2rem;\n        height: 2rem;\n        border: none;\n        background-color: transparent;\n        color: white;\n        font-size: 1.5rem;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 0;\n        border-radius: 50%;\n        transition: background-color 0.3s;\n        pointer-events: auto;\n    ",i.addEventListener("mouseover",(function(){i.style.backgroundColor="rgba(255, 255, 255, 0.2)"})),i.addEventListener("mouseout",(function(){i.style.backgroundColor="transparent"}));var c,u=n;if(!u)for(u=(null===(c=En)||void 0===c?void 0:c.currentMainVideoWrapper)||document.body;u&&u.offsetHeight<=0;)u=u.parentElement;return u&&u.appendChild(kr),t?("string"==typeof t?a.textContent=t:a.appendChild(t),kr.style.display="flex"):kr.style.display="none",kr.style.zIndex="2147483647",e>0&&setTimeout((function(){kr&&kr.id===r&&(kr.remove(),kr=null)}),e),!0}},Sr=function(){var t=document.querySelector(".placeholder-overlay");t&&t.remove()};function Lr(t){return _r.apply(this,arguments)}function _r(){return _r=kn(wn().mark((function t(e){var n,r,o,i,a,c,u,s,l,d,f,h,v,m,y,g,b,w;return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w=function(t){if(t.includes("youtube.com")){var e=new URL(t);return e.searchParams.set("autoplay","1"),e.toString()}return t},b=function(){if(window!==window.top)return w(window.location.href);var t=Array.from(document.getElementsByTagName("iframe"));if(0===t.length)return null;var e=t.find((function(t){try{var e;return null===(e=t.contentDocument)||void 0===e?void 0:e.querySelector("video")}catch(t){return!1}}));if(e)return w(e.src);var n=t.reduce((function(t,e){return t.clientWidth*t.clientHeight>e.clientWidth*e.clientHeight?t:e}));return w(n.src)},n=location.hostname,(r=document.createElement("div")).style.cssText="\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        color: white;\n        font-size: 16px;\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n    ",(o=document.createElement("p")).textContent=e.message||"An error occurred",o.style.cssText="\n        font-size: 16px;\n        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n    ",e.message&&e.message.includes("Document PiP requires user activation")&&(o.textContent=chrome.i18n.getMessage("pip_user_activation_required"),(i=document.createElement("button")).textContent=chrome.i18n.getMessage("retry_action"),i.style.cssText="\n            margin-top: 10px;\n            padding: 8px 16px;\n            background-color: #4CAF50;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 14px;\n            font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n        ",i.addEventListener("click",(function(){yr(!0)})),r.appendChild(i)),!e.message||!e.message.includes("only allowed from a top-level browsing context")){t.next=51;break}if(!(a=b())){t.next=26;break}return t.next=14,D("get_site_configs",{url:a});case 14:if(u=t.sent,"use_standard_pip"!==(null==(s=null===(c=u.data)||void 0===c?void 0:c.siteConfigs)?void 0:s.pipRestrictionAction)){t.next=21;break}return p(),t.abrupt("return",null);case 21:if("open_in_new_tab"!==(null==s?void 0:s.pipRestrictionAction)){t.next=26;break}return Wt(En.currentMainVideo),t.next=25,D("add_new_tab",{url:a,enterPictureInPicture:!0});case 25:return t.abrupt("return",null);case 26:o.textContent=chrome.i18n.getMessage("pip_window_restriction"),l=function(t,e,n){var r=document.createElement("button");return r.textContent=t,r.style.cssText="\n                margin-top: 10px;\n                padding: 8px 16px;\n                background-color: ".concat(e,";\n                color: white;\n                border: none;\n                border-radius: 4px;\n                cursor: pointer;\n                font-size: 14px;\n                font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;\n            "),r.addEventListener("click",n),r},(d=document.createElement("div")).style.cssText="\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            gap: 10px;\n            margin-top: 10px;\n        ",(f=document.createElement("div")).style.cssText="\n            display: flex;\n            justify-content: center;\n            gap: 10px;\n        ",h=l(chrome.i18n.getMessage("use_standard_pip"),"#4CAF50",(function(){Ht(En.currentMainVideo),p(),y.checked&&D("update_site_config",{hostname:n,config:{pipRestrictionAction:"use_standard_pip"}})})),f.appendChild(h),a&&(v=l(chrome.i18n.getMessage("open_in_new_tab"),"#008CBA",(function(){Wt(En.currentMainVideo),D("add_new_tab",{url:a,enterPictureInPicture:!0}),y.checked&&D("update_site_config",{hostname:n,config:{pipRestrictionAction:"open_in_new_tab"}})})),f.appendChild(v)),d.appendChild(f),(m=document.createElement("div")).style.cssText="\n            display: flex;\n            align-items: center;\n            margin-top: 10px;\n        ",(y=document.createElement("input")).type="checkbox",y.id="rememberChoice",y.checked=!1,y.style.marginRight="5px",(g=document.createElement("label")).htmlFor="rememberChoice",g.textContent=chrome.i18n.getMessage("remember_site_pip_restriction_choice"),g.style.fontSize="12px",m.appendChild(y),m.appendChild(g),d.appendChild(m),r.appendChild(d);case 51:return r.appendChild(o),t.abrupt("return",r);case 53:case"end":return t.stop()}}),t)}))),_r.apply(this,arguments)}var Pr=function(){if(null==Fr||!Fr.subtitleDetection)return!1;for(var t=document.querySelectorAll("video,smp-toucan-player"),e=new Set(["A","IMG","SVG","TITLE","BUTTON","FOOTER","NAV","ASIDE","LINK","CODE","BLOCKQUOTE","PRE","SCRIPT","STYLE","TEXTAREA","G","NOSCRIPT","BASE","KBD","WBR","RT","RP","META","MATH","TTS-SENTENCE","AIO-CODE","RELIN-TARGET"]),n=0,r=["text-track-wrapper","text-track","player-timedtext","caption","subtitle"];n<r.length;n++){var o,i=r[n],a=yn(t);try{for(a.s();!(o=a.n()).done;){var c=o.value,u=null;if(u=jr(c,[i],e,c))return u;for(var s=c;s;){if(u=Mr(s,[i],e,c))return u;s=s.parentElement}}}catch(t){a.e(t)}finally{a.f()}}return null},jr=function(t,e,n,r){if(n.has(t.tagName.toUpperCase()))return null;var o=Or(t,e,r);if(o)return o;var i,a=yn(t.children);try{for(a.s();!(i=a.n()).done;){var c=i.value,u=jr(c,e,n,r);if(u)return u}}catch(t){a.e(t)}finally{a.f()}return null},Mr=function(t,e,n,r){for(var o=t.nextElementSibling;o;){if(!n.has(o.tagName.toUpperCase())){var i=jr(o,e,n,r);if(i)return i}o=o.nextElementSibling}for(o=t.previousElementSibling;o;){if(!n.has(o.tagName.toUpperCase())){var a=jr(o,e,n,r);if(a)return a}o=o.previousElementSibling}return null},Or=function(t,e,n){try{var r=t.id,o=t.className,i=t.dataset;if(t.querySelector("img, svg"))return null;var a=e.map((function(t){return t.toLowerCase()}));if(r&&a.some((function(t){return r.toLowerCase().includes(t)})))return Cr(t,r,null,null,n);var c=Object.values(i);return c.length>0&&a.some((function(t){return c.some((function(e){return"string"==typeof e&&e.toLowerCase().includes(t)}))}))?Cr(t,null,null,i,n):o&&a.some((function(t){return o.toLowerCase().includes(t)}))?Cr(t,null,o,null,n):null}catch(t){return null}},Cr=function(t,e,n,r,o){for(var i=Vr(e,n,r),a=Vr(t.parentElement.id,t.parentElement.className,t.parentElement.dataset),c=Vr(o.parentElement.id,o.parentElement.className,o.parentElement.dataset),u=t;u.children.length>0;)u=u.children[0];var s=window.getComputedStyle(u),l={display:s.display,textAlign:s.textAlign,padding:s.padding,borderRadius:s.borderRadius,direction:s.direction,opacity:s.opacity,color:s.color,background:s.background,backgroundColor:s.backgroundColor},d=t.getBoundingClientRect(),f=o.getBoundingClientRect();return!(d.right<f.left||d.left>f.right||d.bottom<f.top||d.top>f.bottom)?{caption:i,captionParent:a,videoParent:c,captionStyle:l,captionRect:d,videoRect:f}:null},Vr=function(t,e,n){var r=[];if(t&&/^[a-zA-Z_][a-zA-Z0-9_-]*$/.test(t)&&r.push("#".concat(CSS.escape(t))),n)for(var o=0,i=Object.entries(n);o<i.length;o++){var a=dn(i[o],2),c=a[0],u=a[1];u&&/^[a-zA-Z_][a-zA-Z0-9_-]*$/.test(c)&&r.push("[data-".concat(CSS.escape(c),'="').concat(CSS.escape(u),'"]'))}if("string"==typeof e){var s=e.split(" ").filter((function(t){return/^[a-zA-Z_][a-zA-Z0-9_-]*$/.test(t)})).map((function(t){return".".concat(CSS.escape(t))})).join("");s&&r.push(s)}return r.join("")};function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function Ir(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ir=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),c=new O(r||[]);return o(a,"_invoke",{value:_(t,n,c)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var E=b.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Tr(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=d(e,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Tr(e)+" is not iterable")}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(L.prototype),s(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Ar(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function qr(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ar(i,r,o,a,c,"next",t)}function c(t){Ar(i,r,o,a,c,"throw",t)}a(void 0)}))}}var Nr,Fr={},Br={},Rr={},Hr=!1,Wr=null,Dr=(new Map,function(){var t=qr(Ir().mark((function t(){return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gr();case 2:Ve(re,1e3);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),Gr=function(){var t=qr(Ir().mark((function t(){var e,n,r,o,i,c,u,s,l,d;return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D("get_settings");case 2:return null!=(c=t.sent)&&c.success&&null!==(e=c.data)&&void 0!==e&&e.settings&&(u=c.data,Fr=u.settings,Br=u.siteConfigs,Rr=u.tab,Wr=u.frameId,Br&&qe()),(null==c?void 0:c.success)&&((null===(n=c.data)||void 0===n||null===(n=n.tabConfig)||void 0===n?void 0:n.enterPictureInPicture)||(null===(r=Br)||void 0===r?void 0:r.autoEnterPictureInPicture))&&window.addEventListener("load",(function(){setTimeout((function(){var t;null!==(t=Fr)&&void 0!==t&&t.advancedPipEnable?yr(!0):p()}),500)})),(null==c?void 0:c.success)&&((null===(o=c.data)||void 0===o||null===(o=o.tabConfig)||void 0===o?void 0:o.page_keep_alive)||(null===(i=Br)||void 0===i?void 0:i.pageKeepAlive))&&window.postMessage({action:"page_keep_alive"},location.origin),t.next=11,D("is_sidepanel_opened");case 11:s=t.sent,Hr=(null==s?void 0:s.success)&&!0===s.data.is_sidepanel_opened,null!=s&&s.data&&0===Wr&&(null!==(l=Fr)&&void 0!==l&&l.floatBall&&(s.data.is_sidepanel_opened?K():Z()),null!==(d=Fr)&&void 0!==d&&d.sidebarEnabled&&(s.data.is_sidepanel_opened?Ze():Ye())),En||((En=new a).on("initialized",kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ft(),!En.currentMainVideo){t.next=6;break}return t.next=5,Nn();case 5:window.postMessage({action:"disable_page_hide_event"},location.origin);case 6:case"end":return t.stop()}}),t)})))),En.init(),En.on("mainVideoChanged",kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ft(),!En.currentMainVideo){t.next=5;break}return t.next=4,Nn();case 4:window.postMessage({action:"disable_page_hide_event"},location.origin);case 5:En.currentMainVideo&&documentPictureInPicture.window&&!Cn&&(Vn=!1,setTimeout(kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ar();case 2:case"end":return t.stop()}}),t)}))),500));case 6:case"end":return t.stop()}}),t)})))),En.on("mainVideoPlay",(function(){setTimeout(kn(wn().mark((function t(){return wn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!En.currentMainVideo||!documentPictureInPicture.window||Cn){t.next=4;break}return Vn=!1,t.next=4,ar();case 4:case"end":return t.stop()}}),t)}))),500)})),En.on("mainVideoProgress",(function(t){t.video;var e=t.percent;t.readyState<3&&documentPictureInPicture.window&&zn(!0,"Loading ".concat(e.toFixed(2),"%"))})),En.on("mainVideoUpdated",(function(t,e){Bt(e)})),En.on("mainVideoIntersecting",(function(t){var e;D("page_video_intersection_changed",{isIntersecting:!0,duration:null===(e=En)||void 0===e?void 0:e.currentMainVideo})})),En.on("mainVideoNotIntersecting",(function(t){var e;D("page_video_intersection_changed",{isIntersecting:!1,duration:null===(e=En)||void 0===e?void 0:e.currentMainVideo})})),document.addEventListener("fullscreenchange",(function(t){D(document.fullscreenElement?"page_enter_fullscreen":"page_exit_fullscreen")}),!1),window.addEventListener("enterpictureinpicture",(function(t){Ft()})),window.addEventListener("leavepictureinpicture",(function(t){t.target.scrollIntoViewIfNeeded(),Ft()})));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),zr=function(){var t=qr(Ir().mark((function t(e,n,r){var o,i,a,c,u,s,l,d,h;return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,t.t0=e.action,t.next="update_setting"===t.t0?4:"update_site_config"===t.t0?8:"tabUpdated"===t.t0?11:"tab_url_updated"===t.t0?13:"save_tab_session"===t.t0?16:"clear_browsing_data"===t.t0?17:"play_video"===t.t0?19:"pause_video"===t.t0?21:"video_jump_to_time"===t.t0?23:"volume_change"===t.t0?25:"playback_rate_change"===t.t0?27:"video_switch_mute"===t.t0?29:"page_keep_alive"===t.t0?31:"page_keep_alive_cancel"===t.t0?33:"enterPictureInPicture"===t.t0||"playing_video_enterPictureInPicture"===t.t0?35:"exitPictureInPicture"===t.t0||"playing_video_exitPictureInPicture"===t.t0?37:"openPopup"===t.t0?39:"sidepanel_opened"===t.t0?42:"sidepanel_closed"===t.t0?47:"scroll_to_top"===t.t0?50:"scroll_to_bottom"===t.t0?52:"redirect_url"===t.t0?54:"update_tab_title"===t.t0?56:58;break;case 4:return Fr[e.data.key]=e.data.value,"floatBall"===e.data.key&&(null!=Fr&&Fr.floatBall?Hr?K():Z():K()),["theme","sidebarEnabled","sidebarPosition"].includes(e.data.key)&&(Ze(),Ye()),t.abrupt("break",59);case 8:return Br[e.data.key]=e.data.value,qe(),t.abrupt("break",59);case 11:return Ae(e.data.tabId,e.data.changeInfo,e.data.tab),t.abrupt("break",59);case 13:return t.next=15,Dr();case 15:return t.abrupt("break",59);case 16:return t.abrupt("return",{localStorageItems:x(),sessionStorageItems:k()});case 17:return E(null===(o=e.data)||void 0===o?void 0:o.options),t.abrupt("break",59);case 19:return Ht(),t.abrupt("break",59);case 21:return Wt(),t.abrupt("break",59);case 23:return Dt(e.data.value),t.abrupt("break",59);case 25:return Gt(e.data.value),t.abrupt("break",59);case 27:return zt(e.data.value),t.abrupt("break",59);case 29:return Ut(),t.abrupt("break",59);case 31:return window.postMessage({action:"page_keep_alive"},location.origin),t.abrupt("break",59);case 33:return window.postMessage({action:"page_keep_alive_cancel"},location.origin),t.abrupt("break",59);case 35:return null!==(i=Fr)&&void 0!==i&&i.advancedPipEnable?"enterPictureInPicture"===e.action?yr(!0):br():p(),t.abrupt("break",59);case 37:return null!==(a=Fr)&&void 0!==a&&a.advancedPipEnable?vr():f(),t.abrupt("break",59);case 39:return t.next=41,D("update_setting",{key:"clickExtensionIconAction",value:"openPopup"});case 41:return t.abrupt("break",59);case 42:if((null===(c=e.data)||void 0===c?void 0:c.name)==="sidepanel_".concat(null===(u=Rr)||void 0===u?void 0:u.windowId)&&(K(),Ze(),Hr=!0),Fr){t.next=46;break}return t.next=46,Dr();case 46:return t.abrupt("break",59);case 47:return Hr=!1,(null===(s=e.data)||void 0===s?void 0:s.name)==="sidepanel_".concat(null===(l=Rr)||void 0===l?void 0:l.windowId)&&0===Wr&&(null!==(d=Fr)&&void 0!==d&&d.floatBall&&Z(),null!==(h=Fr)&&void 0!==h&&h.sidebarEnabled&&Ye()),t.abrupt("break",59);case 50:return v=void 0,null===(v=te)||void 0===v||v.scrollTo({top:0,left:0,behavior:"smooth"}),t.abrupt("break",59);case 52:return n=void 0,null===(n=te)||void 0===n||n.scrollTo({top:te.scrollHeight,left:0,behavior:"smooth"}),t.abrupt("break",59);case 54:return window.location.href=e.data.url,t.abrupt("break",59);case 56:return document.title=e.data.title,t.abrupt("break",59);case 58:throw new Error("Unknown action");case 59:r({success:!0}),t.next=66;break;case 62:t.prev=62,t.t1=t.catch(0),r({success:!1,error:t.t1.message});case 66:case"end":return t.stop()}var n,v}),t,null,[[0,62]])})));return function(e,n,r){return t.apply(this,arguments)}}(),Ur=function(){var t=qr(Ir().mark((function t(){return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D("open_sidepanel");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Yr=function(){Dr(),chrome.runtime.onMessage.addListener((function(t,e,n){return zr(t,e,n),!0}))},Zr=["googleads.g.doubleclick.net","s1.hdslb.com","oapi.dingtalk.com","login.dingtalk.com","imasdk.googleapis.com","acdn.adnxs.com","pos.baidu.com","js-sec.indexww.com","g.alicdn.com","ads.pubmatic.com","challenges.cloudflare.com","accounts.google.com","images-na.ssl-images-amazon.com","tpc.googlesyndication.com","js.stripe.com","acdn.adnxs-simple.com","s.union.360.cn","s.amazon-adsystem.com","www.recaptcha.net","s7.addthis.com","z.moatads.com","https://www.marketwatch.com/static_html/daa-min.html","tr.snapchat.com","ct.pinterest.com","*.moatads.com","secure-us.imrworldwide.com","static.noeyeon.click","widgets.outbrain.com","www.dianomi.com/smartads.epl","secure-assets.rubiconproject.com","eus.rubiconproject.com","eus.rubiconproject.com","i.liadm.com","eb2.3lift.com","googleads.g.doubleclick.net","https://www.google.com/recaptcha/*","ad.doubanio.com","datawrapper.dwcdn.net","*://*/*\\.svg","file://*/*\\.xml","file://*/*\\.svg"];Nr=window.location.href,Zr.some((function(t){return new RegExp(t.replace(/\*/g,".*")).test(Nr)}))||(window.addEventListener("DOMContentLoaded",Yr),window.addEventListener("pageshow",(function(t){t.persisted?Yr():Dr()})))})();
//# sourceMappingURL=contentScript.js.map