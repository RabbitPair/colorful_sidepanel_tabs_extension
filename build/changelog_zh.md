# 更新日志

所有对该项目的重要更改都将记录在此文件中。

该项目遵循[语义版本控制](https://semver.org/)。

----
## [未发布]

- **定时快照**：自动按指定间隔保存快照。此功能确保您的工作定期备份，提供防止数据丢失的安全网。

----
## [2.11.0] - 2024-10-07
### 添加
- **标签菜单**：新增菜单：
  - **重命名标签标题**：允许您更改标签标题。默认情况下，选择记住URL设置选项，因此下次打开URL时标题将自动更新。
  - **将标签移动到新窗口**：允许您将标签移动到新窗口。
  - **将标签移动到另一个窗口**：允许您将标签移动到另一个现有窗口。
  - **从组中移除标签**：允许您将标签从当前组中移除。

- **标签设置**：标签设置中新增选项：
  - **标签标题最大显示行数**：设置标签标题显示的最大行数。额外的行将被隐藏。
  - **组标题最大显示行数**：设置组标题显示的最大行数。额外的行将被隐藏。
  - **组折叠标题宽度**：当组折叠时，设置组标题的宽度。
  - **显示组标签计数**：在组名旁边显示每个组中的标签数量。

- **站点设置**：站点设置中新增选项：
  * **页面保持活动**：启用后，浏览器将允许丢弃标签。如果启用性能设置并设置丢弃非活动标签的时间，标签将在指定时间后被丢弃。如果禁用，标签将不会被丢弃。
  * **自动加入组**：启用后，站点将自动创建或加入指定组。
  * **隐身模式**：启用后，您可以选择在访问站点时自动清除浏览数据。这包括几个可配置选项：Cookies、历史记录、CacheStorage、文件系统、IndexedDB、本地存储、ServiceWorkers和WebSQL。请注意，不使用browsingData权限以避免请求额外权限。
  * **自动刷新**：在链接配置设置中，您可以指定自动刷新的URL，支持正则表达式。

### 更改
- **高级画中画**：为plyr播放器添加了通用字幕支持。
- **页面保持活动**：增强了保持标签活动的功能。
- **组标签样式**：修改了组内标签的样式。
- **菜单顺序**：调整了标签菜单中项目的顺序。

### 修复
- **画中画**：修复了在画中画播放器中切换视频后标题未更改的问题。
- **自定义组分配**：修复了在高级标签组设置中启用“记住站点分组”选项时，自定义组分配更改未立即生效的问题。现在已解决，无需重启即可立即应用更改。

----


## [2.10.2] - 2024-10-07

- 修复了在某些网站上切换页面后弹幕（弹幕评论）停止或消失的问题（页面隐藏事件）
- 隐藏HTML5视频控件

----
## [2.10.1] - 2024-10-05

### 修复
- 修复了连续播放多个视频时快捷键事件重复触发的问题
- 修复了在某些情况下播放器无法恢复的问题
- 修复了使用画中画模式时播放进度条无法正常工作的问题
- 修复了在同一标签页从有视频的页面导航到没有视频的页面时，切换标签会触发画中画检测提示的问题
- 修复了使用jwPlayer退出画中画模式时画中画窗口未关闭的问题
- 修复了设置背景图片时因地址错误导致页面崩溃的问题

----
---

## [2.10.0] - 2024-10-01

### 添加

- **文档画中画**：引入高级画中画功能，可在扩展的高级版本正式发布前进行免费试用。启用后，它将优先于标准画中画。如果当前页面不支持它，将使用标准模式。高级画中画具有自定义视频播放器，功能包括：

  * **播放/暂停视频**（空格键或K键）
  * **调整音量**（上/下箭头）
  * **静音/取消静音视频**（M键）
  * **快进/倒退视频**（左/右箭头或鼠标滚轮）
  * **快进/倒退视频5秒**（左/右箭头）
  * **快进/倒退视频10秒**（J/L键）
  * **播放下一个视频**（Shift + N键）
  * **播放上一个视频**（Shift + P键）
  * **显示字幕**（支持某些网站，如youtube.com、vimeo.com、tver.jp等）（C键）
  * **显示弹幕**（支持某些网站，如nicovideo.jp、bilibili.com等）（D键）
  * **退出画中画**（Esc键）
  * **切换隐藏/显示视频和播放/暂停**（Q键）
  * **切换全屏**（F键）
  * **调整播放速度**（> 或 <键）
  * **跳转到视频开始/结束**（Home/End键）
  * **跳转到视频的百分比**（0-9键）
  * **调整窗口以适应视频大小**（W键）
  * **从主页面切换画中画**（Alt + P键）
  
  > 如果您经常访问的网站支持字幕或弹幕，您可以提交一个[问题：高级画中画](https://github.com/RabbitPair/colorful_sidepanel_tabs_extension/issues/new?assignees=&labels=&projects=&template=Advanced-Picture-in-Picture.md&title=)，我们将尽快进行适配。请注意，某些网站可能有区域限制，需要提供额外信息。
  
- **画中画快捷键**：新增键盘快捷键Alt+P，可快速切换画中画模式。这使用户无需使用鼠标即可轻松将视频切换到画中画视图，提高生产力和多任务处理能力。
- **底部导航栏切换画中画**：现在可以在底部导航栏添加画中画切换选项。可以在外观设置中的“显示底部导航栏” - “配置”中进行配置。
- **按URL排序标签**：在“更多”菜单中新增“按URL排序标签”选项。
- **标签组折叠行为**：在“高级标签组”菜单中新增“标签组折叠行为”选项。您可以修改浏览器中标签组折叠的行为。选项包括：“显示当前组并折叠其他组”、“展开所有组”和“使用浏览器默认设置”。
- **站点设置**：站点设置中新增三个选项：
  * **画中画限制操作**：配置画中画限制的操作。
  * **自动进入画中画**：进入页面时，如果存在视频，自动进入画中画模式。
  * **字幕设置**：配置页面上字幕元素及其父元素的CSS选择器。

### 更改
- 当侧边栏标签未打开时，如果启用了“标签切换时画中画”（默认启用），将自动进入画中画模式（重要提醒：需要用户交互，例如点击播放视频的页面以激活用户交互）。
- 关闭页面侧边栏时，现在会被移除，而不是隐藏。只有在刷新页面后才会重新出现。

### 修复
- 修复了快速访问列表未处理多个URL的问题。

----
## [2.9.0] - 2024-09-15

- 新增**清除标签**：保存快照并关闭除活动标签外的所有标签。从最近关闭的标签或快照中恢复它们。
- 新增**自动激活标签分组**：在打开新标签时自动创建一个新组。从该标签打开的后续标签将加入该组。
- 新增**列表垂直间距**：高级标签组设置中的新选项，用于调整列表项的垂直间距。
- 新增**将多个URL添加到快速访问**：允许添加组并选择多个标签保存到快速访问。
- 新增**快速访问项间距**：在选项页面中设置快速访问项的垂直/水平间距。

---
## [2.8.0] - 2024-09-12
### 添加
- 添加了**标签历史**：现在您可以轻松查看在同一标签下打开的网站。左键单击以在当前标签中打开网站，中键单击或Ctrl+左键单击以在新标签中打开网站。有关更多详细信息，请查看选项页面。
- 添加了**自定义组名**：在选项页面 - 高级标签组中，您可以在此处添加一些预定义组，以便在需要将标签添加到组时快速选择它们。我们已经预设了一些组名，您可以根据需要修改或删除。
- 添加了**使用书签文件夹名称作为组名**：在选项页面 - 高级标签组中，添加了一个新选项。如果打开的网站是书签，它将自动添加到组中，并且组名将使用书签目录名称。
- 添加了**标签索引**：在选项页面启用后，标签索引将显示在标题旁边，使得可以使用[Ctrl+数字]在Windows上或[cmd+数字]在Mac上轻松激活标签。例如：1. stackoverflow.com 2. youtube，这样在Windows上可以轻松执行Ctrl + 2或在Mac上执行cmd + 2以转到youtube
- **优化了站点设置**：改进了设置站点的背景颜色和字体颜色的选项。

### 更改
- 在检查书签时，允许更新重定向的URL。如果URL不可访问，则显示错误代码：成功响应（200 – 299），重定向消息（300 – 399），客户端错误响应（400 – 499），服务器错误响应（500 – 599）。有关更多详细信息，请参阅：https://developer.mozilla.org/en-US/docs/Web/HTTP/Status

### 修复
- 修复了书签修改弹出窗口未消失的问题

---

## [2.7.0] - 2024-09-05
### 新增
- 新增**书签管理**：新增全功能书签管理功能
- 新增**标签导航栏**：外观选项，显示：标签、书签、历史记录、最近关闭的标签、阅读列表和侧边栏上的快速访问
- 新增**将标签添加到组**菜单：将标签添加到新组或现有组
- 新增搜索关键词高亮
- 新增高级版预订
### 更改
- 调整了Cookie、阅读列表和书签权限为可选权限，需用户授权使用
### 废弃
- **选项页面 - 历史记录 - 在侧边栏显示**：此选项已被*标签导航栏*取代，并将很快被废弃

### 修复
- 修复了首次点击侧边栏时展开组按钮不出现的问题
- 修复了重新打开浏览器并点击扩展图标需要重新选择弹出窗口或侧边栏的问题
- 修复了固定标签图标和快速访问图标大小不一致的问题

---

## [2.6.1] - 2024-08-30

### 更改
- 优化了菜单显示方式，改进了错误提示
- 增加了对基于Chromium的浏览器的更多兼容性

## [2.6.0] - 2024-08-28
### 新增
- 新增**标签菜单缩放**：标签菜单新增缩放功能，允许您自由调整缩放级别从1%到1000%。

### 更改
- 快速访问已移至单独的菜单项。
- 优化了拖放排序

### 修复
- 修复了更改字体颜色后某些区域未更改的问题。

### 废弃
- **标签菜单中的快速访问**：快速访问已移至单独的菜单项。标签菜单中的选项将很快被废弃（功能保持不变）。

### 移除
- 从站点设置中移除了缩放选项，因为在菜单中调整缩放无法直观预览更改。缩放功能已移至标签菜单以进行实时预览。

---

## [2.5.2] - 2024-08-27

### 修复

- 修复了重新启动应用程序后保存的背景图像丢失的问题
- 修复了从所有窗口关闭同一站点的所有标签失败的问题
- 修复了禁用拖放时的崩溃问题

------

## [2.5.0] - 2024-08-25

### 新增

- 支持在标签顺序中拖放排序标签和组，并与Chrome同步
- 与Chrome同步组展开状态

### 修复
- 修复了上传过大背景图像文件导致的QUOTA_BYTES配额超出错误
- 修复了显示所有窗口标签导致错误和按站点分组失败的问题

---

## [2.4.0] - 2024-08-20

### 新增
- 新增**上传背景图像**：您可以从本地设备上传图像作为背景。
- 新增**自定义背景颜色**：现在支持自定义背景颜色，您还可以选择一种颜色生成美丽的渐变

### 更改

- **字体颜色**：字体颜色将根据背景或背景图像的主色自动更改为黑色或白色。如果图像较大，应用背景可能需要一些时间，这是正常的。

### 修复
- 修复了更改字体颜色后某些区域未更改的问题

### 废弃
- **列表背景样式**：此功能为每个列表设置背景样式，具有一些内置的渐变颜色。然而，随着自定义背景颜色的发布，它的使命已经完成，很快将被移除。

---

## [2.3.0] - 2024-08-16

### 新增
- 新增**页面侧边栏**：页面侧边栏允许您在浏览的网页中注入侧边栏，而无需打开浏览器侧边栏来管理标签。这对于屏幕分辨率较小且觉得浏览器侧边栏太宽且不可调整的用户非常有用。然而，由于一些限制，页面侧边栏仅提供非常有限的功能。启用此功能时，您可以使用鼠标悬停在窗口边缘以调出侧边栏。

### 移除
- 移除**浮动球**

## [2.2.0] - 2024-08-14

### 新增
- 新标签菜单**保持标签活动**：保持标签活动，以便它不会被自动丢弃。

### 更改
- 优化性能并减少包大小。

---

## [2.1.0] - 2024-08-10

### 新增
- 自动保存窗口、组和标签快照。重新启动浏览器后，如果只打开一个窗口并且打开的新标签少于5个，当侧边栏打开时会提示恢复上次保存的窗口和标签信息。

### 更改
- 优化快速访问的存储数据以加快访问时间。

### 修复
- 修复了其他小问题。

---

## [2.0.1] - 2024-08-09

### 修复
- 修复了快照导入成功消息格式。
- 修复了重复导入导致的快速访问条目重复问题。

---

## [2.0.0] - 2024-08-08

### 更改
- 将扩展名从“Colorful Side Panel Tabs”重命名为**“VertiTab - Side Panel Vertical Tabs”**。

### 新增
- 快照：新增一键保存浏览器标签快照功能。您可以在关闭浏览器前保存快照，并在下次打开时快速恢复。目前最多可以保存50个快照。
- 增强的底部导航栏：从底部导航栏访问更多功能，如书签、历史记录、最近关闭的标签、阅读列表、快速访问、打开新标签、创建快照、搜索、折叠组等。
- 更新的导入/导出功能：改进的导入和导出选项，以更好地管理跨设备的标签。

### 修复
- 错误修复和稳定性改进。

---

## [1.3.3] - 2022-08-04

### 新增
- **链接设置**：站点设置现在包括一个新选项，允许您添加规则以控制站点链接是在当前标签中打开还是在新标签中打开。

## [1.3.2] - 2024-08-02

### 修复
- 修复了点击中键关闭标签不起作用的问题。

---

## [1.3.1] - 2024-08-01

### 更改
- 优化了快速访问的布局，并增加了对拖放排序的支持。
- 改进了展开所有组并记住其状态的逻辑。

### 修复
- 修复了在侧边栏未打开时导入快速访问数据失败的问题。
- 修复了组视图中图标未对齐的问题。
- 修复了其他小问题。

---

## [1.3.0] - 2024-07-30

### 新增
- **导入/导出**：导出用户偏好、快速访问、网站设置和最近关闭的标签数据，并将其导入到另一个浏览器中以同步扩展数据。
- **从历史记录中选择快速访问**：您可以从历史记录中搜索最常访问的网站并将其添加到快速访问。
- **工具栏更多选项**：在工具栏中添加更多选项。您可以隐藏工具栏上的标签，并控制工具栏上显示的图标。

### 更改
- **搜索框**：搜索框现在支持Enter键在新标签中搜索关键词。如果输入关键词后没有匹配的标签或历史记录，您可以按Enter键使用默认搜索引擎进行搜索。
- **数据初始化**：调整数据初始化的时机，并优化因数据修改导致的重复渲染。
- **更新日志URL**：将更新日志URL更新为GitHub上的发布URL。
- **布局优化**：优化窗口大小变化时的布局变化。
- **错误日志记录**：使用Sentry收集错误日志。请放心，此功能不会收集您的私人数据。

### 修复
- **工具提示位置错误**：修复了在工具栏中切换主题和视图时工具提示闪烁的问题。
- **底部导航**：修复了底部导航在打开许多标签时阻挡列表的问题。

---

## [1.2.3] - 2024-07-23

### 修复
- 修复了固定标签和快速访问图标超过1行时列表滚动高度计算不正确的问题。

### 更改
- 更改丢弃不活动标签以排除固定标签。
- 更改关闭所有丢弃的标签以排除固定标签。
- 调整固定和快速访问图标的大小。

---

## [1.2.2] - 2024-07-19

### 新增
- 新增快速访问：您可以设置一个标签在快速访问中显示，以便于查找。只需右键单击（或长按）它并选择“固定到快速访问”。当您不再需要它时，通过右键单击（或长按）它并选择“从快速访问中删除”将其取消固定。与固定标签的区别在于，快速访问保存URL，每次点击时都会打开一个新标签。

### 更改
- 固定标签仅显示图标，以防止意外点击后取消固定。
- 修改固定标签图标的大小。

---

## [1.2.1] - 2022-07-17

### 新增
- 在底部导航中新增菜单：丢弃不活动标签。
- 在底部导航中新增菜单：关闭所有丢弃的标签。

### 更改
- 更改底部导航菜单“按站点分组”仅影响当前窗口。

### 修复
- 修复了在列表中切换活动标签时由于高度不一致导致的UI跳动问题。

---

## [1.2.0] - 2024-07-16

### 新增
- 新增站点配置：自定义站点特定设置，如禁用画中画模式、禁用自动丢弃模式等。

### 修复
- 修复自动创建或加入同一域组：解决了更新标签时自动创建或加入同一域组不起作用的问题。
- 修复页面未接收配置更新消息：确保页面正确接收配置更新消息。
- 修复其他错误：解决了各种其他错误以提高稳定性和性能。

### 更改
- 新增选项以在悬停时显示关闭按钮：新增选项仅在悬停时显示关闭按钮。

---

## [1.1.0] - 2024-07-13

### 新增
- 新增性能选项：引入新的性能设置以自定义和增强您的浏览体验。
- 新增滚动到活动标签图标：通过新的滚动到活动标签图标轻松导航到活动标签。
- 新增按域排序标签：通过新的排序功能按域组织您的标签。
- 静音所有发出声音的标签：快速静音所有正在播放声音的标签，以获得更安静的浏览体验。

### 更改
- 移除恢复图标：恢复图标已被移除，并替换为列表文本不透明度设置为0.5，以获得更简洁的外观。

### 废弃
- 移除拖放排序：当前的拖放排序解决方案存在性能问题，已被暂时移除。

---

## [1.0.4] - 2024-07-09

### 新增
- 标签的拖放排序：通过拖放功能轻松重新排列您的标签。

### 更改
- 优化页面加载速度：进一步增强页面加载速度，以获得更流畅的浏览体验。

---

## [1.0.3] - 2024-07-05

### 修复
- 修复混合视图菜单错误：解决了混合视图菜单显示错误的问题。

### 更改
- 优化标签组域菜单：增强了标签组域菜单的组织和可用性。
- 优化标签填充：调整标签填充以获得更简洁和更具视觉吸引力的布局。

## [1.0.2] - 2024-07-04

### 新增
- 当前活动标签指示器：通过新的视觉指示器轻松识别活动标签。
- 自定义字体颜色：通过设置自定义字体颜色个性化您的界面。

### 更改
- 优化加载速度：改进加载速度，以获得更快和更流畅的用户体验。

### 默认设置
- 设置默认不使用彩色模式：默认设置现在使用单色模式，以获得简化的外观。

---

## [1.0.1] - 2024-07-02

### 新增
- 按时间范围完整历史记录：通过按时间范围排序的详细记录访问和管理您的浏览历史。
- 列表的单色模式：引入单色模式，以获得简化和一致的列表外观。

### 更改
- 完整音频进度条更新时机：增强音频进度条更新的准确性，以获得更流畅的多媒体体验。
- 优化列表图标获取方法：改进获取列表图标的方法，导致更快和更可靠的图标加载。

### 修复
- 修复多窗口中显示不正确的激活状态问题：解决了在打开多个窗口时激活状态显示不正确的问题。

---

## [1.0.0] - 2024-06-29

### 新增
- 亮/暗模式切换：选择亮模式和暗模式以匹配您的偏好。
- 可自定义的字体大小：调整字体大小以获得更舒适的阅读体验。
- 可自定义的界面布局：根据您的使用习惯个性化界面布局。
- 个性化选项：添加彩色背景和背景图像，使您的侧边栏独一无二。
- 高级标签管理：缩略图预览、丰富的排序和显示选项以及全面的操作菜单，以实现高效的标签管理。
- 搜索功能：快速搜索最近关闭的标签或浏览历史记录，以找到您需要的内容。
- 画中画模式：在更换标签或滚动页面时无缝切换到画中画模式。
- 自动分组：根据相同域自动创建或加入组，以获得更好的组织。
- 阅读进度条：实时跟踪您的阅读进度，以了解您阅读了多远。
- 播放进度条：控制多媒体播放，提供快进、倒带、音量控制和播放速度调整选项。
